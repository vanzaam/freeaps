Skipping updateConnections until state is poweredOn
OmniBLE centralManager(_:willRestoreState:): {
    kCBRestoredPeripherals =     (
        "<CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = connecting>"
    );
}
Created device
centralManagerDidUpdateState(_:): 5
Re-connecting to known peripheral EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7
centralManager(_:didDisconnectPeripheral:error:): error=The specified device has disconnected from us. <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = disconnected>
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: Pod disconnected EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7 Optional(Error Domain=CBErrorDomain Code=7 "The specified device has disconnected from us." UserInfo={NSLocalizedDescription=The specified device has disconnected from us.})
omnipodPeripheralDidDisconnect... will auto-reconnect
Reconnecting disconnected autoconnect peripheral
NightscoutManager.swift - subscribe() - 74 DEV: Network status: reachable by WiFi
NightscoutAPI.swift - performFetch(queryItems:logName:) - 255 DEV: Fetching Temp Target to delete: https://vanzaam.aw2.ru/api/v1/treatments.json?find%5BeventType%5D=Temporary%20Target&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T20:46:23.088Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T21:06:23.088Z&find%5BenteredBy%5D=freeaps-x&count=100
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary%20Target&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T20:46:23.088Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T21:06:23.088Z&find%5BenteredBy%5D=freeaps-x&count=100
centralManager(_:didConnect:): <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = connected>
PeripheralManager - didConnect: <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = connected>
PeripheralManager - didConnect - running assertConfiguration
Applying configuration
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: Pod connected EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7
NightscoutAPI.swift - performFetch(queryItems:logName:) - 255 DEV: Fetching Temp Target to delete: https://vanzaam.aw2.ru/api/v1/treatments.json?find%5BeventType%5D=Temporary%20Target&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T21:32:29.426Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T21:52:29.426Z&find%5BenteredBy%5D=freeaps-x&count=100
didReadRSSI: -62
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary%20Target&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T21:32:29.426Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T21:52:29.426Z&find%5BenteredBy%5D=freeaps-x&count=100
NightscoutAPI.swift - performFetch(queryItems:logName:) - 255 DEV: Fetching Temp Target to delete: https://vanzaam.aw2.ru/api/v1/treatments.json?find%5BeventType%5D=Temporary%20Target&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T19:46:19.074Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T20:06:19.074Z&find%5BenteredBy%5D=freeaps-x&count=100
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary%20Target&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T19:46:19.074Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T20:06:19.074Z&find%5BenteredBy%5D=freeaps-x&count=100
NightscoutAPI.swift - performFetch(queryItems:logName:) - 255 DEV: Fetching Bolus to delete: https://vanzaam.aw2.ru/api/v1/treatments.json?find%5BeventType%5D=Bolus&find%5Binsulin%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T20:56:37.407Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T21:16:37.407Z&find%5BenteredBy%5D=freeaps-x&count=100
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Bolus&find%5Binsulin%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T20:56:37.407Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T21:16:37.407Z&find%5BenteredBy%5D=freeaps-x&count=100
NightscoutAPI.swift - performFetch(queryItems:logName:) - 255 DEV: Fetching Bolus to delete: https://vanzaam.aw2.ru/api/v1/treatments.json?find%5BeventType%5D=Bolus&find%5Binsulin%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T19:57:57.808Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T20:17:57.808Z&find%5BenteredBy%5D=freeaps-x&count=100
HealthKitManager.swift - init(resolver:) - 95 DEV: HealthKitManager did create
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Bolus&find%5Binsulin%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T19:57:57.808Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T20:17:57.808Z&find%5BenteredBy%5D=freeaps-x&count=100
didDiscoverServices
Restoring peripheral from state: B9AB9AF1-6354-C8ED-24A7-00FD69122AAA
Connecting to peripheral: B9AB9AF1-6354-C8ED-24A7-00FD69122AAA
Discovered service: <CBService: 0x156771f40, isPrimary = YES, UUID = 1A7E4024-E3ED-4464-8B7E-751E03D0DC5F>
API MISUSE: <CBCentralManager: 0x1566dc540> can only accept this command while in the powered on state
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
FetchGlucoseManager.swift - subscribe() - 63 DEV: FetchGlucoseManager heartbeat
Unable to run command: central state = Optional("unknown"), peripheral state = CBPeripheralState(rawValue: 1)
FetchGlucoseManager.swift - subscribe() - 64 DEV: Start fetching glucose
FetchTreatmentsManager.swift - subscribe() - 26 DEV: FetchTreatmentsManager heartbeat
FetchTreatmentsManager.swift - subscribe() - 27 DEV: Start fetching carbs and temptargets
Error applying peripheral configuration: notReady
Restoring peripheral from state: E926E760-258A-38B6-1809-3D3BC7BC94A7
Connecting to peripheral: E926E760-258A-38B6-1809-3D3BC7BC94A7
API MISUSE: <CBCentralManager: 0x1566dc540> can only accept this command while in the powered on state
assertConfiguration
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5, F8083538-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Restoring peripheral from state: AF975C27-1624-F114-76E3-514F1731EFCE
Connecting to peripheral: AF975C27-1624-F114-76E3-514F1731EFCE
API MISUSE: <CBCentralManager: 0x1566dc540> can only accept this command while in the powered on state
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
Unable to run command: central state = Optional("unknown"), peripheral state = CBPeripheralState(rawValue: 1)
Error applying peripheral configuration: notReady
Restoring peripheral from state: 5DFBA815-D9D7-679E-B6BE-2887E06E54BB
Connecting to peripheral: 5DFBA815-D9D7-679E-B6BE-2887E06E54BB
API MISUSE: <CBCentralManager: 0x1566dc540> can only accept this command while in the powered on state
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
Unable to run command: central state = Optional("unknown"), peripheral state = CBPeripheralState(rawValue: 1)
Error applying peripheral configuration: notReady
centralManagerDidUpdateState(_:): 5
Found system-connected peripheral: E926E760-258A-38B6-1809-3D3BC7BC94A7
Connecting to peripheral: E926E760-258A-38B6-1809-3D3BC7BC94A7
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5Bcarbs%5D%5B$exists%5D=true&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:48:18.320Z
assertConfiguration
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5, F8083538-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Scanning for peripherals and listening for connection events
centralManager(_:didDiscover:advertisementData:rssi:): <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>, data = ["kCBAdvDataLocalName": DXCMHK, "kCBAdvDataServiceUUIDs": <__NSArrayM 0x1567c4570>(
FEBC
)
, "kCBAdvDataManufacturerData": <d00073a5 0204>, "kCBAdvDataTimestamp": 780284891.554129, "kCBAdvDataRxPrimaryPHY": 1, "kCBAdvDataRxSecondaryPHY": 0, "kCBAdvDataIsConnectable": 1]
centralManager(_:didConnect:): <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
didConnect to E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
centralManager(_:didConnect:): <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
didConnect to E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
Connecting to peripheral: E926E760-258A-38B6-1809-3D3BC7BC94A7
Discovering servicesToDiscover []
assertConfiguration
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5, F8083538-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Listening for authentication responses for Optional("DXCMHK")
Set notify true for <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary+Target&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bduration%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:48:18.322Z
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5, F8083538-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Discovered peripheral from connectionEventDidOccur E926E760-258A-38B6-1809-3D3BC7BC94A7
Connecting to peripheral: E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5, F8083538-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
centralManager(_:didConnect:): <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
didConnect to E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
centralManager(_:didConnect:): <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
didConnect to E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5, F8083538-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Listening for authentication responses for Optional("DXCMHK")
Set notify true for <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
HealthKitManager.swift - fetch() - 298 DEV: Start fetching HealthKitManager
HealthKitManager.swift - fetch() - 300 DEV: HealthKitManager cant return any data, because useAppleHealth option is disable
Found system-connected peripheral: E926E760-258A-38B6-1809-3D3BC7BC94A7
PodComms completeConfiguration: isPaired=true needsSessionEstablishment=true
Connecting to peripheral: E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5, F8083538-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Scanning for peripherals and listening for connection events
centralManager(_:didConnect:): <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
didConnect to E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
Discovered peripheral from connectionEventDidOccur E926E760-258A-38B6-1809-3D3BC7BC94A7
Connecting to peripheral: E926E760-258A-38B6-1809-3D3BC7BC94A7
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
assertConfiguration
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5, F8083538-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
Listening for authentication responses for Optional("DXCMHK")
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5, F8083538-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Set notify true for <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
centralManager(_:didConnect:): <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
didConnect to E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5, F8083538-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Listening for authentication responses for Optional("DXCMHK")
Set notify true for <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
NightscoutAPI.swift - performFetch(queryItems:logName:) - 255 DEV: Fetching Temp Target (fallback) to delete: https://vanzaam.aw2.ru/api/v1/treatments.json?find%5BeventType%5D=Temporary%20Target&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T19:36:19.074Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T20:16:19.074Z&count=100
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary%20Target&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T19:36:19.074Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T20:16:19.074Z&count=100
UserNotificationsManager.swift - requestNotificationPermissionsIfNeeded() - 288 DEV: UNUserNotificationCenter.authorizationStatus: UNAuthorizationStatus(rawValue: 2)
NightscoutAPI.swift - deleteTreatmentsByIds(_:logName:) - 352 DEV: DELETE Bolus by _id: 68d1f6fcbc5d6c9f3d8a3738
NetworkService.swift - run(_:) - 17 DEV: DELETE  ***/api/v1/treatments/68d1f6fcbc5d6c9f3d8a3738
NightscoutAPI.swift - deleteTreatmentsByIds(_:logName:) - 352 DEV: DELETE Bolus by _id: 68d1f6fcbc5d6c9f3d8a362d
NetworkService.swift - run(_:) - 17 DEV: DELETE  ***/api/v1/treatments/68d1f6fcbc5d6c9f3d8a362d
NightscoutAPI.swift - performFetch(queryItems:logName:) - 255 DEV: Fetching Temp Target (fallback) to delete: https://vanzaam.aw2.ru/api/v1/treatments.json?find%5BeventType%5D=Temporary%20Target&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T21:22:29.426Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T22:02:29.426Z&count=100
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary%20Target&find%5Bcreated_at%5D%5B$gte%5D=2025-09-22T21:22:29.426Z&find%5Bcreated_at%5D%5B$lte%5D=2025-09-22T22:02:29.426Z&count=100
NightscoutAPI.swift - deleteTreatmentsByIds(_:logName:) - 352 DEV: DELETE Temp Target by _id: 68d1e6efbc5d6c9f3d7c8f8a
NetworkService.swift - run(_:) - 17 DEV: DELETE  ***/api/v1/treatments/68d1e6efbc5d6c9f3d7c8f8a
NightscoutAPI.swift - deleteTreatmentsByIds(_:logName:) - 352 DEV: DELETE Temp Target by _id: 68d1e6efbc5d6c9f3d7c8fbb
UserNotificationsManager.swift - ensureCanSendNotification(_:) - 313 DEV: Sending notification was allowed
NetworkService.swift - run(_:) - 17 DEV: DELETE  ***/api/v1/treatments/68d1e6efbc5d6c9f3d7c8fbb
WatchManager.swift - session(_:activationDidCompleteWith:error:) - 228 DEV: WCSession is activated: true
NightscoutManager.swift - processPendingDeletions() - 417 DEV: Pending deletion failed: Не удалось завершить операцию. (FreeAPS.NightscoutAPI.Error, ошибка 2)
Application context data is nil
WatchManager.swift - session(_:activationDidCompleteWith:error:) - 237 DEV: WCSession activated successfully
WatchManager.swift - session(_:activationDidCompleteWith:error:) - 239 DEV: Watch is paired
WatchManager.swift - session(_:activationDidCompleteWith:error:) - 241 DEV: Watch app is installed
Application context data is nil
NightscoutManager.swift - processPendingDeletions() - 415 DEV: Pending deletion processed: tempTarget(2025-09-22 20:56:23 +0000)
NightscoutManager.swift - processPendingDeletions() - 415 DEV: Pending deletion processed: bolus(2025-09-22 20:07:57 +0000, 0.5)
NightscoutManager.swift - processPendingDeletions() - 415 DEV: Pending deletion processed: bolus(2025-09-22 21:06:37 +0000, 0.2)
NightscoutManager.swift - processPendingDeletions() - 415 DEV: Pending deletion processed: tempTarget(2025-09-22 19:56:19 +0000)
SMB-Basal Manager initialized: isEnabled=true
SMB-Basal Manager starting...
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
FreeAPSApp.swift - body - 53 DEV: APPLICATION PHASE: active
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 14min, IOB: 0.09966612059166486528
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 22min, IOB: 0.04871679973367003136
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 48min, IOB: 0.1647396786577819648
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 61min, IOB: 0.14631006545973272576
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 66min, IOB: 0.13811916014511280128
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 70min, IOB: 0.13277985562905554944
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 76min, IOB: 0.12385386149154582528
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 82min, IOB: 0.1156180602314285056
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 90min, IOB: 0.10411465971148230656
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 94min, IOB: 0.09915761587256901632
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 99min, IOB: 0.18334540124873887744
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 119min, IOB: 0.13766905378194921472
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 129min, IOB: 0.0144358128736178688
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 131min, IOB: 0.0282133789458602752
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 131min, IOB: 0.02811677839283180544
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 131min, IOB: 0.02802649188120894464
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 156min, IOB: 0.07179629970525927424
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 163min, IOB: 0.015584372833079502848
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 176min, IOB: 0.011955809805721878528
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 190min, IOB: 0.08783270900189018112
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 192min, IOB: 0.06614349454214893568
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 199min, IOB: 0.06757799613975789568
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 204min, IOB: 0.05329518377601204224
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 214min, IOB: 0.01919470655783102464
  SMB-Basal IOB: 1.1334156462639869952U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1334156462639869952U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:48:19 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.986263367009951232 U
  Наш Basal IOB: 1.1334156462639869952 U
  Наш Total IOB: 3.1196790132739382272 U
  РАЗНИЦА: 3.1196790132739382272 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 14мин, остаток: 99.7%, IOB: 0.100U
  Bolus: 0.05U, возраст: 22мин, остаток: 97.4%, IOB: 0.049U
  Bolus: 0U, возраст: 38мин, остаток: 89.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 48мин, остаток: 82.4%, IOB: 0.165U
  SMB: 0.2U, возраст: 61мин, остаток: 73.2%, IOB: 0.146U
  SMB: 0.2U, возраст: 66мин, остаток: 69.1%, IOB: 0.138U
  SMB: 0.2U, возраст: 70мин, остаток: 66.4%, IOB: 0.133U
  SMB: 0.2U, возраст: 76мин, остаток: 61.9%, IOB: 0.124U
  SMB: 0.2U, возраст: 82мин, остаток: 57.8%, IOB: 0.116U
  SMB: 0.2U, возраст: 90мин, остаток: 52.1%, IOB: 0.104U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.986263367009951232
  Custom Basal IOB: 1.1334156462639869952
  Custom Total IOB: 3.1196790132739382272
  Difference: 3.1196790132739382272
SMB-Basal: Custom IOB saved for middleware - Total: 3.1196790132739382272U
SMB-Basal: Middleware installed successfully
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending glucocoseNotification notification
Session Established
msgSequenceNumber: 3
Setting podState transport state to ## MessageTransportState
eapSeq: 1359
msgSeq: 3
nonceSeq: 0
messageNumber: 9
Scheduling session Post-connect status fetch
Delegate configuration notified
Peripheral configuration completed
======================== Post-connect status fetch ===========================
Send(Hex): 17a8db2d20030e01078146
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d20030e01078146
Recv(Hex): 17a8db2d240a1d28040cb0004044c7ff03c1
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d240a1d28040cb0004044c7ff03c1
POD Response: StatusResponse(deliveryStatus:Подается временный базал, progressStatus:Норма, timeActive:73h21m, reservoirLevel:50+, insulinDelivered:103.65, bolusNotDelivered:0.00, lastProgrammingMessageSeqNum:6, alerts:slot7Expired)
DeviceDataManager.swift - pumpManager(_:hasNewPumpEvents:lastReconciliation:replacePendingEvents:completion:) - 465 DEV: New pump events:
ВБС
DU: Stored pod events: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно]
Stored doses: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно]
------------------------ Post-connect status fetch ---------------------------
Start of idle at Optional(2025-09-23 01:48:20 +0000)
Listening for authentication responses for Optional("DXCMHK")
Set notify true for <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
Listening for authentication responses for Optional("DXCMHK")
Set notify true for <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [-]: Sensor error Error enabling notification for authentication: timeout
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [-]: Sensor error Error enabling notification for authentication: timeout
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [-]: Sensor error Error enabling notification for authentication: timeout
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [-]: Sensor error Error enabling notification for authentication: timeout
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [-]: Sensor error Error enabling notification for authentication: timeout
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [-]: Sensor error Error enabling notification for authentication: timeout
centralManager(_:didDisconnectPeripheral:error:): <CBPeripheral: 0x1566064c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = disconnected>
Discovered peripheral from connectionEventDidOccur E926E760-258A-38B6-1809-3D3BC7BC94A7
Not connecting to unnamed peripheral: <CBPeripheral: 0x1572a48c0, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = (null), mtu = 23, state = disconnected>
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 14min, IOB: 0.09965360811520684032
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 22min, IOB: 0.04870118696127849472
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 49min, IOB: 0.1646205988446503936
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 61min, IOB: 0.14618451443673970688
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 67min, IOB: 0.1379934244000566272
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 70min, IOB: 0.13265467249298169856
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 76min, IOB: 0.1237306204383414272
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 82min, IOB: 0.11549760264192151552
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 90min, IOB: 0.10399947286667956224
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 94min, IOB: 0.09904514872199964672
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 99min, IOB: 0.18312962261430566912
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 119min, IOB: 0.13748764593850957824
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 129min, IOB: 0.01441563606918407168
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 131min, IOB: 0.02817365410162476032
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 131min, IOB: 0.02807714646250642432
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 131min, IOB: 0.02798694694013251584
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 156min, IOB: 0.07168073687083787264
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 163min, IOB: 0.01555828017416267776
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 176min, IOB: 0.011934279198477070336
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 190min, IOB: 0.08766055099527350272
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 192min, IOB: 0.0660116597402569728
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 199min, IOB: 0.0674375298817384448
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 204min, IOB: 0.05318038727319832576
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 214min, IOB: 0.0191500504416230144
  SMB-Basal IOB: 1.1323044584815280128U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1323044584815280128U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:48:24 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.983964976621687296 U
  Наш Basal IOB: 1.1323044584815280128 U
  Наш Total IOB: 3.1162694351032153088 U
  РАЗНИЦА: 3.1162694351032153088 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 14мин, остаток: 99.7%, IOB: 0.100U
  Bolus: 0.05U, возраст: 22мин, остаток: 97.4%, IOB: 0.049U
  Bolus: 0U, возраст: 38мин, остаток: 89.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 49мин, остаток: 82.3%, IOB: 0.165U
  SMB: 0.2U, возраст: 61мин, остаток: 73.1%, IOB: 0.146U
  SMB: 0.2U, возраст: 67мин, остаток: 69.0%, IOB: 0.138U
  SMB: 0.2U, возраст: 70мин, остаток: 66.3%, IOB: 0.133U
  SMB: 0.2U, возраст: 76мин, остаток: 61.9%, IOB: 0.124U
  SMB: 0.2U, возраст: 82мин, остаток: 57.7%, IOB: 0.115U
  SMB: 0.2U, возраст: 90мин, остаток: 52.0%, IOB: 0.104U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.983964976621687296
  Custom Basal IOB: 1.1323044584815280128
  Custom Total IOB: 3.1162694351032153088
  Difference: 3.1162694351032153088
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.1162694351032153088
  Difference: 3.1162694351032153088
  Show Custom: true
SMB-Basal: tick() - processing basal replacement
SMB-Basal: Updated compensation units: 0 U from 0 failed pulses
SMB-Basal: Current temp basal rate: 0 U/h, remaining: 10 min, isZero: true
Scanning for peripherals and listening for connection events
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 14min, IOB: 0.09964097189503516672
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 22min, IOB: 0.04868561037978984448
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 49min, IOB: 0.16450231301824376832
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 61min, IOB: 0.14605986766858842112
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 67min, IOB: 0.13786861457537695744
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 70min, IOB: 0.13253042257330276352
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 76min, IOB: 0.12360831448257841152
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 82min, IOB: 0.11537807185395478528
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 90min, IOB: 0.10388518727399686144
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 94min, IOB: 0.0989335672959625216
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 99min, IOB: 0.18291555906438377472
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 119min, IOB: 0.13730771679154200576
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 130min, IOB: 0.014395625647119650816
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 131min, IOB: 0.02813425729056639488
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 131min, IOB: 0.02803784186467504128
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 131min, IOB: 0.02794772867520351744
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 156min, IOB: 0.07156615068924649472
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 163min, IOB: 0.015532409420526063616
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 176min, IOB: 0.01191293376276125696
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 190min, IOB: 0.0874898924703177728
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 193min, IOB: 0.0658809760601320448
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 199min, IOB: 0.06729829775674851328
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 204min, IOB: 0.05306660472150470656
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 214min, IOB: 0.01910579334672717312
  SMB-Basal IOB: 1.1312019238510016512U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1312019238510016512U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:48:29 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.981684728578283008 U
  Наш Basal IOB: 1.1312019238510016512 U
  Наш Total IOB: 3.1128866524292846592 U
  РАЗНИЦА: 3.1128866524292846592 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 14мин, остаток: 99.6%, IOB: 0.100U
  Bolus: 0.05U, возраст: 22мин, остаток: 97.4%, IOB: 0.049U
  Bolus: 0U, возраст: 38мин, остаток: 89.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 49мин, остаток: 82.3%, IOB: 0.165U
  SMB: 0.2U, возраст: 61мин, остаток: 73.0%, IOB: 0.146U
  SMB: 0.2U, возраст: 67мин, остаток: 68.9%, IOB: 0.138U
  SMB: 0.2U, возраст: 70мин, остаток: 66.3%, IOB: 0.133U
  SMB: 0.2U, возраст: 76мин, остаток: 61.8%, IOB: 0.124U
  SMB: 0.2U, возраст: 82мин, остаток: 57.7%, IOB: 0.115U
  SMB: 0.2U, возраст: 90мин, остаток: 51.9%, IOB: 0.104U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.981684728578283008
  Custom Basal IOB: 1.1312019238510016512
  Custom Total IOB: 3.1128866524292846592
  Difference: 3.1128866524292846592
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.1128866524292846592
  Difference: 3.1128866524292846592
  Show Custom: true
[u 23EFC09E-EB1D-4372-8AEB-E82F84085C0E:m (null)] [com.swiftkey.SwiftKeyApp.Keyboard(4.2.5)] RB query for the extension process state failed with error: Error Domain=RBSServiceErrorDomain Code=1 "Client not entitled" UserInfo={RBSEntitlement=com.apple.runningboard.process-state, NSLocalizedFailureReason=Client not entitled, RBSPermanent=false}
App is being debugged, do not track this hang
Hang detected: 1.91s (debugger attached, not reporting)
App is being debugged, do not track this hang
Hang detected: 0.64s (debugger attached, not reporting)
App is being debugged, do not track this hang
Hang detected: 0.81s (debugger attached, not reporting)
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 14min, IOB: 0.09962814098277584896
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 23min, IOB: 0.04866997951325247488
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 49min, IOB: 0.16438412582046001152
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 61min, IOB: 0.14593539132509222912
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 67min, IOB: 0.13774399555437463552
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 70min, IOB: 0.13240637386867959808
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 76min, IOB: 0.12348622281312483328
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 82min, IOB: 0.11525876320637827072
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 90min, IOB: 0.10377112895380297728
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 94min, IOB: 0.09882221347025682432
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 100min, IOB: 0.18270194776838017024
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 119min, IOB: 0.13712820429506162688
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 130min, IOB: 0.014375663464007430144
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 131min, IOB: 0.0280949559030455552
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 131min, IOB: 0.02799863253310016512
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 131min, IOB: 0.02790860552893993984
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 156min, IOB: 0.07145186426091401216
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 163min, IOB: 0.015506607723185727488
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 176min, IOB: 0.011891647353965017088
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 190min, IOB: 0.08731972459984238592
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 193min, IOB: 0.0657506709372431872
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 199min, IOB: 0.0671594765470882816
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 204min, IOB: 0.05295316329337925632
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 214min, IOB: 0.0190616734987033344
  SMB-Basal IOB: 1.1300986017142556672U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1300986017142556672U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:48:34 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.979409173215053312 U
  Наш Basal IOB: 1.1300986017142556672 U
  Наш Total IOB: 3.1095077749293089792 U
  РАЗНИЦА: 3.1095077749293089792 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 14мин, остаток: 99.6%, IOB: 0.100U
  Bolus: 0.05U, возраст: 23мин, остаток: 97.3%, IOB: 0.049U
  Bolus: 0U, возраст: 38мин, остаток: 89.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 49мин, остаток: 82.2%, IOB: 0.164U
  SMB: 0.2U, возраст: 61мин, остаток: 73.0%, IOB: 0.146U
  SMB: 0.2U, возраст: 67мин, остаток: 68.9%, IOB: 0.138U
  SMB: 0.2U, возраст: 70мин, остаток: 66.2%, IOB: 0.132U
  SMB: 0.2U, возраст: 76мин, остаток: 61.7%, IOB: 0.123U
  SMB: 0.2U, возраст: 82мин, остаток: 57.6%, IOB: 0.115U
  SMB: 0.2U, возраст: 90мин, остаток: 51.9%, IOB: 0.104U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.979409173215053312
  Custom Basal IOB: 1.1300986017142556672
  Custom Total IOB: 3.1095077749293089792
  Difference: 3.1095077749293089792
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.1095077749293089792
  Difference: 3.1095077749293089792
  Show Custom: true
AddGlucoseStateModel.swift - add() - 19 DEV: AddGlucose: start units=mmol/L input=7.6
AddGlucoseStateModel.swift - add() - 30 DEV: AddGlucose: converted to mg/dL=137 at 2025-09-23 01:48:30 +0000
AddGlucoseStateModel.swift - add() - 55 DEV: AddGlucose: stored locally id=8B3AEE45-501D-4326-8899-F223C5BBEA46
DeviceDataManager.swift - updatePumpData() - 215 DEV: Start updating the pump data
DeviceDataManager.swift - updatePumpData() - 218 DEV: Waiting for pump update and loop recommendation
Skipping status update because pumpData is fresh
DeviceDataManager.swift - updatePumpData() - 221 DEV: Pump data updated.
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/entries.json
AddGlucoseStateModel.swift - add() - 58 DEV: AddGlucose: requested NS upload
AddGlucoseStateModel.swift - add() - 60 DEV: AddGlucose: requested HealthKit save
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
UserNotificationsManager.swift - ensureCanSendNotification(_:) - 313 DEV: Sending notification was allowed
[u 23EFC09E-EB1D-4372-8AEB-E82F84085C0E:m (null)] [com.swiftkey.SwiftKeyApp.Keyboard(4.2.5)] Connection to plugin interrupted while in use.
[u 23EFC09E-EB1D-4372-8AEB-E82F84085C0E:m (null)] [com.swiftkey.SwiftKeyApp.Keyboard(4.2.5)] Connection to plugin invalidated while in use.
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending glucocoseNotification notification
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 14min, IOB: 0.09961511931678937088
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 23min, IOB: 0.04865429777787094016
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 49min, IOB: 0.164266059239435264
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 61min, IOB: 0.14581110806391455744
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 67min, IOB: 0.13761958986923823104
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 70min, IOB: 0.13228254872362991616
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 76min, IOB: 0.1233643673004622848
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 82min, IOB: 0.11513969797607954432
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 90min, IOB: 0.10365731813576339456
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 94min, IOB: 0.09871110695247294464
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 100min, IOB: 0.1824888264158570496
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 119min, IOB: 0.136949139853747712
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 130min, IOB: 0.014355752998294003712
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 131min, IOB: 0.0280557567841476608
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 131min, IOB: 0.02795952529635672064
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.027869584314461568
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 156min, IOB: 0.07133789733244837888
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.015480879530520061952
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 176min, IOB: 0.011870423627760128
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 190min, IOB: 0.0871500764796616192
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 193min, IOB: 0.0656207666322862592
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 199min, IOB: 0.06702108991685742592
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 204min, IOB: 0.05284008229073030144
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 214min, IOB: 0.0190176983739262208
  SMB-Basal IOB: 1.1289972408903641088U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1289972408903641088U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:48:39 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.97713871320271104 U
  Наш Basal IOB: 1.1289972408903641088 U
  Наш Total IOB: 3.1061359540930751488 U
  РАЗНИЦА: 3.1061359540930751488 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 14мин, остаток: 99.6%, IOB: 0.100U
  Bolus: 0.05U, возраст: 23мин, остаток: 97.3%, IOB: 0.049U
  Bolus: 0U, возраст: 38мин, остаток: 89.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 49мин, остаток: 82.1%, IOB: 0.164U
  SMB: 0.2U, возраст: 61мин, остаток: 72.9%, IOB: 0.146U
  SMB: 0.2U, возраст: 67мин, остаток: 68.8%, IOB: 0.138U
  SMB: 0.2U, возраст: 70мин, остаток: 66.1%, IOB: 0.132U
  SMB: 0.2U, возраст: 76мин, остаток: 61.7%, IOB: 0.123U
  SMB: 0.2U, возраст: 82мин, остаток: 57.6%, IOB: 0.115U
  SMB: 0.2U, возраст: 90мин, остаток: 51.8%, IOB: 0.104U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.97713871320271104
  Custom Basal IOB: 1.1289972408903641088
  Custom Total IOB: 3.1061359540930751488
  Difference: 3.1061359540930751488
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.1061359540930751488
  Difference: 3.1061359540930751488
  Show Custom: true
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 14min, IOB: 0.09960179251907858432
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 23min, IOB: 0.04863842835586745344
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 49min, IOB: 0.16414708579372744704
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 61min, IOB: 0.14568593664685682688
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 67min, IOB: 0.13749431532154959872
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 70min, IOB: 0.13215787004857196544
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 76min, IOB: 0.1232416880725919744
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 82min, IOB: 0.115019840627031552
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 90min, IOB: 0.10354276506105176064
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 94min, IOB: 0.09859928153202233344
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 100min, IOB: 0.18227434173224577024
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 119min, IOB: 0.13676896654370062336
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 130min, IOB: 0.014335721143488114688
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 131min, IOB: 0.02801631912956112384
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 131min, IOB: 0.02792018014933771264
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.02783032577489422336
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 156min, IOB: 0.07122325917896388608
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.015455001192904759296
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 176min, IOB: 0.01184907810276745216
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 190min, IOB: 0.08697947360079149056
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 193min, IOB: 0.0654901340894058496
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 199min, IOB: 0.06688193513198923776
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 204min, IOB: 0.05272637894559555584
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 214min, IOB: 0.01897348581963984384
  SMB-Basal IOB: 1.1278871208844818432U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1278871208844818432U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:48:44 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.974853604513634816 U
  Наш Basal IOB: 1.1278871208844818432 U
  Наш Total IOB: 3.1027407253981166592 U
  РАЗНИЦА: 3.1027407253981166592 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 14мин, остаток: 99.6%, IOB: 0.100U
  Bolus: 0.05U, возраст: 23мин, остаток: 97.3%, IOB: 0.049U
  Bolus: 0U, возраст: 38мин, остаток: 89.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 49мин, остаток: 82.1%, IOB: 0.164U
  SMB: 0.2U, возраст: 61мин, остаток: 72.8%, IOB: 0.146U
  SMB: 0.2U, возраст: 67мин, остаток: 68.7%, IOB: 0.137U
  SMB: 0.2U, возраст: 70мин, остаток: 66.1%, IOB: 0.132U
  SMB: 0.2U, возраст: 76мин, остаток: 61.6%, IOB: 0.123U
  SMB: 0.2U, возраст: 82мин, остаток: 57.5%, IOB: 0.115U
  SMB: 0.2U, возраст: 90мин, остаток: 51.8%, IOB: 0.104U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.974853604513634816
  Custom Basal IOB: 1.1278871208844818432
  Custom Total IOB: 3.1027407253981166592
  Difference: 3.1027407253981166592
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.1027407253981166592
  Difference: 3.1027407253981166592
  Show Custom: true
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 14min, IOB: 0.09958829783187601408
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 23min, IOB: 0.04862253513306991616
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 49min, IOB: 0.1640284354502064128
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.14556117129098969088
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 67min, IOB: 0.137369467248075776
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.13203362704893014016
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.1231194537035676672
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 82min, IOB: 0.114900430587665408
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 90min, IOB: 0.10342865434774919168
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 94min, IOB: 0.09848789363536326656
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 100min, IOB: 0.1820607118230857728
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 119min, IOB: 0.1365895477404819456
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 130min, IOB: 0.014315775077150998528
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 131min, IOB: 0.02797705082082262016
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 131min, IOB: 0.02788100401702156288
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.02779123593966608384
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 156min, IOB: 0.07110913550622055424
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.015429240375109019648
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 176min, IOB: 0.011827831566625738752
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 190min, IOB: 0.08680968065826134016
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 193min, IOB: 0.06536012456505055232
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 199min, IOB: 0.06674345162857938944
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 204min, IOB: 0.0526132294392935936
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 214min, IOB: 0.01892949319967249664
  SMB-Basal IOB: 1.1267831223289090048U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1267831223289090048U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:48:49 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.972577478634536192 U
  Наш Basal IOB: 1.1267831223289090048 U
  Наш Total IOB: 3.0993606009634451968 U
  РАЗНИЦА: 3.0993606009634451968 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 14мин, остаток: 99.6%, IOB: 0.100U
  Bolus: 0.05U, возраст: 23мин, остаток: 97.2%, IOB: 0.049U
  Bolus: 0U, возраст: 39мин, остаток: 89.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 49мин, остаток: 82.0%, IOB: 0.164U
  SMB: 0.2U, возраст: 62мин, остаток: 72.8%, IOB: 0.146U
  SMB: 0.2U, возраст: 67мин, остаток: 68.7%, IOB: 0.137U
  SMB: 0.2U, возраст: 71мин, остаток: 66.0%, IOB: 0.132U
  SMB: 0.2U, возраст: 77мин, остаток: 61.6%, IOB: 0.123U
  SMB: 0.2U, возраст: 82мин, остаток: 57.4%, IOB: 0.115U
  SMB: 0.2U, возраст: 90мин, остаток: 51.7%, IOB: 0.103U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.972577478634536192
  Custom Basal IOB: 1.1267831223289090048
  Custom Total IOB: 3.0993606009634451968
  Difference: 3.0993606009634451968
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0993606009634451968
  Difference: 3.0993606009634451968
  Show Custom: true
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
centralManager(_:didDiscover:advertisementData:rssi:): <CBPeripheral: 0x156606680, identifier = 5DFBA815-D9D7-679E-B6BE-2887E06E54BB, name = DXCMXn, mtu = 23, state = connecting>, data = ["kCBAdvDataManufacturerData": <d000c93d 0004>, "kCBAdvDataIsConnectable": 1, "kCBAdvDataRxPrimaryPHY": 129, "kCBAdvDataLocalName": DXCMXn, "kCBAdvDataTimestamp": 780284931.693731, "kCBAdvDataServiceUUIDs": <__NSArrayM 0x157cea130>(
FEBC
)
, "kCBAdvDataRxSecondaryPHY": 0]
Connecting to peripheral: 5DFBA815-D9D7-679E-B6BE-2887E06E54BB
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
Unable to run command: central state = Optional("poweredOff"), peripheral state = CBPeripheralState(rawValue: 1)
Error applying peripheral configuration: notReady
centralManager(_:didConnect:): <CBPeripheral: 0x156606680, identifier = 5DFBA815-D9D7-679E-B6BE-2887E06E54BB, name = DXCMXn, mtu = 23, state = connected>
didConnect to 5DFBA815-D9D7-679E-B6BE-2887E06E54BB
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
discoverServices [F8083532-849E-531C-C594-30F1F86A4EA5]
Discovered peripheral from connectionEventDidOccur 5DFBA815-D9D7-679E-B6BE-2887E06E54BB
Connecting to peripheral: 5DFBA815-D9D7-679E-B6BE-2887E06E54BB
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
discoverServices [F8083532-849E-531C-C594-30F1F86A4EA5]
Error applying peripheral configuration: timeout
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
discoverServices [F8083532-849E-531C-C594-30F1F86A4EA5]
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 14min, IOB: 0.09957459627905255424
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 23min, IOB: 0.04860657074826221568
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 49min, IOB: 0.1639097504421472256
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.1454364352375222272
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 67min, IOB: 0.13724466847247171584
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.13190944428261183488
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.12299729468628299776
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 82min, IOB: 0.11478110678315237376
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.10331464082209042432
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 94min, IOB: 0.09837660627786534912
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 100min, IOB: 0.18184729025971712
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 119min, IOB: 0.13641034023689547776
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 130min, IOB: 0.014295854395284600832
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 131min, IOB: 0.02793783293547222016
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.02784187825556791296
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.02775219642578793472
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.0709951805180706816
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.01540351901067737088
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.01180661961712043008
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 190min, IOB: 0.08664018283356243968
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 193min, IOB: 0.0652303438438071296
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 199min, IOB: 0.06660521943838998528
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 204min, IOB: 0.05250029059161358336
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 214min, IOB: 0.0188855870507699968
  SMB-Basal IOB: 1.1256795312144562176U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1256795312144562176U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:48:54 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.970303449444195584 U
  Наш Basal IOB: 1.1256795312144562176 U
  Наш Total IOB: 3.0959829806586518016 U
  РАЗНИЦА: 3.0959829806586518016 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 14мин, остаток: 99.6%, IOB: 0.100U
  Bolus: 0.05U, возраст: 23мин, остаток: 97.2%, IOB: 0.049U
  Bolus: 0U, возраст: 39мин, остаток: 89.0%, IOB: 0.000U
  SMB: 0.2U, возраст: 49мин, остаток: 82.0%, IOB: 0.164U
  SMB: 0.2U, возраст: 62мин, остаток: 72.7%, IOB: 0.145U
  SMB: 0.2U, возраст: 67мин, остаток: 68.6%, IOB: 0.137U
  SMB: 0.2U, возраст: 71мин, остаток: 66.0%, IOB: 0.132U
  SMB: 0.2U, возраст: 77мин, остаток: 61.5%, IOB: 0.123U
  SMB: 0.2U, возраст: 82мин, остаток: 57.4%, IOB: 0.115U
  SMB: 0.2U, возраст: 91мин, остаток: 51.7%, IOB: 0.103U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.970303449444195584
  Custom Basal IOB: 1.1256795312144562176
  Custom Total IOB: 3.0959829806586518016
  Difference: 3.0959829806586518016
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0959829806586518016
  Difference: 3.0959829806586518016
  Show Custom: true
Error applying peripheral configuration: timeout
centralManager(_:didConnect:): <CBPeripheral: 0x156606680, identifier = 5DFBA815-D9D7-679E-B6BE-2887E06E54BB, name = DXCMXn, mtu = 23, state = connected>
didConnect to 5DFBA815-D9D7-679E-B6BE-2887E06E54BB
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
discoverServices [F8083532-849E-531C-C594-30F1F86A4EA5]
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: []
characteristicsToDiscover: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
Discovering characteristics [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5] for <CBPeripheral: 0x156606680, identifier = 5DFBA815-D9D7-679E-B6BE-2887E06E54BB, name = DXCMXn, mtu = 23, state = connected>
Peripheral configuration completed
Delegate configuration completed
Listening for authentication responses for Optional("DXCMXn")
Set notify true for <CBPeripheral: 0x156606680, identifier = 5DFBA815-D9D7-679E-B6BE-2887E06E54BB, name = DXCMXn, mtu = 23, state = connected>
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
Error applying peripheral configuration: timeout
Listening for authentication responses for Optional("DXCMXn")
Set notify true for <CBPeripheral: 0x156606680, identifier = 5DFBA815-D9D7-679E-B6BE-2887E06E54BB, name = DXCMXn, mtu = 23, state = connected>
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [-]: Sensor error Error enabling notification for authentication: timeout
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.09956068898683891712
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 23min, IOB: 0.04859053585019913216
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 49min, IOB: 0.16379103366507620352
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.145311731275045888
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 67min, IOB: 0.13711992170772123648
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.1317853244062447616
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.12287521357239676928
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 82min, IOB: 0.11466187165776183296
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.10320072676351848448
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 94min, IOB: 0.09826542166309281792
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 100min, IOB: 0.18163408120982204416
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 119min, IOB: 0.13623134739846336512
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 130min, IOB: 0.01427595946517590016
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 131min, IOB: 0.02789866619499091968
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.0278028035845287936
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.0277132079510071296
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.07088139623403513856
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.0153778375508296704
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.011785442619650609152
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 190min, IOB: 0.08647098298685510656
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 193min, IOB: 0.06510079410676451328
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 199min, IOB: 0.066467240860962816
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 204min, IOB: 0.05238756426499710976
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 214min, IOB: 0.01884176808314630656
  SMB-Basal IOB: 1.1245768500618866688U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1245768500618866688U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:48:59 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.968031562059125248 U
  Наш Basal IOB: 1.1245768500618866688 U
  Наш Total IOB: 3.0926084121210119168 U
  РАЗНИЦА: 3.0926084121210119168 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.6%, IOB: 0.100U
  Bolus: 0.05U, возраст: 23мин, остаток: 97.2%, IOB: 0.049U
  Bolus: 0U, возраст: 39мин, остаток: 88.9%, IOB: 0.000U
  SMB: 0.2U, возраст: 49мин, остаток: 81.9%, IOB: 0.164U
  SMB: 0.2U, возраст: 62мин, остаток: 72.7%, IOB: 0.145U
  SMB: 0.2U, возраст: 67мин, остаток: 68.6%, IOB: 0.137U
  SMB: 0.2U, возраст: 71мин, остаток: 65.9%, IOB: 0.132U
  SMB: 0.2U, возраст: 77мин, остаток: 61.4%, IOB: 0.123U
  SMB: 0.2U, возраст: 82мин, остаток: 57.3%, IOB: 0.115U
  SMB: 0.2U, возраст: 91мин, остаток: 51.6%, IOB: 0.103U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.968031562059125248
  Custom Basal IOB: 1.1245768500618866688
  Custom Total IOB: 3.0926084121210119168
  Difference: 3.0926084121210119168
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0926084121210119168
  Difference: 3.0926084121210119168
  Show Custom: true
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.0995465641132208128
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 23min, IOB: 0.04857441635179780096
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 49min, IOB: 0.163672179551834112
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.14518694834437220352
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 67min, IOB: 0.13699511580578691072
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.131661156802075648
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.12275310152062529536
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 82min, IOB: 0.11454261887598096384
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.10308681054530433024
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 94min, IOB: 0.09815424058542835712
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 100min, IOB: 0.18142089439762743296
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 119min, IOB: 0.13605240939894771712
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 130min, IOB: 0.014256072517913780224
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.02785951561707960832
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.02776374510369033216
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.02767423569195960832
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.0707676809783567872
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.015352173044228255744
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.011764281644457627648
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.0863019298382053888
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 193min, IOB: 0.0649713595196095488
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 199min, IOB: 0.06632939251189129216
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 204min, IOB: 0.05227494964696905728
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 214min, IOB: 0.01879799710114596352
  SMB-Basal IOB: 1.1234736387274903552U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1234736387274903552U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:04 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.965759789508508928 U
  Наш Basal IOB: 1.1234736387274903552 U
  Наш Total IOB: 3.0892334282359992832 U
  РАЗНИЦА: 3.0892334282359992832 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.5%, IOB: 0.100U
  Bolus: 0.05U, возраст: 23мин, остаток: 97.1%, IOB: 0.049U
  Bolus: 0U, возраст: 39мин, остаток: 88.9%, IOB: 0.000U
  SMB: 0.2U, возраст: 49мин, остаток: 81.8%, IOB: 0.164U
  SMB: 0.2U, возраст: 62мин, остаток: 72.6%, IOB: 0.145U
  SMB: 0.2U, возраст: 67мин, остаток: 68.5%, IOB: 0.137U
  SMB: 0.2U, возраст: 71мин, остаток: 65.8%, IOB: 0.132U
  SMB: 0.2U, возраст: 77мин, остаток: 61.4%, IOB: 0.123U
  SMB: 0.2U, возраст: 82мин, остаток: 57.3%, IOB: 0.115U
  SMB: 0.2U, возраст: 91мин, остаток: 51.5%, IOB: 0.103U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.965759789508508928
  Custom Basal IOB: 1.1234736387274903552
  Custom Total IOB: 3.0892334282359992832
  Difference: 3.0892334282359992832
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0892334282359992832
  Difference: 3.0892334282359992832
  Show Custom: true
centralManager(_:didDisconnectPeripheral:error:): <CBPeripheral: 0x156606680, identifier = 5DFBA815-D9D7-679E-B6BE-2887E06E54BB, name = DXCMXn, mtu = 23, state = disconnected>
Discovered peripheral from connectionEventDidOccur 5DFBA815-D9D7-679E-B6BE-2887E06E54BB
Not connecting to unnamed peripheral: <CBPeripheral: 0x157fb9ea0, identifier = 5DFBA815-D9D7-679E-B6BE-2887E06E54BB, name = (null), mtu = 23, state = disconnected>
Scanning for peripherals and listening for connection events
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.09953223974905608192
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 23min, IOB: 0.04855823238987635712
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 49min, IOB: 0.1635533350692657152
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.14506224054303514624
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 67min, IOB: 0.1368704048319325184
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.131537094713612288
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.1226311091890719744
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.11442349553038311424
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.1029730326336463872
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 94min, IOB: 0.09804320012171214848
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 100min, IOB: 0.18120799261884125184
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 119min, IOB: 0.1358737467110429696
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 130min, IOB: 0.014236218051275452416
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.02782042942822537216
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.0277247509259117568
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.02763532765512664064
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.07065417476890968064
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.015326557088141037568
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.011743162739156033536
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.08613323143517771776
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 193min, IOB: 0.06484219936619579392
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 199min, IOB: 0.0661918440116554752
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 204min, IOB: 0.05216258529620481024
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 214min, IOB: 0.01875432794951992064
  SMB-Basal IOB: 1.1223719826753097728U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1223719826753097728U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:09 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.96349093281697536 U
  Наш Basal IOB: 1.1223719826753097728 U
  Наш Total IOB: 3.0858629154922851328 U
  РАЗНИЦА: 3.0858629154922851328 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.5%, IOB: 0.100U
  Bolus: 0.05U, возраст: 23мин, остаток: 97.1%, IOB: 0.049U
  Bolus: 0U, возраст: 39мин, остаток: 88.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 49мин, остаток: 81.8%, IOB: 0.164U
  SMB: 0.2U, возраст: 62мин, остаток: 72.5%, IOB: 0.145U
  SMB: 0.2U, возраст: 67мин, остаток: 68.4%, IOB: 0.137U
  SMB: 0.2U, возраст: 71мин, остаток: 65.8%, IOB: 0.132U
  SMB: 0.2U, возраст: 77мин, остаток: 61.3%, IOB: 0.123U
  SMB: 0.2U, возраст: 83мин, остаток: 57.2%, IOB: 0.114U
  SMB: 0.2U, возраст: 91мин, остаток: 51.5%, IOB: 0.103U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.96349093281697536
  Custom Basal IOB: 1.1223719826753097728
  Custom Total IOB: 3.0858629154922851328
  Difference: 3.0858629154922851328
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0858629154922851328
  Difference: 3.0858629154922851328
  Show Custom: true
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.09951770131082248192
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 23min, IOB: 0.04854196694821177344
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 49min, IOB: 0.16343437364554625024
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.1449374748388677632
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 67min, IOB: 0.13674565568527581184
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.13141300569606146048
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.12250910629024284672
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.1143043743567064064
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.10285927142753927168
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 94min, IOB: 0.09793218157850929152
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 100min, IOB: 0.1809951482491272192
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 119min, IOB: 0.1356951682040868864
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 130min, IOB: 0.0142163748195120128
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.02778136580197179392
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.02768577932300195328
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.02759644220431419392
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.07054075607750879232
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.01530096225238611968
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.011722063283559421952
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.0859647070380336128
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 193min, IOB: 0.06471317525991358464
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 199min, IOB: 0.0660544479667753984
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 204min, IOB: 0.05205035079257163776
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 214min, IOB: 0.01871071381705867264
  SMB-Basal IOB: 1.12126984765008896U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.12126984765008896U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:14 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.961222566867604736 U
  Наш Basal IOB: 1.12126984765008896 U
  Наш Total IOB: 3.082492414517693696 U
  РАЗНИЦА: 3.082492414517693696 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.5%, IOB: 0.100U
  Bolus: 0.05U, возраст: 23мин, остаток: 97.1%, IOB: 0.049U
  Bolus: 0U, возраст: 39мин, остаток: 88.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 49мин, остаток: 81.7%, IOB: 0.163U
  SMB: 0.2U, возраст: 62мин, остаток: 72.5%, IOB: 0.145U
  SMB: 0.2U, возраст: 67мин, остаток: 68.4%, IOB: 0.137U
  SMB: 0.2U, возраст: 71мин, остаток: 65.7%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 61.3%, IOB: 0.123U
  SMB: 0.2U, возраст: 83мин, остаток: 57.2%, IOB: 0.114U
  SMB: 0.2U, возраст: 91мин, остаток: 51.4%, IOB: 0.103U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.961222566867604736
  Custom Basal IOB: 1.12126984765008896
  Custom Total IOB: 3.082492414517693696
  Difference: 3.082492414517693696
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.082492414517693696
  Difference: 3.082492414517693696
  Show Custom: true
FetchGlucoseManager.swift - subscribe() - 63 DEV: FetchGlucoseManager heartbeat
FetchGlucoseManager.swift - subscribe() - 64 DEV: Start fetching glucose
FetchTreatmentsManager.swift - subscribe() - 26 DEV: FetchTreatmentsManager heartbeat
FetchTreatmentsManager.swift - subscribe() - 27 DEV: Start fetching carbs and temptargets
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5Bcarbs%5D%5B$exists%5D=true&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:49:18.324Z
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary+Target&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bduration%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:49:18.325Z
FetchGlucoseManager.swift - subscribe() - 75 DEV: SyncDate is 2025-09-23 01:43:09 +0000
HealthKitManager.swift - fetch() - 298 DEV: Start fetching HealthKitManager
Scanning for peripherals and listening for connection events
HealthKitManager.swift - fetch() - 300 DEV: HealthKitManager cant return any data, because useAppleHealth option is disable
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.09950301316852672512
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 23min, IOB: 0.04852569074937485312
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 49min, IOB: 0.16331580860965988352
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.1448131890788947968
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 67min, IOB: 0.1366214059810064384
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.13128942443002638336
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.1223876183869149184
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.11418576840276365312
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.10274601677164414976
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.0978216629456310272
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 100min, IOB: 0.18078327756541433856
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.1355174423564063744
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 130min, IOB: 0.01419662819934091264
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.02774249280846547456
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.02764699796866708992
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.0275577466420843264
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.0704279127142961152
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.015275498609070348288
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.011701074001715959808
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.08579708113356544
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 193min, IOB: 0.06458484185476278272
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.06591779496490558464
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.05193872852949484544
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.01866734212767542016
  SMB-Basal IOB: 1.1201731780941426688U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1201731780941426688U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:19 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.958964458000307712 U
  Наш Basal IOB: 1.1201731780941426688 U
  Наш Total IOB: 3.0791376360944503808 U
  РАЗНИЦА: 3.0791376360944503808 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.5%, IOB: 0.100U
  Bolus: 0.05U, возраст: 23мин, остаток: 97.1%, IOB: 0.049U
  Bolus: 0U, возраст: 39мин, остаток: 88.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 49мин, остаток: 81.7%, IOB: 0.163U
  SMB: 0.2U, возраст: 62мин, остаток: 72.4%, IOB: 0.145U
  SMB: 0.2U, возраст: 67мин, остаток: 68.3%, IOB: 0.137U
  SMB: 0.2U, возраст: 71мин, остаток: 65.6%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 61.2%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 57.1%, IOB: 0.114U
  SMB: 0.2U, возраст: 91мин, остаток: 51.4%, IOB: 0.103U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.958964458000307712
  Custom Basal IOB: 1.1201731780941426688
  Custom Total IOB: 3.0791376360944503808
  Difference: 3.0791376360944503808
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0791376360944503808
  Difference: 3.0791376360944503808
  Show Custom: true
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.0994879978203849728
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 23min, IOB: 0.04850920761393989632
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.16319621245474000896
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.14468788709499879424
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.13649616005109489664
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.13116486333097101312
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.12226518314665070592
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.11406625006808881152
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.10263190552637083648
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.097710314033743872
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 100min, IOB: 0.18056983057017434112
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.1353384302519544832
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 130min, IOB: 0.014176740548595171328
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.02770334262940598272
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.02760794014768047616
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.02751877528590111232
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.0703142867445548032
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.01524985973904203776
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.011679942325155971072
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.085628336719073792
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 193min, IOB: 0.0644556549569148928
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.06578024073644740608
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.05182637544038880256
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.0186236910416408576
  SMB-Basal IOB: 1.11906627116236288U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.11906627116236288U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:24 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.956689428277914112 U
  Наш Basal IOB: 1.11906627116236288 U
  Наш Total IOB: 3.075755699440276992 U
  РАЗНИЦА: 3.075755699440276992 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.5%, IOB: 0.099U
  Bolus: 0.05U, возраст: 23мин, остаток: 97.0%, IOB: 0.049U
  Bolus: 0U, возраст: 39мин, остаток: 88.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 81.6%, IOB: 0.163U
  SMB: 0.2U, возраст: 62мин, остаток: 72.3%, IOB: 0.145U
  SMB: 0.2U, возраст: 68мин, остаток: 68.2%, IOB: 0.136U
  SMB: 0.2U, возраст: 71мин, остаток: 65.6%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 61.1%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 57.0%, IOB: 0.114U
  SMB: 0.2U, возраст: 91мин, остаток: 51.3%, IOB: 0.103U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.956689428277914112
  Custom Basal IOB: 1.11906627116236288
  Custom Total IOB: 3.075755699440276992
  Difference: 3.075755699440276992
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.075755699440276992
  Difference: 3.075755699440276992
  Show Custom: true
SMB-Basal: tick() - processing basal replacement
SMB-Basal: Updated compensation units: 0 U from 0 failed pulses
SMB-Basal: Current temp basal rate: 0 U/h, remaining: 9 min, isZero: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.0994728893704097792
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 23min, IOB: 0.04849277420627590144
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.16307744645501315072
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.1445635188270329856
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.13637186692254109696
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.13104126074624380928
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.12214370580307218432
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.11394767917070352384
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.1025187133411675136
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.09759986749741897728
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 100min, IOB: 0.18035812859420479488
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.13516091733108518912
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.01415702131706064896
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.02766452443673830912
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.02756921359479184384
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.02748013452502543872
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.07020164613746034688
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.01522444456949644288
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.011658997048512589824
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.08546109931786582016
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.06432762460370407424
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.06564392549728736256
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.05171503962806063104
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.01858043972099116544
  SMB-Basal IOB: 1.1179695580587442176U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1179695580587442176U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:29 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.9544328786621632 U
  Наш Basal IOB: 1.1179695580587442176 U
  Наш Total IOB: 3.0724024367209074176 U
  РАЗНИЦА: 3.0724024367209074176 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.5%, IOB: 0.099U
  Bolus: 0.05U, возраст: 23мин, остаток: 97.0%, IOB: 0.048U
  Bolus: 0U, возраст: 39мин, остаток: 88.6%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 81.5%, IOB: 0.163U
  SMB: 0.2U, возраст: 62мин, остаток: 72.3%, IOB: 0.145U
  SMB: 0.2U, возраст: 68мин, остаток: 68.2%, IOB: 0.136U
  SMB: 0.2U, возраст: 71мин, остаток: 65.5%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 61.1%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 57.0%, IOB: 0.114U
  SMB: 0.2U, возраст: 91мин, остаток: 51.3%, IOB: 0.103U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.9544328786621632
  Custom Basal IOB: 1.1179695580587442176
  Custom Total IOB: 3.0724024367209074176
  Difference: 3.0724024367209074176
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0724024367209074176
  Difference: 3.0724024367209074176
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.09945747063666296832
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04847615369600861184
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.16295779713738829824
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.144438289721572864
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.13624673304878594048
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.13091683305061019648
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.1220214333367958528
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.11382834458514305024
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.10240480665555580928
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.0974887293790976
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.18014511630893248512
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.1349823415535143936
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.014137185890563280896
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.0276254779530606336
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.02753025935503263744
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.02744126664253553664
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.07008836503116645376
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.015198886251520323584
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.011637935835574509568
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.08529295486781319168
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.06419890267536601088
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.06550688151106420736
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.05160311392216308736
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.01853696380399148288
  SMB-Basal IOB: 1.1168639896427948032U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1168639896427948032U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:34 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.952162242849919744 U
  Наш Basal IOB: 1.1168639896427948032 U
  Наш Total IOB: 3.0690262324927145472 U
  РАЗНИЦА: 3.0690262324927145472 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.5%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 97.0%, IOB: 0.048U
  Bolus: 0U, возраст: 39мин, остаток: 88.6%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 81.5%, IOB: 0.163U
  SMB: 0.2U, возраст: 62мин, остаток: 72.2%, IOB: 0.144U
  SMB: 0.2U, возраст: 68мин, остаток: 68.1%, IOB: 0.136U
  SMB: 0.2U, возраст: 71мин, остаток: 65.5%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 61.0%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 56.9%, IOB: 0.114U
  SMB: 0.2U, возраст: 91мин, остаток: 51.2%, IOB: 0.102U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.952162242849919744
  Custom Basal IOB: 1.1168639896427948032
  Custom Total IOB: 3.0690262324927145472
  Difference: 3.0690262324927145472
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0690262324927145472
  Difference: 3.0690262324927145472
  Show Custom: true
DeviceDataManager.swift - updateUpdateFinished(_:) - 235 WARN: error("Loop recommendation time out or got error. Trying to loop right now.")
APSManager.swift - loop() - 161 DEV: Starting loop
APSManager.swift - determineBasal() - 244 DEV: Start determine basal
OpenAPS.swift - makeProfiles(useAutotune:) - 192 DEV: Start makeProfiles
OpenAPS.swift - determineBasal(currentTemp:clock:) - 32 DEV: Start determineBasal
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:39:16 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.09944929477115469824
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04846740001801940992
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.1628949673112049664
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.14437255553868787712
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.13618105669411479552
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.13085153172491329536
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.1219572694355204096
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.11376572734431260672
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.10234504337151289344
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.09743042091547922432
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.18003336583570853888
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.1348886715257673728
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.014126782179651422208
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.02760499819195490304
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.02750982800173164544
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 132min, IOB: 0.02742088060770811904
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.07002895823981648896
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 164min, IOB: 0.015185483526709686272
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.01162689219956007936
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.08520479429906445312
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.06413141303958081536
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.06543503161610998784
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.0515444352588174336
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.0185141727604919168
  SMB-Basal IOB: 1.1162801642995992576U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1162801642995992576U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:37 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.950970974407593984 U
  Наш Basal IOB: 1.1162801642995992576 U
  Наш Total IOB: 3.0672511387071932416 U
  РАЗНИЦА: 3.0672511387071932416 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.4%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 96.9%, IOB: 0.048U
  Bolus: 0U, возраст: 39мин, остаток: 88.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 81.4%, IOB: 0.163U
  SMB: 0.2U, возраст: 62мин, остаток: 72.2%, IOB: 0.144U
  SMB: 0.2U, возраст: 68мин, остаток: 68.1%, IOB: 0.136U
  SMB: 0.2U, возраст: 71мин, остаток: 65.4%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 61.0%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 56.9%, IOB: 0.114U
  SMB: 0.2U, возраст: 91мин, остаток: 51.2%, IOB: 0.102U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.950970974407593984
  Custom Basal IOB: 1.1162801642995992576
  Custom Total IOB: 3.0672511387071932416
  Difference: 3.0672511387071932416
SMB-Basal: Custom IOB saved for middleware - Total: 3.0672511387071932416U
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.1), final insulin: Optional(0.1)
OpenAPS: SMB bolus Optional(0.1)U at 2025-09-23 01:33:55 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.05)U at 2025-09-23 01:25:30 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0)U at 2025-09-23 01:09:48 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:59:23 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:46:49 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:41:21 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:37:47 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:31:45 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:26:05 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:17:54 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0)U at 2025-09-23 00:17:32 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0)U at 2025-09-23 00:17:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:14:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-23 00:08:33 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 23:49:16 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.050000000000000044)U at 2025-09-22 23:38:25 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:37:02 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:36:50 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:36:38 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 23:11:51 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:04:38 +0000 - shouldFilter: true
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 22:51:49 +0000 - shouldFilter: true
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 22:38:03 +0000 - shouldFilter: true
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.8), final insulin: Optional(0.8)
OpenAPS: SMB bolus Optional(0.8)U at 2025-09-22 22:35:29 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.95), final insulin: Optional(0.95)
OpenAPS: SMB bolus Optional(0.95)U at 2025-09-22 22:29:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.85), final insulin: Optional(0.85)
OpenAPS: SMB bolus Optional(0.85)U at 2025-09-22 22:24:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 22:14:16 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 21:06:37 +0000 - shouldFilter: true
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-22 20:54:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-22 20:49:16 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.3), final insulin: Optional(0.3)
OpenAPS: SMB bolus Optional(0.3)U at 2025-09-22 20:44:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 20:34:16 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.55), final insulin: Optional(0.55)
OpenAPS: SMB bolus Optional(0.55)U at 2025-09-22 20:29:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.65), final insulin: Optional(0.65)
OpenAPS: SMB bolus Optional(0.65)U at 2025-09-22 20:24:21 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.55), final insulin: Optional(0.55)
OpenAPS: SMB bolus Optional(0.55)U at 2025-09-22 20:19:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.55), final insulin: Optional(0.55)
OpenAPS: SMB bolus Optional(0.55)U at 2025-09-22 20:14:15 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 20:07:57 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 20:07:35 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.6), final insulin: Optional(0.6)
OpenAPS: SMB bolus Optional(0.6)U at 2025-09-22 20:04:14 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.65), final insulin: Optional(0.65)
OpenAPS: SMB bolus Optional(0.65)U at 2025-09-22 19:56:59 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 19:36:41 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.25), final insulin: Optional(0.25)
OpenAPS: SMB bolus Optional(0.25)U at 2025-09-22 19:29:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.3), final insulin: Optional(0.3)
OpenAPS: SMB bolus Optional(0.3)U at 2025-09-22 19:24:14 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-22 19:19:18 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.4)U at 2025-09-22 18:59:20 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.4)U at 2025-09-22 18:49:31 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.4)U at 2025-09-22 18:46:26 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.3)U at 2025-09-22 18:39:19 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.3)U at 2025-09-22 18:31:25 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.45)U at 2025-09-22 17:56:44 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(3)U at 2025-09-22 17:20:13 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.6)U at 2025-09-22 16:57:57 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 16:08:40 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.05)U at 2025-09-22 15:59:27 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 15:49:50 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 15:15:31 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 14:31:47 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 14:31:36 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 14:10:20 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 14:06:12 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 13:59:47 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.05)U at 2025-09-22 13:50:00 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 13:20:06 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.25)U at 2025-09-22 13:08:44 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.35)U at 2025-09-22 12:29:39 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 12:11:11 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 12:09:50 +0000 - shouldFilter: false
App is being debugged, do not track this hang
Hang detected: 0.66s (debugger attached, not reporting)
OpenAPS: PumpHistory before IOB calculation (first 500 chars): [{"timestamp":"2025-09-23T01:39:05.074Z","amount":0.050000000000000003,"_type":"SMB-Basal","duration":0,"automatic":true,"id":"5b2cb2cb856e02e5f1134c27d07f7982","delivered_units":0.050000000000000003},{"timestamp":"2025-09-23T01:37:05.058Z","duration":0,"delivered_units":0.050000000000000003,"amount":0.050000000000000003,"automatic":true,"_type":"SMB-Basal","id":"d2123528d0ff522e9f2b46a192f905b0"},{"automatic":true,"duration":0,"delivered_units":0.050000000000000003,"timestamp":"2025-09-23T01:35
OpenAPS: IOB calculation result: [
    {
        "iob": -0.655,
        "activity": -0.0061,
        "basaliob": -0.724,
        "bolusiob": 0.069,
        "netbasalinsulin": -1.85,
        "bolusinsulin": 0.3,
        "time": "2025-
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Called - заменяем системный IOB на наш расчет
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Temp basal 0 U/h < profile basal 0.75 U/h
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Informing OpenAPS that SMB-basal covers basal need
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Set temp basal to 0.75 U/h to represent SMB-basal coverage
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Custom IOB data not available
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: ⚠️ Не удалось получить наш IOB расчет
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Fallback - исправляем отрицательный basal IOB: -0.724
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Fallback IOB исправлен - basal IOB: -0.724 -> 0, total IOB: -0.655 -> 0.069
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: Middleware reason: SMB-basal middleware: Informed OpenAPS that basal need (0.75 U/h) is covered by SMB-basal + Fixed negative basal IOB (fallback)
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: Autosens ratio: 0.71;
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: Adjusting basal from 0.75 to 0.55;
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: target_bg from 99 to 115;
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: ISF from 90 to 126.8
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: ; CR:,17
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: currenttemp:,[object Object],lastTempAge:,21,m,tempModulus:,21,m
OpenAPS.swift - determineBasal(currentTemp:clock:) - 102 DEV: SUGGESTED: {
    "temp": "absolute",
    "deliverAt": "2025-09-23T01:49:38.595Z",
    "reason": "Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp",
    "duration": 0,
    "rate": 0
}
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/devicestatus.json
APSManager.swift - enactSuggested() - 715 DEV: SMB-basal active: skipping OpenAPS temp basal (pump held at 0 U/h)
APSManager.swift - enactSuggested() - 744 DEV: No bolus required
APSManager.swift - loopCompleted(error:) - 199 DEV: Loop succeeded
UserNotificationsManager.swift - ensureCanSendNotification(_:) - 313 DEV: Sending notification was allowed
APSManager.swift - reportEnacted(received:) - 805 DEV: Suggestion enacted. Received: true
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/devicestatus.json
NightscoutManager.swift - uploadStatus() - 483 DEV: Status uploaded
NightscoutManager.swift - uploadStatus() - 483 DEV: Status uploaded
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending noLoopFirstNotification notification
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending noLoopSecondNotification notification
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.09944190132676562944
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04845951852748444672
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.16283850682234253312
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.14431350016104001536
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.13612205786247696384
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.13079287236555778048
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.12189963552025649152
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.11370948559993079808
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.10229136841940559872
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.09737805388804497408
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.17993300595569911808
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.134804557597623296
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.014117440283003809792
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.02758660872239585792
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.02749148201451356672
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 133min, IOB: 0.02740257532775945728
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.069975620036709376
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 165min, IOB: 0.015173450253812760576
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.011616977449847709696
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.0851256499407351296
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.0640708262567144448
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.06537053232796845056
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.05149176097052985344
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.01849371491726884864
  SMB-Basal IOB: 1.1157633931672039424U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1157633931672039424U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:39 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.949901102547887616 U
  Наш Basal IOB: 1.1157633931672039424 U
  Наш Total IOB: 3.0656644957150915584 U
  РАЗНИЦА: 3.0656644957150915584 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.4%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 96.9%, IOB: 0.048U
  Bolus: 0U, возраст: 39мин, остаток: 88.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 81.4%, IOB: 0.163U
  SMB: 0.2U, возраст: 62мин, остаток: 72.2%, IOB: 0.144U
  SMB: 0.2U, возраст: 68мин, остаток: 68.1%, IOB: 0.136U
  SMB: 0.2U, возраст: 71мин, остаток: 65.4%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 60.9%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 56.9%, IOB: 0.114U
  SMB: 0.2U, возраст: 91мин, остаток: 51.1%, IOB: 0.102U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.949901102547887616
  Custom Basal IOB: 1.1157633931672039424
  Custom Total IOB: 3.0656644957150915584
  Difference: 3.0656644957150915584
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0656644957150915584
  Difference: 3.0656644957150915584
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.0994261204170333184
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04844280238698319872
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.162719096448717824
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 62min, IOB: 0.14418864851508076544
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.13599734004536684544
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 71min, IOB: 0.13066888016322904064
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 77min, IOB: 0.1217778224050292736
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.11359062399530942464
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.10217794211403014144
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.09726739558220576768
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.17972094372774504448
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.13462684956575678464
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.01409770496939679744
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.02754776019657652224
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.0274527253946869504
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 133min, IOB: 0.02736390474818284032
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.06986295690942772224
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 165min, IOB: 0.015148034086195941376
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.011596037428735408128
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.0849585101668449792
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.06394287908021889024
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.0652343282818518016
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.05138053183860078592
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.01845051866629638656
  SMB-Basal IOB: 1.1146625128814145536U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1146625128814145536U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:44 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.947640357133502464 U
  Наш Basal IOB: 1.1146625128814145536 U
  Наш Total IOB: 3.0623028700149170176 U
  РАЗНИЦА: 3.0623028700149170176 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.4%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 96.9%, IOB: 0.048U
  Bolus: 0U, возраст: 39мин, остаток: 88.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 81.4%, IOB: 0.163U
  SMB: 0.2U, возраст: 62мин, остаток: 72.1%, IOB: 0.144U
  SMB: 0.2U, возраст: 68мин, остаток: 68.0%, IOB: 0.136U
  SMB: 0.2U, возраст: 71мин, остаток: 65.3%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 60.9%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 56.8%, IOB: 0.114U
  SMB: 0.2U, возраст: 91мин, остаток: 51.1%, IOB: 0.102U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.947640357133502464
  Custom Basal IOB: 1.1146625128814145536
  Custom Total IOB: 3.0623028700149170176
  Difference: 3.0623028700149170176
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0623028700149170176
  Difference: 3.0623028700149170176
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.09941014152695320576
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04842601929464481792
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.16259966487024201728
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 63min, IOB: 0.14406383796403341312
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.13587268261318230016
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 72min, IOB: 0.1305449588298499072
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 78min, IOB: 0.12165609453470056448
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.113471857844937216
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 91min, IOB: 0.1020646212891293696
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.0971568457133863936
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.17950910445661349888
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.13444936387354607616
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.014077996205182775296
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.02750896437297808384
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 132min, IOB: 0.0274140214170695936
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 133min, IOB: 0.02732528675430617088
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 157min, IOB: 0.0697504683914285568
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 165min, IOB: 0.01512265866766984192
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 177min, IOB: 0.011575133002643202048
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.08479167303724132352
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.06381516639091385344
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.06509838139426289664
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.05126951799665511424
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.018407410565023864832
  SMB-Basal IOB: 1.1135624726480347136U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1135624726480347136U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:49 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.945381871006593536 U
  Наш Basal IOB: 1.1135624726480347136 U
  Наш Total IOB: 3.0589443436546282496 U
  РАЗНИЦА: 3.0589443436546282496 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.4%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 96.9%, IOB: 0.048U
  Bolus: 0U, возраст: 40мин, остаток: 88.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 81.3%, IOB: 0.163U
  SMB: 0.2U, возраст: 63мин, остаток: 72.0%, IOB: 0.144U
  SMB: 0.2U, возраст: 68мин, остаток: 67.9%, IOB: 0.136U
  SMB: 0.2U, возраст: 72мин, остаток: 65.3%, IOB: 0.131U
  SMB: 0.2U, возраст: 78мин, остаток: 60.8%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 56.7%, IOB: 0.113U
  SMB: 0.2U, возраст: 91мин, остаток: 51.0%, IOB: 0.102U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.945381871006593536
  Custom Basal IOB: 1.1135624726480347136
  Custom Total IOB: 3.0589443436546282496
  Difference: 3.0589443436546282496
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0589443436546282496
  Difference: 3.0589443436546282496
  Show Custom: true
-[WCSession onqueue_handleMessageCompletionWithError:withMessageID:] ED2D1D34-A5D3-40B9-8843-6A0BAFF9B659 due to WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
-[WCSession _onqueue_notifyOfMessageError:messageID:withErrorHandler:] ED2D1D34-A5D3-40B9-8843-6A0BAFF9B659 errorHandler: YES with WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
-[WCSession onqueue_handleMessageCompletionWithError:withMessageID:] 0C3C96D2-4E4C-4719-97BF-D29E46CE8D83 due to WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
-[WCSession _onqueue_notifyOfMessageError:messageID:withErrorHandler:] 0C3C96D2-4E4C-4719-97BF-D29E46CE8D83 errorHandler: YES with WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
WatchManager.swift - sendState() - 121 WARN: errorWithInnerError("Cannot send message to watch", Error Domain=WCErrorDomain Code=7017 "Превышен лимит времени на передачу кода." UserInfo={NSLocalizedDescription=Превышен лимит времени на передачу кода., NSUnderlyingError=0x158cfc240 {Error Domain=com.apple.identityservices.error Code=23 "This message was a non-waking message and the destination device for this message did not wake before the timeout fired" UserInfo={NSLocalizedDescription=This message was a non-waking message and the destination device for this message did not wake before the timeout fired, NSUnderlyingError=0x158cfc060 {Error Domain=com.apple.ids.idssenderrordomain Code=34 "(null)"}}}})
WatchManager.swift - sendState() - 126 DEV: Updated application context after sendMessageData failure
WatchManager.swift - sendState() - 121 WARN: errorWithInnerError("Cannot send message to watch", Error Domain=WCErrorDomain Code=7017 "Превышен лимит времени на передачу кода." UserInfo={NSLocalizedDescription=Превышен лимит времени на передачу кода., NSUnderlyingError=0x158cfc390 {Error Domain=com.apple.identityservices.error Code=23 "This message was a non-waking message and the destination device for this message did not wake before the timeout fired" UserInfo={NSLocalizedDescription=This message was a non-waking message and the destination device for this message did not wake before the timeout fired, NSUnderlyingError=0x158cfc4b0 {Error Domain=com.apple.ids.idssenderrordomain Code=34 "(null)"}}}})
WatchManager.swift - sendState() - 126 DEV: Updated application context after sendMessageData failure
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 15min, IOB: 0.09939395882487564288
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04840916263801938944
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.16248016346149978112
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 63min, IOB: 0.1439390174760559616
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.13574803453087772672
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 72min, IOB: 0.13042105759496781824
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 78min, IOB: 0.12153440198466664448
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.11335313839762763776
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 92min, IOB: 0.10195135938065938432
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.09704635883780077568
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.17929740101149442048
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.1342720274051451904
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.014058305865422338048
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.0274702052566514944
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 133min, IOB: 0.02737535412437853184
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 133min, IOB: 0.02728670542410966016
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 158min, IOB: 0.06963810803969664
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 165min, IOB: 0.015097313517578031104
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 178min, IOB: 0.011554255531832328192
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.08462506954804813824
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.06368763535928209408
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.0649626354095686144
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.05115867349268263936
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.018364372758010816512
  SMB-Basal IOB: 1.1124625142974038016U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1124625142974038016U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:54 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.943124715870952704 U
  Наш Basal IOB: 1.1124625142974038016 U
  Наш Total IOB: 3.0555872301683565056 U
  РАЗНИЦА: 3.0555872301683565056 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 15мин, остаток: 99.4%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 96.8%, IOB: 0.048U
  Bolus: 0U, возраст: 40мин, остаток: 88.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 81.2%, IOB: 0.162U
  SMB: 0.2U, возраст: 63мин, остаток: 72.0%, IOB: 0.144U
  SMB: 0.2U, возраст: 68мин, остаток: 67.9%, IOB: 0.136U
  SMB: 0.2U, возраст: 72мин, остаток: 65.2%, IOB: 0.130U
  SMB: 0.2U, возраст: 78мин, остаток: 60.8%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 56.7%, IOB: 0.113U
  SMB: 0.2U, возраст: 92мин, остаток: 51.0%, IOB: 0.102U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.943124715870952704
  Custom Basal IOB: 1.1124625142974038016
  Custom Total IOB: 3.0555872301683565056
  Difference: 3.0555872301683565056
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0555872301683565056
  Difference: 3.0555872301683565056
  Show Custom: true
DeviceDataManager.swift - updatePumpData() - 215 DEV: Start updating the pump data
DeviceDataManager.swift - updatePumpData() - 218 DEV: Waiting for pump update and loop recommendation
Skipping status update because pumpData is fresh
DeviceDataManager.swift - updatePumpData() - 221 DEV: Pump data updated.
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 16min, IOB: 0.09937756755499782144
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04839222713672114176
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.1623605537287288832
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 63min, IOB: 0.14381414669792247808
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.13562335545663954944
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 72min, IOB: 0.13029713633375379456
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 78min, IOB: 0.12141270530991495168
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.11323442714441142272
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 92min, IOB: 0.10183811961783504896
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.09693589907338610688
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.17908576460579639296
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.13409478246499598336
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.014038627540174680064
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 132min, IOB: 0.02743147022917740544
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 133min, IOB: 0.0273367109279597568
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 133min, IOB: 0.02724814819680532992
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 158min, IOB: 0.0695258392326889472
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 165min, IOB: 0.015071990372762365952
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 178min, IOB: 0.011533398206253203456
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 191min, IOB: 0.08445864532461669376
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.0635602443584103936
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.06482704600783227904
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.05104796212890863616
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.018321391184024266752
  SMB-Basal IOB: 1.1113625657872959488U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1113625657872959488U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:49:59 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.940868158834717184 U
  Наш Basal IOB: 1.1113625657872959488 U
  Наш Total IOB: 3.0522307246220131328 U
  РАЗНИЦА: 3.0522307246220131328 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 16мин, остаток: 99.4%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 96.8%, IOB: 0.048U
  Bolus: 0U, возраст: 40мин, остаток: 88.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 81.2%, IOB: 0.162U
  SMB: 0.2U, возраст: 63мин, остаток: 71.9%, IOB: 0.144U
  SMB: 0.2U, возраст: 68мин, остаток: 67.8%, IOB: 0.136U
  SMB: 0.2U, возраст: 72мин, остаток: 65.1%, IOB: 0.130U
  SMB: 0.2U, возраст: 78мин, остаток: 60.7%, IOB: 0.121U
  SMB: 0.2U, возраст: 83мин, остаток: 56.6%, IOB: 0.113U
  SMB: 0.2U, возраст: 92мин, остаток: 50.9%, IOB: 0.102U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.940868158834717184
  Custom Basal IOB: 1.1113625657872959488
  Custom Total IOB: 3.0522307246220131328
  Difference: 3.0522307246220131328
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0522307246220131328
  Difference: 3.0522307246220131328
  Show Custom: true
-[RTIInputSystemClient remoteTextInputSessionWithID:performInputOperation:]  perform input operation requires a valid sessionID. inputModality = Keyboard, inputOperation = <null selector>, customInfoType = UIEmojiSearchOperations
Error acquiring assertion: <Error Domain=RBSAssertionErrorDomain Code=2 "Specified target process 11775 does not exist" UserInfo={NSLocalizedFailureReason=Specified target process 11775 does not exist}>
[u 23EFC09E-EB1D-4372-8AEB-E82F84085C0E:m (null)] [com.swiftkey.SwiftKeyApp.Keyboard(4.2.5)] RB query for the extension process state failed with error: Error Domain=RBSServiceErrorDomain Code=1 "Client not entitled" UserInfo={RBSEntitlement=com.apple.runningboard.process-state, NSLocalizedFailureReason=Client not entitled, RBSPermanent=false}
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 16min, IOB: 0.09936099602901121024
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04837524144604005376
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.16224103610028060672
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 63min, IOB: 0.14368943460193947648
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.13549885395909654528
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 72min, IOB: 0.13017340230079389696
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 78min, IOB: 0.12129120797785075712
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 83min, IOB: 0.11311592250914562048
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 92min, IOB: 0.10172509121818632192
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.0968256509691902976
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.17887454876455735296
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.13391792498290481152
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.014018994077050048512
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.02739282394638371328
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 133min, IOB: 0.02729815633009982464
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 133min, IOB: 0.0272096794309410048
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 158min, IOB: 0.06941384928237428736
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 165min, IOB: 0.01504673147780937728
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 178min, IOB: 0.011512595812991455232
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.08429267787185277952
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.06343320579700391936
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.06469183924079398912
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.05093756846233933824
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.01827853747800123392
  SMB-Basal IOB: 1.1102667081443311616U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1102667081443311616U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:04 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.93861597006663808 U
  Наш Basal IOB: 1.1102667081443311616 U
  Наш Total IOB: 3.0488826782109692416 U
  РАЗНИЦА: 3.0488826782109692416 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 16мин, остаток: 99.4%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 96.8%, IOB: 0.048U
  Bolus: 0U, возраст: 40мин, остаток: 88.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 81.1%, IOB: 0.162U
  SMB: 0.2U, возраст: 63мин, остаток: 71.8%, IOB: 0.144U
  SMB: 0.2U, возраст: 68мин, остаток: 67.7%, IOB: 0.135U
  SMB: 0.2U, возраст: 72мин, остаток: 65.1%, IOB: 0.130U
  SMB: 0.2U, возраст: 78мин, остаток: 60.6%, IOB: 0.121U
  SMB: 0.2U, возраст: 83мин, остаток: 56.6%, IOB: 0.113U
  SMB: 0.2U, возраст: 92мин, остаток: 50.9%, IOB: 0.102U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.93861597006663808
  Custom Basal IOB: 1.1102667081443311616
  Custom Total IOB: 3.0488826782109692416
  Difference: 3.0488826782109692416
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0488826782109692416
  Difference: 3.0488826782109692416
  Show Custom: true
AddGlucoseStateModel.swift - add() - 19 DEV: AddGlucose: start units=mmol/L input=7.7
AddGlucoseStateModel.swift - add() - 30 DEV: AddGlucose: converted to mg/dL=139 at 2025-09-23 01:50:02 +0000
AddGlucoseStateModel.swift - add() - 55 DEV: AddGlucose: stored locally id=8B54996B-B170-420B-ABF4-729C11624239
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/entries.json
AddGlucoseStateModel.swift - add() - 58 DEV: AddGlucose: requested NS upload
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
AddGlucoseStateModel.swift - add() - 60 DEV: AddGlucose: requested HealthKit save
UserNotificationsManager.swift - ensureCanSendNotification(_:) - 313 DEV: Sending notification was allowed
[u 23EFC09E-EB1D-4372-8AEB-E82F84085C0E:m (null)] [com.swiftkey.SwiftKeyApp.Keyboard(4.2.5)] Connection to plugin interrupted while in use.
[u 23EFC09E-EB1D-4372-8AEB-E82F84085C0E:m (null)] [com.swiftkey.SwiftKeyApp.Keyboard(4.2.5)] Connection to plugin invalidated while in use.
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending glucocoseNotification notification
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
centralManager(_:didDiscover:advertisementData:rssi:): <CBPeripheral: 0x1566065a0, identifier = AF975C27-1624-F114-76E3-514F1731EFCE, name = DXCMNG, mtu = 23, state = connecting>, data = ["kCBAdvDataRxSecondaryPHY": 0, "kCBAdvDataRxPrimaryPHY": 129, "kCBAdvDataLocalName": DXCMNG, "kCBAdvDataIsConnectable": 1, "kCBAdvDataServiceUUIDs": <__NSArrayM 0x158cfc8a0>(
FEBC
)
, "kCBAdvDataTimestamp": 780285008.0147181, "kCBAdvDataManufacturerData": <d000d540 0004>]
Connecting to peripheral: AF975C27-1624-F114-76E3-514F1731EFCE
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
Unable to run command: central state = Optional("poweredOff"), peripheral state = CBPeripheralState(rawValue: 1)
Error applying peripheral configuration: notReady
centralManager(_:didConnect:): <CBPeripheral: 0x1566065a0, identifier = AF975C27-1624-F114-76E3-514F1731EFCE, name = DXCMNG, mtu = 23, state = connected>
didConnect to AF975C27-1624-F114-76E3-514F1731EFCE
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
discoverServices [F8083532-849E-531C-C594-30F1F86A4EA5]
Discovered peripheral from connectionEventDidOccur AF975C27-1624-F114-76E3-514F1731EFCE
Connecting to peripheral: AF975C27-1624-F114-76E3-514F1731EFCE
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
discoverServices [F8083532-849E-531C-C594-30F1F86A4EA5]
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 16min, IOB: 0.09934417915546062848
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04835813871641624576
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.16212113976676937728
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 63min, IOB: 0.14356438985757622272
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.1353740395197568
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 72min, IOB: 0.130049367991515648
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 78min, IOB: 0.12116943128245927936
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.11299715756648728576
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 92min, IOB: 0.10161182882130696192
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.096715180115303936
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.17866292122311675904
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.13374075805174269952
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.013999328109141624832
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.0273541141198697216
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 133min, IOB: 0.02725953840364944384
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 133min, IOB: 0.02717114753755768832
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 158min, IOB: 0.06930169687300680704
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 165min, IOB: 0.015021437295126734848
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 178min, IOB: 0.011491766375491864576
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.08412651315286546432
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.06330601904682834944
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.06455648229009815552
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.05082705745659979776
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.01823564276283513856
  SMB-Basal IOB: 1.1091634161567502336U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1091634161567502336U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:09 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.936359275490982656 U
  Наш Basal IOB: 1.1091634161567502336 U
  Наш Total IOB: 3.0455226916477328896 U
  РАЗНИЦА: 3.0455226916477328896 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 16мин, остаток: 99.3%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 96.7%, IOB: 0.048U
  Bolus: 0U, возраст: 40мин, остаток: 88.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 81.1%, IOB: 0.162U
  SMB: 0.2U, возраст: 63мин, остаток: 71.8%, IOB: 0.144U
  SMB: 0.2U, возраст: 68мин, остаток: 67.7%, IOB: 0.135U
  SMB: 0.2U, возраст: 72мин, остаток: 65.0%, IOB: 0.130U
  SMB: 0.2U, возраст: 78мин, остаток: 60.6%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.5%, IOB: 0.113U
  SMB: 0.2U, возраст: 92мин, остаток: 50.8%, IOB: 0.102U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.936359275490982656
  Custom Basal IOB: 1.1091634161567502336
  Custom Total IOB: 3.0455226916477328896
  Difference: 3.0455226916477328896
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0455226916477328896
  Difference: 3.0455226916477328896
  Show Custom: true
Error applying peripheral configuration: timeout
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
discoverServices [F8083532-849E-531C-C594-30F1F86A4EA5]
Error applying peripheral configuration: timeout
centralManager(_:didConnect:): <CBPeripheral: 0x1566065a0, identifier = AF975C27-1624-F114-76E3-514F1731EFCE, name = DXCMNG, mtu = 23, state = connected>
didConnect to AF975C27-1624-F114-76E3-514F1731EFCE
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
discoverServices [F8083532-849E-531C-C594-30F1F86A4EA5]
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: []
characteristicsToDiscover: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
Discovering characteristics [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5] for <CBPeripheral: 0x1566065a0, identifier = AF975C27-1624-F114-76E3-514F1731EFCE, name = DXCMNG, mtu = 23, state = connected>
Peripheral configuration completed
Delegate configuration completed
Listening for authentication responses for Optional("DXCMNG")
Set notify true for <CBPeripheral: 0x1566065a0, identifier = AF975C27-1624-F114-76E3-514F1731EFCE, name = DXCMNG, mtu = 23, state = connected>
Error applying peripheral configuration: timeout
Listening for authentication responses for Optional("DXCMNG")
Set notify true for <CBPeripheral: 0x1566065a0, identifier = AF975C27-1624-F114-76E3-514F1731EFCE, name = DXCMNG, mtu = 23, state = connected>
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 16min, IOB: 0.09932719611543494656
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04834099919705363456
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.16200142638113337344
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 63min, IOB: 0.14343959810694705152
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.13524949666310434816
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 72min, IOB: 0.1299256142551801856
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 78min, IOB: 0.12104794546947530752
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.11287868843468709888
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 92min, IOB: 0.10149886275155122176
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 95min, IOB: 0.09660500375464200192
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.17845187282780975104
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 120min, IOB: 0.13356411110637056
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.013979721702485549056
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.02731552196854714368
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 133min, IOB: 0.02722103793718130688
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 133min, IOB: 0.02713273290236294144
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 158min, IOB: 0.06918990700708327424
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 165min, IOB: 0.014996226228564176896
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 178min, IOB: 0.011471007394883710976
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.08396092894782578688
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.06317927943716421632
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 200min, IOB: 0.06442160871804438528
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 205min, IOB: 0.0507169463715369472
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 215min, IOB: 0.018192907806848346112
  SMB-Basal IOB: 1.1080652770743298048U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1080652770743298048U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:14 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.934108641485916672 U
  Наш Basal IOB: 1.1080652770743298048 U
  Наш Total IOB: 3.0421739185602464768 U
  РАЗНИЦА: 3.0421739185602464768 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 16мин, остаток: 99.3%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 96.7%, IOB: 0.048U
  Bolus: 0U, возраст: 40мин, остаток: 88.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 81.0%, IOB: 0.162U
  SMB: 0.2U, возраст: 63мин, остаток: 71.7%, IOB: 0.143U
  SMB: 0.2U, возраст: 68мин, остаток: 67.6%, IOB: 0.135U
  SMB: 0.2U, возраст: 72мин, остаток: 65.0%, IOB: 0.130U
  SMB: 0.2U, возраст: 78мин, остаток: 60.5%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.4%, IOB: 0.113U
  SMB: 0.2U, возраст: 92мин, остаток: 50.7%, IOB: 0.101U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.934108641485916672
  Custom Basal IOB: 1.1080652770743298048
  Custom Total IOB: 3.0421739185602464768
  Difference: 3.0421739185602464768
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0421739185602464768
  Difference: 3.0421739185602464768
  Show Custom: true
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [-]: Sensor error Error enabling notification for authentication: timeout
FetchGlucoseManager.swift - subscribe() - 63 DEV: FetchGlucoseManager heartbeat
FetchGlucoseManager.swift - subscribe() - 64 DEV: Start fetching glucose
FetchTreatmentsManager.swift - subscribe() - 26 DEV: FetchTreatmentsManager heartbeat
FetchTreatmentsManager.swift - subscribe() - 27 DEV: Start fetching carbs and temptargets
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5Bcarbs%5D%5B$exists%5D=true&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:50:18.334Z
FetchGlucoseManager.swift - subscribe() - 75 DEV: SyncDate is 2025-09-23 01:48:30 +0000
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary+Target&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bduration%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:50:18.339Z
HealthKitManager.swift - fetch() - 298 DEV: Start fetching HealthKitManager
Found system-connected peripheral: AF975C27-1624-F114-76E3-514F1731EFCE
Connecting to peripheral: AF975C27-1624-F114-76E3-514F1731EFCE
assertConfiguration
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Scanning for peripherals and listening for connection events
centralManager(_:didConnect:): <CBPeripheral: 0x1566065a0, identifier = AF975C27-1624-F114-76E3-514F1731EFCE, name = DXCMNG, mtu = 23, state = connected>
didConnect to AF975C27-1624-F114-76E3-514F1731EFCE
assertConfiguration
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Listening for authentication responses for Optional("DXCMNG")
Discovered peripheral from connectionEventDidOccur AF975C27-1624-F114-76E3-514F1731EFCE
Set notify true for <CBPeripheral: 0x1566065a0, identifier = AF975C27-1624-F114-76E3-514F1731EFCE, name = DXCMNG, mtu = 23, state = connected>
Connecting to peripheral: AF975C27-1624-F114-76E3-514F1731EFCE
assertConfiguration
Discovering servicesToDiscover []
HealthKitManager.swift - fetch() - 300 DEV: HealthKitManager cant return any data, because useAppleHealth option is disable
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
centralManager(_:didConnect:): <CBPeripheral: 0x1566065a0, identifier = AF975C27-1624-F114-76E3-514F1731EFCE, name = DXCMNG, mtu = 23, state = connected>
didConnect to AF975C27-1624-F114-76E3-514F1731EFCE
assertConfiguration
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Listening for authentication responses for Optional("DXCMNG")
Set notify true for <CBPeripheral: 0x1566065a0, identifier = AF975C27-1624-F114-76E3-514F1731EFCE, name = DXCMNG, mtu = 23, state = connected>
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 16min, IOB: 0.09931000274707038208
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04832377764824139776
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 50min, IOB: 0.16188157770893103104
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 63min, IOB: 0.14331472729874051072
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 68min, IOB: 0.13512489390327074816
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 72min, IOB: 0.1298018116520613888
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 78min, IOB: 0.12092642705853749248
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.112760199604795392
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 92min, IOB: 0.10138589208446509056
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.09649482836679737344
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.17824084125088661504
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.13338751330728194048
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.013960122588755582976
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.02727694460828384256
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 133min, IOB: 0.02718255229068240384
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 133min, IOB: 0.02709433311387887616
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 158min, IOB: 0.0690781815587900928
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 165min, IOB: 0.014971031038036404224
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 178min, IOB: 0.011450263496124223488
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.08379548347586950144
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.06305264881285347328
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.064286858634660352
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.05060694136954758144
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.01815021855015288832
  SMB-Basal IOB: 1.1069666459836397568U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1069666459836397568U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:19 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.931858072168715008 U
  Наш Basal IOB: 1.1069666459836397568 U
  Наш Total IOB: 3.0388247181523547648 U
  РАЗНИЦА: 3.0388247181523547648 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 16мин, остаток: 99.3%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 96.6%, IOB: 0.048U
  Bolus: 0U, возраст: 40мин, остаток: 88.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 50мин, остаток: 80.9%, IOB: 0.162U
  SMB: 0.2U, возраст: 63мин, остаток: 71.7%, IOB: 0.143U
  SMB: 0.2U, возраст: 68мин, остаток: 67.6%, IOB: 0.135U
  SMB: 0.2U, возраст: 72мин, остаток: 64.9%, IOB: 0.130U
  SMB: 0.2U, возраст: 78мин, остаток: 60.5%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.4%, IOB: 0.113U
  SMB: 0.2U, возраст: 92мин, остаток: 50.7%, IOB: 0.101U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.931858072168715008
  Custom Basal IOB: 1.1069666459836397568
  Custom Total IOB: 3.0388247181523547648
  Difference: 3.0388247181523547648
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0388247181523547648
  Difference: 3.0388247181523547648
  Show Custom: true
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [-]: Sensor error Error enabling notification for authentication: timeout
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 16min, IOB: 0.09929261968492232704
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04830649436698597376
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.1617617337475924992
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 63min, IOB: 0.14318992312034000896
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.13500037656113610752
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 72min, IOB: 0.1296781045397876736
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 78min, IOB: 0.1208050177006852096
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.11264182916262170624
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 92min, IOB: 0.10127304843581657088
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.0963847822959555584
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.1780300722840107008
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.13321117024729358336
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 131min, IOB: 0.013940553580253939712
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.02723842693992477696
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 133min, IOB: 0.02714412625808868864
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 133min, IOB: 0.02705599286595927552
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 158min, IOB: 0.06896665051464835072
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 165min, IOB: 0.01494588103365695488
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 178min, IOB: 0.011429558806527328256
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.0836303691276141568
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 194min, IOB: 0.0629262744222410752
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.06415238871417959424
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.05049717034296039424
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.018107624614431920128
  SMB-Basal IOB: 1.1058691638357266432U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1058691638357266432U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:24 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.929610189367634432 U
  Наш Basal IOB: 1.1058691638357266432 U
  Наш Total IOB: 3.0354793532033610752 U
  РАЗНИЦА: 3.0354793532033610752 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 16мин, остаток: 99.3%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 96.6%, IOB: 0.048U
  Bolus: 0U, возраст: 40мин, остаток: 88.0%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.9%, IOB: 0.162U
  SMB: 0.2U, возраст: 63мин, остаток: 71.6%, IOB: 0.143U
  SMB: 0.2U, возраст: 69мин, остаток: 67.5%, IOB: 0.135U
  SMB: 0.2U, возраст: 72мин, остаток: 64.8%, IOB: 0.130U
  SMB: 0.2U, возраст: 78мин, остаток: 60.4%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.3%, IOB: 0.113U
  SMB: 0.2U, возраст: 92мин, остаток: 50.6%, IOB: 0.101U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.929610189367634432
  Custom Basal IOB: 1.1058691638357266432
  Custom Total IOB: 3.0354793532033610752
  Difference: 3.0354793532033610752
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0354793532033610752
  Difference: 3.0354793532033610752
  Show Custom: true
SMB-Basal: tick() - processing basal replacement
SMB-Basal: Updated compensation units: 0 U from 0 failed pulses
SMB-Basal: Current temp basal rate: 0 U/h, remaining: 8 min, isZero: true
centralManager(_:didDisconnectPeripheral:error:): <CBPeripheral: 0x1566065a0, identifier = AF975C27-1624-F114-76E3-514F1731EFCE, name = DXCMNG, mtu = 23, state = disconnected>
Discovered peripheral from connectionEventDidOccur AF975C27-1624-F114-76E3-514F1731EFCE
Not connecting to unnamed peripheral: <CBPeripheral: 0x157fbbb80, identifier = AF975C27-1624-F114-76E3-514F1731EFCE, name = (null), mtu = 23, state = disconnected>
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 16min, IOB: 0.09927501580614494208
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 24min, IOB: 0.04828911816598511616
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.1616416774154443776
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 63min, IOB: 0.1430649593892117504
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.13487571893874296832
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 72min, IOB: 0.12955426866934540288
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 78min, IOB: 0.12068349728396720128
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.11252336248374560768
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 92min, IOB: 0.10116012717673455616
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.09627466597668343808
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 101min, IOB: 0.17781918367749619712
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.13303476205224321024
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.0139209791772108288
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.027199899088613888
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 133min, IOB: 0.02710569013068105728
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 133min, IOB: 0.02701764260541439488
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 158min, IOB: 0.06885511151470010368
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 165min, IOB: 0.01492073058188544
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 178min, IOB: 0.011408855755815165952
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.08346528626841521152
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.06279992692931470336
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.06401795492109384704
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.05038743407411079168
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.018065048693551181824
  SMB-Basal IOB: 1.1047701469350914048U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1047701469350914048U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:29 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.9273609167765504 U
  Наш Basal IOB: 1.1047701469350914048 U
  Наш Total IOB: 3.0321310637116418048 U
  РАЗНИЦА: 3.0321310637116418048 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 16мин, остаток: 99.3%, IOB: 0.099U
  Bolus: 0.05U, возраст: 24мин, остаток: 96.6%, IOB: 0.048U
  Bolus: 0U, возраст: 40мин, остаток: 88.0%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.8%, IOB: 0.162U
  SMB: 0.2U, возраст: 63мин, остаток: 71.5%, IOB: 0.143U
  SMB: 0.2U, возраст: 69мин, остаток: 67.4%, IOB: 0.135U
  SMB: 0.2U, возраст: 72мин, остаток: 64.8%, IOB: 0.130U
  SMB: 0.2U, возраст: 78мин, остаток: 60.3%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.3%, IOB: 0.113U
  SMB: 0.2U, возраст: 92мин, остаток: 50.6%, IOB: 0.101U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.9273609167765504
  Custom Basal IOB: 1.1047701469350914048
  Custom Total IOB: 3.0321310637116418048
  Difference: 3.0321310637116418048
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0321310637116418048
  Difference: 3.0321310637116418048
  Show Custom: true
Scanning for peripherals and listening for connection events
App is being debugged, do not track this hang
Hang detected: 0.46s (debugger attached, not reporting)
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 16min, IOB: 0.0992571744520875008
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.04827163287513874432
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.16152129793113341952
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 63min, IOB: 0.14293972093225099264
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.1347508061873937408
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 72min, IOB: 0.12943018997297768448
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 78min, IOB: 0.1205617539080564736
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.112404690507288064
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 92min, IOB: 0.10104702438404882432
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.09616437807990546432
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.17760798140659863552
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.1328581265048578048
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.013901381384448380928
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.02716132563595947008
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 133min, IOB: 0.027067208574551808
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 133min, IOB: 0.0269792470774251008
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 158min, IOB: 0.06874346207864600576
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 165min, IOB: 0.014895556578589589504
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 178min, IOB: 0.011388135331083649024
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.083300083346256384
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.06267349035085300736
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.0638834338717712384
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.05027763186282080256
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.018022451731405903872
  SMB-Basal IOB: 1.1036697714077177856U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1036697714077177856U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:34 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.9251081849655488 U
  Наш Basal IOB: 1.1036697714077177856 U
  Наш Total IOB: 3.0287779563732665856 U
  РАЗНИЦА: 3.0287779563732665856 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 16мин, остаток: 99.3%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.5%, IOB: 0.048U
  Bolus: 0U, возраст: 40мин, остаток: 87.9%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.8%, IOB: 0.162U
  SMB: 0.2U, возраст: 63мин, остаток: 71.5%, IOB: 0.143U
  SMB: 0.2U, возраст: 69мин, остаток: 67.4%, IOB: 0.135U
  SMB: 0.2U, возраст: 72мин, остаток: 64.7%, IOB: 0.129U
  SMB: 0.2U, возраст: 78мин, остаток: 60.3%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.2%, IOB: 0.112U
  SMB: 0.2U, возраст: 92мин, остаток: 50.5%, IOB: 0.101U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.9251081849655488
  Custom Basal IOB: 1.1036697714077177856
  Custom Total IOB: 3.0287779563732665856
  Difference: 3.0287779563732665856
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0287779563732665856
  Difference: 3.0287779563732665856
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 16min, IOB: 0.09923923748323180544
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.04825417650846593024
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.16140154195767922688
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 63min, IOB: 0.14281519212081373184
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.1346266199643859968
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 72min, IOB: 0.1293068434670184448
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 78min, IOB: 0.12044074411382929408
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.11228674554439002112
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 92min, IOB: 0.10093462850195456
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.09605478489440329728
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.17739812430183743488
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.13268265066149412864
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.013881914081999218688
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.0271230094536760576
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 133min, IOB: 0.02702898373935844352
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.02694110775570406912
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 158min, IOB: 0.06863257869014382592
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.01487055663740663808
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 178min, IOB: 0.0113675601705569792
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.08313605692961466368
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.06254795698312244224
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.06374988125513816064
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.05016862537161708544
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.01798016797039592448
  SMB-Basal IOB: 1.1025749219885346816U (from 59 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1025749219885346816U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:39 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.922869688558237184 U
  Наш Basal IOB: 1.1025749219885346816 U
  Наш Total IOB: 3.0254446105467718656 U
  РАЗНИЦА: 3.0254446105467718656 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 16мин, остаток: 99.2%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.5%, IOB: 0.048U
  Bolus: 0U, возраст: 40мин, остаток: 87.9%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.7%, IOB: 0.161U
  SMB: 0.2U, возраст: 63мин, остаток: 71.4%, IOB: 0.143U
  SMB: 0.2U, возраст: 69мин, остаток: 67.3%, IOB: 0.135U
  SMB: 0.2U, возраст: 72мин, остаток: 64.7%, IOB: 0.129U
  SMB: 0.2U, возраст: 78мин, остаток: 60.2%, IOB: 0.120U
  SMB: 0.2U, возраст: 84мин, остаток: 56.1%, IOB: 0.112U
  SMB: 0.2U, возраст: 92мин, остаток: 50.5%, IOB: 0.101U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.922869688558237184
  Custom Basal IOB: 1.1025749219885346816
  Custom Total IOB: 3.0254446105467718656
  Difference: 3.0254446105467718656
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0254446105467718656
  Difference: 3.0254446105467718656
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 16min, IOB: 0.09922105022510467072
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.04823659767994507264
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.1612813679616743424
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 63min, IOB: 0.14269028948366422016
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.13450207964807102464
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 72min, IOB: 0.12918315576322002944
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 78min, IOB: 0.12031941474173452288
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.11216850102590464
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 92min, IOB: 0.10082196116215607296
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.09594493241111427072
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.17718778545443328
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.132506806681993728
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.01386240775888995328
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.02708461690181660672
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 133min, IOB: 0.0269906827801378048
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.0269028925395048192
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 158min, IOB: 0.06852149568549052416
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.01484551302960461824
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 178min, IOB: 0.01134695106885648384
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.0829717782665253888
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.06242223335036952576
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.06361613369600380928
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.050059465013736192
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.017937829036748095488
  SMB-Basal IOB: 1.1004803797133799424U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.1004803797133799424U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:44 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.92062594136669952 U
  Наш Basal IOB: 1.1004803797133799424 U
  Наш Total IOB: 3.0211063210800794624 U
  РАЗНИЦА: 3.0211063210800794624 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 16мин, остаток: 99.2%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.5%, IOB: 0.048U
  Bolus: 0U, возраст: 40мин, остаток: 87.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.6%, IOB: 0.161U
  SMB: 0.2U, возраст: 63мин, остаток: 71.3%, IOB: 0.143U
  SMB: 0.2U, возраст: 69мин, остаток: 67.3%, IOB: 0.135U
  SMB: 0.2U, возраст: 72мин, остаток: 64.6%, IOB: 0.129U
  SMB: 0.2U, возраст: 78мин, остаток: 60.2%, IOB: 0.120U
  SMB: 0.2U, возраст: 84мин, остаток: 56.1%, IOB: 0.112U
  SMB: 0.2U, возраст: 92мин, остаток: 50.4%, IOB: 0.101U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.92062594136669952
  Custom Basal IOB: 1.1004803797133799424
  Custom Total IOB: 3.0211063210800794624
  Difference: 3.0211063210800794624
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0211063210800794624
  Difference: 3.0211063210800794624
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 16min, IOB: 0.09920276420698996736
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.0482190420849193472
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.16116176927883923456
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.14256604505651095552
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.13437821416204449792
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.12906014867474577408
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.12019876802664296448
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.11205093362943094784
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 92min, IOB: 0.10070995288807665664
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.09583572787182098432
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.17697870190377500672
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.13233204652343263232
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.013843023469256128512
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.02704646496623035392
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 133min, IOB: 0.02695262192612716544
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.0268649169497761792
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 158min, IOB: 0.0684111300878974464
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.014820632489808226304
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 178min, IOB: 0.011326478142337738752
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.08280860327970195456
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.06229735713430332416
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.06348329506121831424
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.04995105169988256768
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.017895784332817754112
  SMB-Basal IOB: 1.0993944358380744704U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0993944358380744704U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:49 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.918395473846585856 U
  Наш Basal IOB: 1.0993944358380744704 U
  Наш Total IOB: 3.0177899096846603264 U
  РАЗНИЦА: 3.0177899096846603264 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 16мин, остаток: 99.2%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.4%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.6%, IOB: 0.161U
  SMB: 0.2U, возраст: 64мин, остаток: 71.3%, IOB: 0.143U
  SMB: 0.2U, возраст: 69мин, остаток: 67.2%, IOB: 0.134U
  SMB: 0.2U, возраст: 73мин, остаток: 64.5%, IOB: 0.129U
  SMB: 0.2U, возраст: 79мин, остаток: 60.1%, IOB: 0.120U
  SMB: 0.2U, возраст: 84мин, остаток: 56.0%, IOB: 0.112U
  SMB: 0.2U, возраст: 92мин, остаток: 50.4%, IOB: 0.101U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.918395473846585856
  Custom Basal IOB: 1.0993944358380744704
  Custom Total IOB: 3.0177899096846603264
  Difference: 3.0177899096846603264
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0177899096846603264
  Difference: 3.0177899096846603264
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 16min, IOB: 0.0991840904161524736
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.04820123281034221568
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.1610408613852193792
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.14244050139912609792
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.1342530721248643072
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.12893588439329390592
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.1200769034169587712
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.11193219136907943936
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.10059683933156159488
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.09572545111872651264
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.1767675802990642176
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.13215561764591310848
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.013823455912189997056
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.0270079527593726208
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.02691420172462512128
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.02682658287701638144
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.0682997437651086336
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.014795523184961421312
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.0113058189822541312
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.0826439623805012992
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.0621713618692686336
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.06334927353970194432
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.04984167827388438528
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.017853371816906450944
  SMB-Basal IOB: 1.0982929467084439552U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0982929467084439552U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:54 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.916143152796092416 U
  Наш Basal IOB: 1.0982929467084439552 U
  Наш Total IOB: 3.0144360995045363712 U
  РАЗНИЦА: 3.0144360995045363712 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 16мин, остаток: 99.2%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.4%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.5%, IOB: 0.161U
  SMB: 0.2U, возраст: 64мин, остаток: 71.2%, IOB: 0.142U
  SMB: 0.2U, возраст: 69мин, остаток: 67.1%, IOB: 0.134U
  SMB: 0.2U, возраст: 73мин, остаток: 64.5%, IOB: 0.129U
  SMB: 0.2U, возраст: 79мин, остаток: 60.0%, IOB: 0.120U
  SMB: 0.2U, возраст: 84мин, остаток: 56.0%, IOB: 0.112U
  SMB: 0.2U, возраст: 93мин, остаток: 50.3%, IOB: 0.101U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.916143152796092416
  Custom Basal IOB: 1.0982929467084439552
  Custom Total IOB: 3.0144360995045363712
  Difference: 3.0144360995045363712
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0144360995045363712
  Difference: 3.0144360995045363712
  Show Custom: true
DeviceDataManager.swift - updateUpdateFinished(_:) - 235 WARN: error("Loop recommendation time out or got error. Trying to loop right now.")
APSManager.swift - loop() - 161 DEV: Starting loop
APSManager.swift - determineBasal() - 244 DEV: Start determine basal
OpenAPS.swift - makeProfiles(useAutotune:) - 192 DEV: Start makeProfiles
OpenAPS.swift - determineBasal(currentTemp:clock:) - 32 DEV: Start determineBasal
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:49:38 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.09917681393080000512
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.04819432476234208256
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.16099407462791276544
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.1423919371343263744
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.13420466825423935488
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.12888782285915906048
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.1200297740836614144
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.11188627277286670336
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.10055310117645176832
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.09568281133787742208
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.1766859516783263744
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.13208741207373430784
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.013815891789501054976
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.02699306542460394496
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.02689934997273504256
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.02681176443515116544
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.0682566918875655168
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.014785818561127012352
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.011297834858078748672
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.08258033874771710976
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.06212267316385586176
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.06329748525130743808
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.04979941586791269376
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.017836984644699121664
  SMB-Basal IOB: 1.0978642409858183168U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0978642409858183168U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:56 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.915272279295952384 U
  Наш Basal IOB: 1.0978642409858183168 U
  Наш Total IOB: 3.0131365202817707008 U
  РАЗНИЦА: 3.0131365202817707008 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 99.2%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.4%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.5%, IOB: 0.161U
  SMB: 0.2U, возраст: 64мин, остаток: 71.2%, IOB: 0.142U
  SMB: 0.2U, возраст: 69мин, остаток: 67.1%, IOB: 0.134U
  SMB: 0.2U, возраст: 73мин, остаток: 64.4%, IOB: 0.129U
  SMB: 0.2U, возраст: 79мин, остаток: 60.0%, IOB: 0.120U
  SMB: 0.2U, возраст: 84мин, остаток: 55.9%, IOB: 0.112U
  SMB: 0.2U, возраст: 93мин, остаток: 50.3%, IOB: 0.101U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.915272279295952384
  Custom Basal IOB: 1.0978642409858183168
  Custom Total IOB: 3.0131365202817707008
  Difference: 3.0131365202817707008
SMB-Basal: Custom IOB saved for middleware - Total: 3.0131365202817707008U
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.1), final insulin: Optional(0.1)
OpenAPS: SMB bolus Optional(0.1)U at 2025-09-23 01:33:55 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.05)U at 2025-09-23 01:25:30 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0)U at 2025-09-23 01:09:48 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:59:23 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:46:49 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:41:21 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:37:47 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:31:45 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:26:05 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:17:54 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0)U at 2025-09-23 00:17:32 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0)U at 2025-09-23 00:17:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:14:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-23 00:08:33 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 23:49:16 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.050000000000000044)U at 2025-09-22 23:38:25 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:37:02 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:36:50 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:36:38 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 23:11:51 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:04:38 +0000 - shouldFilter: true
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 22:51:49 +0000 - shouldFilter: true
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 22:38:03 +0000 - shouldFilter: true
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.8), final insulin: Optional(0.8)
OpenAPS: SMB bolus Optional(0.8)U at 2025-09-22 22:35:29 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.95), final insulin: Optional(0.95)
OpenAPS: SMB bolus Optional(0.95)U at 2025-09-22 22:29:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.85), final insulin: Optional(0.85)
OpenAPS: SMB bolus Optional(0.85)U at 2025-09-22 22:24:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 22:14:16 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 21:06:37 +0000 - shouldFilter: true
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-22 20:54:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-22 20:49:16 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.3), final insulin: Optional(0.3)
OpenAPS: SMB bolus Optional(0.3)U at 2025-09-22 20:44:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 20:34:16 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.55), final insulin: Optional(0.55)
OpenAPS: SMB bolus Optional(0.55)U at 2025-09-22 20:29:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.65), final insulin: Optional(0.65)
OpenAPS: SMB bolus Optional(0.65)U at 2025-09-22 20:24:21 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.55), final insulin: Optional(0.55)
OpenAPS: SMB bolus Optional(0.55)U at 2025-09-22 20:19:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.55), final insulin: Optional(0.55)
OpenAPS: SMB bolus Optional(0.55)U at 2025-09-22 20:14:15 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 20:07:57 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 20:07:35 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.6), final insulin: Optional(0.6)
OpenAPS: SMB bolus Optional(0.6)U at 2025-09-22 20:04:14 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.65), final insulin: Optional(0.65)
OpenAPS: SMB bolus Optional(0.65)U at 2025-09-22 19:56:59 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 19:36:41 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.25), final insulin: Optional(0.25)
OpenAPS: SMB bolus Optional(0.25)U at 2025-09-22 19:29:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.3), final insulin: Optional(0.3)
OpenAPS: SMB bolus Optional(0.3)U at 2025-09-22 19:24:14 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-22 19:19:18 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.4)U at 2025-09-22 18:59:20 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.4)U at 2025-09-22 18:49:31 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.4)U at 2025-09-22 18:46:26 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.3)U at 2025-09-22 18:39:19 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.3)U at 2025-09-22 18:31:25 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.45)U at 2025-09-22 17:56:44 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(3)U at 2025-09-22 17:20:13 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.6)U at 2025-09-22 16:57:57 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 16:08:40 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.05)U at 2025-09-22 15:59:27 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 15:49:50 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 15:15:31 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 14:31:47 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 14:31:36 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 14:10:20 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 14:06:12 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 13:59:47 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.05)U at 2025-09-22 13:50:00 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 13:20:06 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.25)U at 2025-09-22 13:08:44 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.35)U at 2025-09-22 12:29:39 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 12:11:11 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 12:09:50 +0000 - shouldFilter: false
App is being debugged, do not track this hang
Hang detected: 0.64s (debugger attached, not reporting)
OpenAPS: PumpHistory before IOB calculation (first 500 chars): [{"id":"5b2cb2cb856e02e5f1134c27d07f7982","duration":0,"timestamp":"2025-09-23T01:39:05.074Z","_type":"SMB-Basal","amount":0.050000000000000003,"delivered_units":0.050000000000000003,"automatic":true},{"id":"d2123528d0ff522e9f2b46a192f905b0","amount":0.050000000000000003,"duration":0,"automatic":true,"delivered_units":0.050000000000000003,"timestamp":"2025-09-23T01:37:05.058Z","_type":"SMB-Basal"},{"automatic":true,"timestamp":"2025-09-23T01:35:04.998Z","id":"0a22a4e3cecf64b2d0a9f09e8348874c","d
OpenAPS: IOB calculation result: [
    {
        "iob": -0.648,
        "activity": -0.0061,
        "basaliob": -0.716,
        "bolusiob": 0.068,
        "netbasalinsulin": -1.8,
        "bolusinsulin": 0.3,
        "time": "2025-0
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Called - заменяем системный IOB на наш расчет
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Temp basal 0 U/h < profile basal 0.75 U/h
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Informing OpenAPS that SMB-basal covers basal need
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Set temp basal to 0.75 U/h to represent SMB-basal coverage
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Custom IOB data not available
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: ⚠️ Не удалось получить наш IOB расчет
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Fallback - исправляем отрицательный basal IOB: -0.716
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Fallback IOB исправлен - basal IOB: -0.716 -> 0, total IOB: -0.648 -> 0.068
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: Middleware reason: SMB-basal middleware: Informed OpenAPS that basal need (0.75 U/h) is covered by SMB-basal + Fixed negative basal IOB (fallback)
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: Autosens ratio: 0.71;
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: Adjusting basal from 0.75 to 0.55;
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: target_bg from 99 to 115;
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: ISF from 90 to 126.8
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: ; CR:,17
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: currenttemp:,[object Object],lastTempAge:,23,m,tempModulus:,23,m
OpenAPS.swift - determineBasal(currentTemp:clock:) - 102 DEV: SUGGESTED: {
    "temp": "absolute",
    "deliverAt": "2025-09-23T01:50:57.872Z",
    "reason": "Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp",
    "duration": 0,
    "rate": 0
}
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/devicestatus.json
APSManager.swift - enactSuggested() - 715 DEV: SMB-basal active: skipping OpenAPS temp basal (pump held at 0 U/h)
APSManager.swift - enactSuggested() - 744 DEV: No bolus required
APSManager.swift - loopCompleted(error:) - 199 DEV: Loop succeeded
UserNotificationsManager.swift - ensureCanSendNotification(_:) - 313 DEV: Sending notification was allowed
APSManager.swift - reportEnacted(received:) - 805 DEV: Suggestion enacted. Received: true
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/devicestatus.json
NightscoutManager.swift - uploadStatus() - 483 DEV: Status uploaded
NightscoutManager.swift - uploadStatus() - 483 DEV: Status uploaded
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending noLoopFirstNotification notification
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending noLoopSecondNotification notification
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.09916531506062467072
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.04818344340092704768
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.16092050347755300864
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.14231558929852680192
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.1341285782415067136
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.1288122741770925056
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.1199556953396568064
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.11181410070720612352
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.1004843604476327936
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.09561579849790609408
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.17655766832163854336
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.1319802342348768256
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.013804006125109911552
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 133min, IOB: 0.0269696727752789248
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.02687601325454569984
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.02678848007540371456
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.06818905046579897344
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.014770571445022042112
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.011285291460291463168
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 192min, IOB: 0.0824803889181357056
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.06204618627571730432
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.06321613139770328064
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.04973302775847794688
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.01781124415356174336
  SMB-Basal IOB: 1.0971995116248322048U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0971995116248322048U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:50:59 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.913903625310194944 U
  Наш Basal IOB: 1.0971995116248322048 U
  Наш Total IOB: 3.0111031369350271488 U
  РАЗНИЦА: 3.0111031369350271488 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 99.2%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.4%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.5%, IOB: 0.161U
  SMB: 0.2U, возраст: 64мин, остаток: 71.2%, IOB: 0.142U
  SMB: 0.2U, возраст: 69мин, остаток: 67.1%, IOB: 0.134U
  SMB: 0.2U, возраст: 73мин, остаток: 64.4%, IOB: 0.129U
  SMB: 0.2U, возраст: 79мин, остаток: 60.0%, IOB: 0.120U
  SMB: 0.2U, возраст: 84мин, остаток: 55.9%, IOB: 0.112U
  SMB: 0.2U, возраст: 93мин, остаток: 50.2%, IOB: 0.100U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.913903625310194944
  Custom Basal IOB: 1.0971995116248322048
  Custom Total IOB: 3.0111031369350271488
  Difference: 3.0111031369350271488
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0111031369350271488
  Difference: 3.0111031369350271488
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.09914634983565023232
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.04816558892898499584
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.1608001164528877568
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.14219070708196478976
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.13400413265163137024
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.12868872231026548736
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.11983455949199478784
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 84min, IOB: 0.11169609224051943424
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.10037197374092750848
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.09550624108741490688
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.17634795327863154688
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.13180504980613021696
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.013784580214774048768
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 134min, IOB: 0.0269314402139577344
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.02683787215701988864
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.02675042459901798912
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.06807851558454274048
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.014745656748960575488
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.01126479640458712064
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 193min, IOB: 0.082317092455101184
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.06192122543823614976
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.0630832251454784
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.0496245749815145472
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.017769197669506957312
  SMB-Basal IOB: 1.0961067010106750976U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0961067010106750976U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:51:04 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.91166608851970048 U
  Наш Basal IOB: 1.0961067010106750976 U
  Наш Total IOB: 3.0077727895303755776 U
  РАЗНИЦА: 3.0077727895303755776 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 99.1%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.3%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.6%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.4%, IOB: 0.161U
  SMB: 0.2U, возраст: 64мин, остаток: 71.1%, IOB: 0.142U
  SMB: 0.2U, возраст: 69мин, остаток: 67.0%, IOB: 0.134U
  SMB: 0.2U, возраст: 73мин, остаток: 64.3%, IOB: 0.129U
  SMB: 0.2U, возраст: 79мин, остаток: 59.9%, IOB: 0.120U
  SMB: 0.2U, возраст: 84мин, остаток: 55.8%, IOB: 0.112U
  SMB: 0.2U, возраст: 93мин, остаток: 50.2%, IOB: 0.100U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.91166608851970048
  Custom Basal IOB: 1.0961067010106750976
  Custom Total IOB: 3.0077727895303755776
  Difference: 3.0077727895303755776
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.0077727895303755776
  Difference: 3.0077727895303755776
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.09912718399536070656
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.04814765896029449216
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.1606796288153091072
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.14206578041817495552
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.133879661233156096
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.12856515517467836416
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.11971342365465276416
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 85min, IOB: 0.11157809558230849536
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.1002596121407437824
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.09539671349086375936
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.17613830994957053952
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.13162995966896717824
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.013765166567721715712
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 134min, IOB: 0.02689323221765436416
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.02679975562882209792
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.02671239369568022016
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.0679680729869586432
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.014720764187039090688
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.011244321545972959232
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 193min, IOB: 0.08215397519790065664
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.06179640451584374784
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.06295047516865038336
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.04951625496670825472
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.017727207165248253952
  SMB-Basal IOB: 1.0950138894070528U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0950138894070528U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:51:09 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.90942920692828032 U
  Наш Basal IOB: 1.0950138894070528 U
  Наш Total IOB: 3.00444309633533312 U
  РАЗНИЦА: 3.00444309633533312 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 99.1%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.3%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.6%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.3%, IOB: 0.161U
  SMB: 0.2U, возраст: 64мин, остаток: 71.0%, IOB: 0.142U
  SMB: 0.2U, возраст: 69мин, остаток: 66.9%, IOB: 0.134U
  SMB: 0.2U, возраст: 73мин, остаток: 64.3%, IOB: 0.129U
  SMB: 0.2U, возраст: 79мин, остаток: 59.9%, IOB: 0.120U
  SMB: 0.2U, возраст: 85мин, остаток: 55.8%, IOB: 0.112U
  SMB: 0.2U, возраст: 93мин, остаток: 50.1%, IOB: 0.100U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.90942920692828032
  Custom Basal IOB: 1.0950138894070528
  Custom Total IOB: 3.00444309633533312
  Difference: 3.00444309633533312
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.00444309633533312
  Difference: 3.00444309633533312
  Show Custom: true
-[WCSession onqueue_handleMessageCompletionWithError:withMessageID:] 952783A2-7CE3-470D-AF44-432068064A63 due to WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
-[WCSession _onqueue_notifyOfMessageError:messageID:withErrorHandler:] 952783A2-7CE3-470D-AF44-432068064A63 errorHandler: YES with WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
-[WCSession onqueue_handleMessageCompletionWithError:withMessageID:] 95170754-437B-4FA8-81F3-F844BED78D98 due to WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
-[WCSession _onqueue_notifyOfMessageError:messageID:withErrorHandler:] 95170754-437B-4FA8-81F3-F844BED78D98 errorHandler: YES with WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
WatchManager.swift - sendState() - 121 WARN: errorWithInnerError("Cannot send message to watch", Error Domain=WCErrorDomain Code=7017 "Превышен лимит времени на передачу кода." UserInfo={NSLocalizedDescription=Превышен лимит времени на передачу кода., NSUnderlyingError=0x158cfc780 {Error Domain=com.apple.identityservices.error Code=23 "This message was a non-waking message and the destination device for this message did not wake before the timeout fired" UserInfo={NSLocalizedDescription=This message was a non-waking message and the destination device for this message did not wake before the timeout fired, NSUnderlyingError=0x158cfcc30 {Error Domain=com.apple.ids.idssenderrordomain Code=34 "(null)"}}}})
WatchManager.swift - sendState() - 126 DEV: Updated application context after sendMessageData failure
WatchManager.swift - sendState() - 121 WARN: errorWithInnerError("Cannot send message to watch", Error Domain=WCErrorDomain Code=7017 "Превышен лимит времени на передачу кода." UserInfo={NSLocalizedDescription=Превышен лимит времени на передачу кода., NSUnderlyingError=0x158cfd5c0 {Error Domain=com.apple.identityservices.error Code=23 "This message was a non-waking message and the destination device for this message did not wake before the timeout fired" UserInfo={NSLocalizedDescription=This message was a non-waking message and the destination device for this message did not wake before the timeout fired, NSUnderlyingError=0x158cfdb00 {Error Domain=com.apple.ids.idssenderrordomain Code=34 "(null)"}}}})
WatchManager.swift - sendState() - 126 DEV: Updated application context after sendMessageData failure
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.09910783050434924544
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.04812966530198991872
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.16055911874549389312
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.14194089019881037824
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.1337552445311064064
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.12844165270117801984
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.1195923661440559104
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 85min, IOB: 0.11146018698682937344
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.1001473482217335808
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 96min, IOB: 0.095287286437902848
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.17592887367635697664
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 121min, IOB: 0.13145507676775036928
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.013745777702398978048
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 134min, IOB: 0.02685507342284524544
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.02676168824729252352
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.02667441188737308672
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.067857793835012352
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.014695909795333681152
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.011223880070172717056
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 193min, IOB: 0.08199114215448114176
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.06167180385717151744
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 201min, IOB: 0.06281796690459451392
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 206min, IOB: 0.04940813741785199616
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 216min, IOB: 0.01768529965272737792
  SMB-Basal IOB: 1.093921663505591296U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.093921663505591296U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:51:14 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.9071944251648128 U
  Наш Basal IOB: 1.093921663505591296 U
  Наш Total IOB: 3.001116088670404096 U
  РАЗНИЦА: 3.001116088670404096 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 99.1%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.3%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.3%, IOB: 0.161U
  SMB: 0.2U, возраст: 64мин, остаток: 71.0%, IOB: 0.142U
  SMB: 0.2U, возраст: 69мин, остаток: 66.9%, IOB: 0.134U
  SMB: 0.2U, возраст: 73мин, остаток: 64.2%, IOB: 0.128U
  SMB: 0.2U, возраст: 79мин, остаток: 59.8%, IOB: 0.120U
  SMB: 0.2U, возраст: 85мин, остаток: 55.7%, IOB: 0.111U
  SMB: 0.2U, возраст: 93мин, остаток: 50.1%, IOB: 0.100U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.9071944251648128
  Custom Basal IOB: 1.093921663505591296
  Custom Total IOB: 3.001116088670404096
  Difference: 3.001116088670404096
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 3.001116088670404096
  Difference: 3.001116088670404096
  Show Custom: true
DeviceDataManager.swift - updatePumpData() - 215 DEV: Start updating the pump data
DeviceDataManager.swift - updatePumpData() - 218 DEV: Waiting for pump update and loop recommendation
Skipping status update because pumpData is fresh
DeviceDataManager.swift - updatePumpData() - 221 DEV: Pump data updated.
FetchGlucoseManager.swift - subscribe() - 63 DEV: FetchGlucoseManager heartbeat
FetchGlucoseManager.swift - subscribe() - 64 DEV: Start fetching glucose
FetchTreatmentsManager.swift - subscribe() - 26 DEV: FetchTreatmentsManager heartbeat
FetchTreatmentsManager.swift - subscribe() - 27 DEV: Start fetching carbs and temptargets
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5Bcarbs%5D%5B$exists%5D=true&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:51:18.330Z
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary+Target&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bduration%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:51:18.335Z
FetchGlucoseManager.swift - subscribe() - 75 DEV: SyncDate is 2025-09-23 01:50:02 +0000
HealthKitManager.swift - fetch() - 298 DEV: Start fetching HealthKitManager
Scanning for peripherals and listening for connection events
HealthKitManager.swift - fetch() - 300 DEV: HealthKitManager cant return any data, because useAppleHealth option is disable
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.09908827786861758464
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.04811159694689332224
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 51min, IOB: 0.160438511357488128
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.1418159586454007808
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 69min, IOB: 0.133630805009633792
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.12831813789439619072
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.11947131144704147456
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 85min, IOB: 0.11134229287222892544
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.10003511188631375872
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 97min, IOB: 0.09517789158764435456
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.17571951361910401024
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 122min, IOB: 0.13128029175741550592
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.013726401491321716736
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 134min, IOB: 0.0268169399606113792
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.02672364620053325824
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.02663645541557774336
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.06774760909550278656
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.014671078012248936448
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.011203459174091313152
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 193min, IOB: 0.0818284912983268352
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.06154734538517364736
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 202min, IOB: 0.06268561730572060672
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 207min, IOB: 0.04930015456316737536
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 217min, IOB: 0.017643448853854121984
  SMB-Basal IOB: 1.0928294243966697472U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0928294243966697472U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:51:19 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.904960347648307712 U
  Наш Basal IOB: 1.0928294243966697472 U
  Наш Total IOB: 2.9977897720449774592 U
  РАЗНИЦА: 2.9977897720449774592 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 99.1%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.2%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 51мин, остаток: 80.2%, IOB: 0.160U
  SMB: 0.2U, возраст: 64мин, остаток: 70.9%, IOB: 0.142U
  SMB: 0.2U, возраст: 69мин, остаток: 66.8%, IOB: 0.134U
  SMB: 0.2U, возраст: 73мин, остаток: 64.2%, IOB: 0.128U
  SMB: 0.2U, возраст: 79мин, остаток: 59.7%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.7%, IOB: 0.111U
  SMB: 0.2U, возраст: 93мин, остаток: 50.0%, IOB: 0.100U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.904960347648307712
  Custom Basal IOB: 1.0928294243966697472
  Custom Total IOB: 2.9977897720449774592
  Difference: 2.9977897720449774592
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9977897720449774592
  Difference: 2.9977897720449774592
  Show Custom: true
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
centralManager(_:didDisconnectPeripheral:error:): error=The specified device has disconnected from us. <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = disconnected>
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: Pod disconnected EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7 Optional(Error Domain=CBErrorDomain Code=7 "The specified device has disconnected from us." UserInfo={NSLocalizedDescription=The specified device has disconnected from us.})
omnipodPeripheralDidDisconnect... will auto-reconnect
Reconnecting disconnected autoconnect peripheral
centralManager(_:didDiscover:advertisementData:rssi:): <CBPeripheral: 0x1566063e0, identifier = B9AB9AF1-6354-C8ED-24A7-00FD69122AAA, name = DXCMzM, mtu = 23, state = connecting>, data = ["kCBAdvDataRxPrimaryPHY": 129, "kCBAdvDataLocalName": DXCMzM, "kCBAdvDataTimestamp": 780285082.187811, "kCBAdvDataManufacturerData": <d000cc50 0004>, "kCBAdvDataIsConnectable": 1, "kCBAdvDataRxSecondaryPHY": 0, "kCBAdvDataServiceUUIDs": <__NSArrayM 0x158cfc1b0>(
FEBC
)
]
Connecting to peripheral: B9AB9AF1-6354-C8ED-24A7-00FD69122AAA
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
Unable to run command: central state = Optional("poweredOff"), peripheral state = CBPeripheralState(rawValue: 1)
Error applying peripheral configuration: notReady
centralManager(_:didDiscover:advertisementData:rssi:): <CBPeripheral: 0x1566063e0, identifier = B9AB9AF1-6354-C8ED-24A7-00FD69122AAA, name = DXCMzM, mtu = 23, state = connecting>, data = ["kCBAdvDataRxPrimaryPHY": 129, "kCBAdvDataLocalName": DXCMzM, "kCBAdvDataTimestamp": 780285082.817768, "kCBAdvDataManufacturerData": <d000cc50 0004cc50 0004>, "kCBAdvDataIsConnectable": 1, "kCBAdvDataRxSecondaryPHY": 0, "kCBAdvDataServiceUUIDs": <__NSArrayM 0x158cfc030>(
FEBC,
FEBC
)
]
Connecting to peripheral: B9AB9AF1-6354-C8ED-24A7-00FD69122AAA
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
Unable to run command: central state = Optional("poweredOff"), peripheral state = CBPeripheralState(rawValue: 1)
Error applying peripheral configuration: notReady
centralManager(_:didFailToConnect:error:): Optional(Error Domain=CBErrorDomain Code=14 "Peer removed pairing information" UserInfo={NSLocalizedDescription=Peer removed pairing information})
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.09906853559832416256
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.04809346239398879232
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.1603178623242609664
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.14169104327183050752
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.13350639990859726848
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.12819466754224963584
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.1193503151822435328
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 85min, IOB: 0.11122446737512390656
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.09992295463828682752
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 97min, IOB: 0.09506857912669513728
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.17551032578891638784
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 122min, IOB: 0.13110568471048257536
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 132min, IOB: 0.013707046806934120448
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 134min, IOB: 0.02677884929143938048
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.02668564690703043072
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.02659854165946406912
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.06763756917317272576
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.014646280194492973056
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.01118306819316875264
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 193min, IOB: 0.0816660969507139072
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 195min, IOB: 0.06142308596445060096
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 202min, IOB: 0.06255348682844649472
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 207min, IOB: 0.04919235571912249344
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 217min, IOB: 0.017601673874268803072
  SMB-Basal IOB: 1.09173763227611648U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.09173763227611648U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:51:24 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.902727999423703552 U
  Наш Basal IOB: 1.09173763227611648 U
  Наш Total IOB: 2.994465631699820032 U
  РАЗНИЦА: 2.994465631699820032 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 99.1%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.2%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 80.2%, IOB: 0.160U
  SMB: 0.2U, возраст: 64мин, остаток: 70.8%, IOB: 0.142U
  SMB: 0.2U, возраст: 70мин, остаток: 66.8%, IOB: 0.134U
  SMB: 0.2U, возраст: 73мин, остаток: 64.1%, IOB: 0.128U
  SMB: 0.2U, возраст: 79мин, остаток: 59.7%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.6%, IOB: 0.111U
  SMB: 0.2U, возраст: 93мин, остаток: 50.0%, IOB: 0.100U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.902727999423703552
  Custom Basal IOB: 1.09173763227611648
  Custom Total IOB: 2.994465631699820032
  Difference: 2.994465631699820032
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.994465631699820032
  Difference: 2.994465631699820032
  Show Custom: true
SMB-Basal: tick() - processing basal replacement
SMB-Basal: Updated compensation units: 0 U from 0 failed pulses
SMB-Basal: Current temp basal rate: 0 U/h, remaining: 7 min, isZero: true
centralManager(_:didConnect:): <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = connected>
PeripheralManager - didConnect: <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = connected>
PeripheralManager - didConnect - running assertConfiguration
Configured peripheral has no services. Reconfiguring <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = connected>
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: Pod connected EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7
Applying configuration
didReadRSSI: -81
didDiscoverServices
Discovered service: <CBService: 0x158f950c0, isPrimary = YES, UUID = 1A7E4024-E3ED-4464-8B7E-751E03D0DC5F>
PodComms completeConfiguration: isPaired=true needsSessionEstablishment=true
Scanning for peripherals and listening for connection events
centralManager(_:didDiscover:advertisementData:rssi:): <CBPeripheral: 0x157fb89a0, identifier = B9AB9AF1-6354-C8ED-24A7-00FD69122AAA, name = DXCMzM, mtu = 0, state = disconnected>, data = ["kCBAdvDataLocalName": DXCMzM, "kCBAdvDataRxSecondaryPHY": 0, "kCBAdvDataRxPrimaryPHY": 1, "kCBAdvDataIsConnectable": 1, "kCBAdvDataManufacturerData": <d000cc50 0004cc50 0004>, "kCBAdvDataTimestamp": 780285086.314415, "kCBAdvDataServiceUUIDs": <__NSArrayM 0x158cfc2d0>(
FEBC,
FEBC
)
]
Connecting to peripheral: B9AB9AF1-6354-C8ED-24A7-00FD69122AAA
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
Unable to run command: central state = Optional("poweredOff"), peripheral state = CBPeripheralState(rawValue: 1)
Error applying peripheral configuration: notReady
Session Established
msgSequenceNumber: 3
Setting podState transport state to ## MessageTransportState
eapSeq: 1360
msgSeq: 3
nonceSeq: 0
messageNumber: 10
Scheduling session Post-connect status fetch
Delegate configuration notified
Peripheral configuration completed
======================== Post-connect status fetch ===========================
Send(Hex): 17a8db2d24030e0107004d
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d24030e0107004d
centralManager(_:didFailToConnect:error:): Optional(Error Domain=CBErrorDomain Code=14 "Peer removed pairing information" UserInfo={NSLocalizedDescription=Peer removed pairing information})
Recv(Hex): 17a8db2d280a1d28040cb0004044d3ff0203
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d280a1d28040cb0004044d3ff0203
POD Response: StatusResponse(deliveryStatus:Подается временный базал, progressStatus:Норма, timeActive:73h24m, reservoirLevel:50+, insulinDelivered:103.65, bolusNotDelivered:0.00, lastProgrammingMessageSeqNum:6, alerts:slot7Expired)
DeviceDataManager.swift - pumpManager(_:hasNewPumpEvents:lastReconciliation:replacePendingEvents:completion:) - 465 DEV: New pump events:
ВБС
DU: Stored pod events: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно]
Stored doses: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно]
------------------------ Post-connect status fetch ---------------------------
Start of idle at Optional(2025-09-23 01:51:28 +0000)
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.0990486062034449408
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 25min, IOB: 0.04807526357450063872
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.16019718311528443904
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.14156615574979764224
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.13338204078959652864
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.1280712530844898304
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.11922938850985918464
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 85min, IOB: 0.11110672132381249536
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.09981088673901891584
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 97min, IOB: 0.09495935903854239744
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 102min, IOB: 0.17530132924288012288
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 122min, IOB: 0.1309312714230739968
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.013687715394532128768
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 134min, IOB: 0.026740804848802688
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.02664769379182630912
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.02656067403618276864
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.06752768392315879424
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.014621518559103356928
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.01116270894485572608
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 193min, IOB: 0.08150397353611193344
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.0612990366247632896
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 202min, IOB: 0.06242158718146732032
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 207min, IOB: 0.04908475042458906624
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 217min, IOB: 0.017559978398949953536
  SMB-Basal IOB: 1.0906463421651288064U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0906463421651288064U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:51:29 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.900497584458644736 U
  Наш Basal IOB: 1.0906463421651288064 U
  Наш Total IOB: 2.9911439266237735424 U
  РАЗНИЦА: 2.9911439266237735424 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 99.0%, IOB: 0.099U
  Bolus: 0.05U, возраст: 25мин, остаток: 96.2%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 80.1%, IOB: 0.160U
  SMB: 0.2U, возраст: 64мин, остаток: 70.8%, IOB: 0.142U
  SMB: 0.2U, возраст: 70мин, остаток: 66.7%, IOB: 0.133U
  SMB: 0.2U, возраст: 73мин, остаток: 64.0%, IOB: 0.128U
  SMB: 0.2U, возраст: 79мин, остаток: 59.6%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.6%, IOB: 0.111U
  SMB: 0.2U, возраст: 93мин, остаток: 49.9%, IOB: 0.100U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.900497584458644736
  Custom Basal IOB: 1.0906463421651288064
  Custom Total IOB: 2.9911439266237735424
  Difference: 2.9911439266237735424
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9911439266237735424
  Difference: 2.9911439266237735424
  Show Custom: true
Scanning for peripherals and listening for connection events
Scheduling session Get pod status
======================== Get pod status ===========================
Send(Hex): 17a8db2d28030e01078248
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d28030e01078248
Recv(Hex): 17a8db2d2c0a1d28040cb0004044d3ff0107
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d2c0a1d28040cb0004044d3ff0107
POD Response: StatusResponse(deliveryStatus:Подается временный базал, progressStatus:Норма, timeActive:73h24m, reservoirLevel:50+, insulinDelivered:103.65, bolusNotDelivered:0.00, lastProgrammingMessageSeqNum:6, alerts:slot7Expired)
DeviceDataManager.swift - pumpManager(_:hasNewPumpEvents:lastReconciliation:replacePendingEvents:completion:) - 465 DEV: New pump events:
ВБС
DU: Stored pod events: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно]
Stored doses: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно]
------------------------ Get pod status ---------------------------
Start of idle at Optional(2025-09-23 01:51:32 +0000)
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.09902851562476249088
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.0480570235941641728
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.1600766247881071616
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.14144145208391778304
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.13325788289852002304
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.12794804853235544064
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.11910868225678579712
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 85min, IOB: 0.1109892015154681856
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.09969904783325753344
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 97min, IOB: 0.09485036739121664
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.17509278427514597376
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 122min, IOB: 0.1307572689391683584
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.013668431301342867456
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 134min, IOB: 0.02670285395574377984
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.02660983406404247552
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 134min, IOB: 0.0265228996482155264
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.06741808992449937408
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 166min, IOB: 0.01459682387642149888
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.011142406719263975424
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 193min, IOB: 0.08134232235689998336
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.06117535138042000384
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 202min, IOB: 0.0622900820910805504
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 207min, IOB: 0.04897747222528129024
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 217min, IOB: 0.017518414154311614464
  SMB-Basal IOB: 1.0895569763413649408U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0895569763413649408U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:51:34 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.89827188143039232 U
  Наш Basal IOB: 1.0895569763413649408 U
  Наш Total IOB: 2.9878288577717572608 U
  РАЗНИЦА: 2.9878288577717572608 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 99.0%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 96.1%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 80.0%, IOB: 0.160U
  SMB: 0.2U, возраст: 64мин, остаток: 70.7%, IOB: 0.141U
  SMB: 0.2U, возраст: 70мин, остаток: 66.6%, IOB: 0.133U
  SMB: 0.2U, возраст: 73мин, остаток: 64.0%, IOB: 0.128U
  SMB: 0.2U, возраст: 79мин, остаток: 59.6%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.5%, IOB: 0.111U
  SMB: 0.2U, возраст: 93мин, остаток: 49.8%, IOB: 0.100U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.89827188143039232
  Custom Basal IOB: 1.0895569763413649408
  Custom Total IOB: 2.9878288577717572608
  Difference: 2.9878288577717572608
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9878288577717572608
  Difference: 2.9878288577717572608
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.09900815532843399168
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.04803864399353281536
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.15995553685986045952
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.14131625947008049152
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.13313325639019122688
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.12782438919222870016
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.1189875452198695936
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 85min, IOB: 0.11087127394732562432
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.09958683457765761024
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 97min, IOB: 0.09474101620629151744
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.17488356585899470848
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 122min, IOB: 0.1305827386094701568
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.01364909050200762368
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 134min, IOB: 0.02666479189191597568
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.02657186349517865984
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.02648501472747917312
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.0673081960140992
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.014572062942123010048
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.011122052007938236416
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 193min, IOB: 0.08118027150747061248
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.0610513631087153152
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 202min, IOB: 0.06215826226817808384
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 207min, IOB: 0.04886994251117126656
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 217min, IOB: 0.0174767569689885184
  SMB-Basal IOB: 1.0884635786390028288U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0884635786390028288U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:51:39 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.896038883599203584 U
  Наш Basal IOB: 1.0884635786390028288 U
  Наш Total IOB: 2.9845024622382064128 U
  РАЗНИЦА: 2.9845024622382064128 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 99.0%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 96.1%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 80.0%, IOB: 0.160U
  SMB: 0.2U, возраст: 64мин, остаток: 70.7%, IOB: 0.141U
  SMB: 0.2U, возраст: 70мин, остаток: 66.6%, IOB: 0.133U
  SMB: 0.2U, возраст: 73мин, остаток: 63.9%, IOB: 0.128U
  SMB: 0.2U, возраст: 79мин, остаток: 59.5%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.4%, IOB: 0.111U
  SMB: 0.2U, возраст: 93мин, остаток: 49.8%, IOB: 0.100U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.896038883599203584
  Custom Basal IOB: 1.0884635786390028288
  Custom Total IOB: 2.9845024622382064128
  Difference: 2.9845024622382064128
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9845024622382064128
  Difference: 2.9845024622382064128
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.09898765848231092224
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.04802024488211513344
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.15983471024692062208
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 64min, IOB: 0.14119139557926463488
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.13300897522116919296
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 73min, IOB: 0.12770108269447970816
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 79min, IOB: 0.11886676854263154688
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 85min, IOB: 0.11075370879153836032
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.09947497981294030848
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 97min, IOB: 0.0946320196284663808
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.1746750403346284544
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 122min, IOB: 0.13040882021122904064
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.013629819301184671744
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 134min, IOB: 0.02662686722050940416
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.02653403005088077312
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.0264472666802607104
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.06719871983958577152
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.01454739745365701632
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.011101777733490061312
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 193min, IOB: 0.0810188792258343936
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.06092788148768325632
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 202min, IOB: 0.0620269885317398528
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 207min, IOB: 0.04876286347955956736
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 217min, IOB: 0.017435278874916001792
  SMB-Basal IOB: 1.0873735736152199168U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0873735736152199168U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:51:44 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.893813174306995456 U
  Наш Basal IOB: 1.0873735736152199168 U
  Наш Total IOB: 2.9811867479222153728 U
  РАЗНИЦА: 2.9811867479222153728 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 99.0%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 96.0%, IOB: 0.048U
  Bolus: 0U, возраст: 41мин, остаток: 87.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 79.9%, IOB: 0.160U
  SMB: 0.2U, возраст: 64мин, остаток: 70.6%, IOB: 0.141U
  SMB: 0.2U, возраст: 70мин, остаток: 66.5%, IOB: 0.133U
  SMB: 0.2U, возраст: 73мин, остаток: 63.9%, IOB: 0.128U
  SMB: 0.2U, возраст: 79мин, остаток: 59.4%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.4%, IOB: 0.111U
  SMB: 0.2U, возраст: 93мин, остаток: 49.7%, IOB: 0.099U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.893813174306995456
  Custom Basal IOB: 1.0873735736152199168
  Custom Total IOB: 2.9811867479222153728
  Difference: 2.9811867479222153728
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9811867479222153728
  Difference: 2.9811867479222153728
  Show Custom: true
Scheduling session Get pod status
======================== Get pod status ===========================
Send(Hex): 17a8db2d2c030e01070343
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d2c030e01070343
Recv(Hex): 17a8db2d300a1d28040cb0004044d3ff03c1
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d300a1d28040cb0004044d3ff03c1
POD Response: StatusResponse(deliveryStatus:Подается временный базал, progressStatus:Норма, timeActive:73h24m, reservoirLevel:50+, insulinDelivered:103.65, bolusNotDelivered:0.00, lastProgrammingMessageSeqNum:6, alerts:slot7Expired)
DeviceDataManager.swift - pumpManager(_:hasNewPumpEvents:lastReconciliation:replacePendingEvents:completion:) - 465 DEV: New pump events:
ВБС
DU: Stored pod events: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно]
Stored doses: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно]
------------------------ Get pod status ---------------------------
Start of idle at Optional(2025-09-23 01:51:45 +0000)
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.09896695749723922432
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.04800176499374897152
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.15971374037299789824
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.14106644198055938048
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.13288462280966678528
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.12757771566616576
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.1187459472492196864
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 85min, IOB: 0.1106361117748729856
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 93min, IOB: 0.09936310833938857984
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 97min, IOB: 0.09452301201573851136
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.1744665080973142016
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 122min, IOB: 0.13023493005855760384
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.013610553013221763072
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 134min, IOB: 0.026588952641387776
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 134min, IOB: 0.0264962067368926208
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.02640952879863808
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 159min, IOB: 0.06708929381473742848
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.0145227445852548608
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 179min, IOB: 0.011081515805530861568
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 193min, IOB: 0.0808576033903676416
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.06080449172495665152
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 202min, IOB: 0.06189581987766496256
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 207min, IOB: 0.04865587538085425152
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 217min, IOB: 0.017393840497632602112
  SMB-Basal IOB: 1.0862828986046509056U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0862828986046509056U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:51:49 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.891587287122609664 U
  Наш Basal IOB: 1.0862828986046509056 U
  Наш Total IOB: 2.9778701857272605696 U
  РАЗНИЦА: 2.9778701857272605696 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 99.0%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 96.0%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 87.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 79.9%, IOB: 0.160U
  SMB: 0.2U, возраст: 65мин, остаток: 70.5%, IOB: 0.141U
  SMB: 0.2U, возраст: 70мин, остаток: 66.4%, IOB: 0.133U
  SMB: 0.2U, возраст: 74мин, остаток: 63.8%, IOB: 0.128U
  SMB: 0.2U, возраст: 80мин, остаток: 59.4%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.3%, IOB: 0.111U
  SMB: 0.2U, возраст: 93мин, остаток: 49.7%, IOB: 0.099U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.891587287122609664
  Custom Basal IOB: 1.0862828986046509056
  Custom Total IOB: 2.9778701857272605696
  Difference: 2.9778701857272605696
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9778701857272605696
  Difference: 2.9778701857272605696
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 17min, IOB: 0.09894607506811060224
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.04798322434862583808
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.1595927573835184128
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.14094153296983199744
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.1327603327638555648
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.12745442063346358272
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.11862521109764503552
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 85min, IOB: 0.11051860916643217408
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.09925134024793151488
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 97min, IOB: 0.09441411037316186112
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.17425819294691059712
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 122min, IOB: 0.13006125470090653696
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.01359131230337120256
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 134min, IOB: 0.02655108882133827584
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.02645843412198734336
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.026371841559635072
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.06698003526877278208
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.014498130767958403072
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.011061287944074432512
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 193min, IOB: 0.08069661685322848256
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.06068132606284401664
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 202min, IOB: 0.0617648968738223616
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 207min, IOB: 0.04854909286179531776
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 217min, IOB: 0.017352486235262038016
  SMB-Basal IOB: 1.0851930533136422912U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0851930533136422912U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:51:54 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.889363611374483456 U
  Наш Basal IOB: 1.0851930533136422912 U
  Наш Total IOB: 2.9745566646881257472 U
  РАЗНИЦА: 2.9745566646881257472 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 17мин, остаток: 98.9%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 96.0%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 87.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 79.8%, IOB: 0.160U
  SMB: 0.2U, возраст: 65мин, остаток: 70.5%, IOB: 0.141U
  SMB: 0.2U, возраст: 70мин, остаток: 66.4%, IOB: 0.133U
  SMB: 0.2U, возраст: 74мин, остаток: 63.7%, IOB: 0.127U
  SMB: 0.2U, возраст: 80мин, остаток: 59.3%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.3%, IOB: 0.111U
  SMB: 0.2U, возраст: 94мин, остаток: 49.6%, IOB: 0.099U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.889363611374483456
  Custom Basal IOB: 1.0851930533136422912
  Custom Total IOB: 2.9745566646881257472
  Difference: 2.9745566646881257472
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9745566646881257472
  Difference: 2.9745566646881257472
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.09892500615118247936
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.047964618112013056
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.15947172837144219648
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.14081663436778717184
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.13263607101088305152
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.12733116376099794944
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.11850452690393923584
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 85min, IOB: 0.11040116863111589888
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.09913964473498423296
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 97min, IOB: 0.09430528466932447232
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.17405003738847432704
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 122min, IOB: 0.12988774609169102848
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.013572091843016112128
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 134min, IOB: 0.02651326527281729536
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.02642070174368515584
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.0263341945242349568
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.06687091387417030656
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.0144735491656378368
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.011041088525398188032
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 193min, IOB: 0.0805358748061072384
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.06055835021230944256
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 202min, IOB: 0.06163418305125855232
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 207min, IOB: 0.04844248616373932032
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 217min, IOB: 0.01731120455106061312
  SMB-Basal IOB: 1.0841035276942872576U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0841035276942872576U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:51:59 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8871415339272704 U
  Наш Basal IOB: 1.0841035276942872576 U
  Наш Total IOB: 2.9712450616215576576 U
  РАЗНИЦА: 2.9712450616215576576 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.9%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 95.9%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 87.0%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 79.7%, IOB: 0.159U
  SMB: 0.2U, возраст: 65мин, остаток: 70.4%, IOB: 0.141U
  SMB: 0.2U, возраст: 70мин, остаток: 66.3%, IOB: 0.133U
  SMB: 0.2U, возраст: 74мин, остаток: 63.7%, IOB: 0.127U
  SMB: 0.2U, возраст: 80мин, остаток: 59.3%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.2%, IOB: 0.110U
  SMB: 0.2U, возраст: 94мин, остаток: 49.6%, IOB: 0.099U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8871415339272704
  Custom Basal IOB: 1.0841035276942872576
  Custom Total IOB: 2.9712450616215576576
  Difference: 2.9712450616215576576
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9712450616215576576
  Difference: 2.9712450616215576576
  Show Custom: true
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.09890374592912297984
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.0479459417562740736
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.15935062283886051328
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.1406917145438855168
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.13251180603304718336
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.12720791375879421952
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.11838386399218137088
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 85min, IOB: 0.11028376028690368512
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.09902799334467590144
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 97min, IOB: 0.09419650716585455616
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.17384198832855308288
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 122min, IOB: 0.12971435988962820096
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.013552886715915429888
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.02647547232024361984
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.02638299994957873664
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.02629657806172379136
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.06676190166856231936
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.014448993476380860416
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.011020912366887477248
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.08037533597049249792
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.0604355325877721088
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 202min, IOB: 0.06150364482258830336
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 207min, IOB: 0.04833602788379727872
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 217min, IOB: 0.017269984825354801152
  SMB-Basal IOB: 1.0830141223180480512U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0830141223180480512U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:04 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.88492048851707776 U
  Наш Basal IOB: 1.0830141223180480512 U
  Наш Total IOB: 2.9679346108351258112 U
  РАЗНИЦА: 2.9679346108351258112 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.9%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 95.9%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 87.0%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 79.7%, IOB: 0.159U
  SMB: 0.2U, возраст: 65мин, остаток: 70.3%, IOB: 0.141U
  SMB: 0.2U, возраст: 70мин, остаток: 66.3%, IOB: 0.133U
  SMB: 0.2U, возраст: 74мин, остаток: 63.6%, IOB: 0.127U
  SMB: 0.2U, возраст: 80мин, остаток: 59.2%, IOB: 0.118U
  SMB: 0.2U, возраст: 85мин, остаток: 55.1%, IOB: 0.110U
  SMB: 0.2U, возраст: 94мин, остаток: 49.5%, IOB: 0.099U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.88492048851707776
  Custom Basal IOB: 1.0830141223180480512
  Custom Total IOB: 2.9679346108351258112
  Difference: 2.9679346108351258112
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9679346108351258112
  Difference: 2.9679346108351258112
  Show Custom: true
-[RTIInputSystemClient remoteTextInputSessionWithID:performInputOperation:]  perform input operation requires a valid sessionID. inputModality = Keyboard, inputOperation = <null selector>, customInfoType = UIEmojiSearchOperations
Error acquiring assertion: <Error Domain=RBSAssertionErrorDomain Code=2 "Specified target process 11905 does not exist" UserInfo={NSLocalizedFailureReason=Specified target process 11905 does not exist}>
[u 23EFC09E-EB1D-4372-8AEB-E82F84085C0E:m (null)] [com.swiftkey.SwiftKeyApp.Keyboard(4.2.5)] RB query for the extension process state failed with error: Error Domain=RBSServiceErrorDomain Code=1 "Client not entitled" UserInfo={RBSEntitlement=com.apple.runningboard.process-state, NSLocalizedFailureReason=Client not entitled, RBSPermanent=false}
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.09888234351455174656
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.04792723786210100224
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.15922971472665432064
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.14056705573737598976
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.1323878184882765824
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.12708494893523062784
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.1182634947464236032
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.11016664910615420928
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.09891663798086623232
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 97min, IOB: 0.09408802325347008512
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.17363451502435741696
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 122min, IOB: 0.12954148698386481152
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.013533740209290723328
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.02643779514442615808
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.02634541371468297728
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.02625907695447873536
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.06665324424171124736
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.014424519014023327744
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.011000804907066765312
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.0802153618035305984
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.06031314970246145024
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 202min, IOB: 0.06137357604675777536
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 207min, IOB: 0.04822995764822281216
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 217min, IOB: 0.017228919817560178688
  SMB-Basal IOB: 1.0819297631564470272U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0819297631564470272U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:09 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.882705485563538944 U
  Наш Basal IOB: 1.0819297631564470272 U
  Наш Total IOB: 2.9646352487199859712 U
  РАЗНИЦА: 2.9646352487199859712 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.9%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 95.9%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 86.9%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 79.6%, IOB: 0.159U
  SMB: 0.2U, возраст: 65мин, остаток: 70.3%, IOB: 0.141U
  SMB: 0.2U, возраст: 70мин, остаток: 66.2%, IOB: 0.132U
  SMB: 0.2U, возраст: 74мин, остаток: 63.5%, IOB: 0.127U
  SMB: 0.2U, возраст: 80мин, остаток: 59.1%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 55.1%, IOB: 0.110U
  SMB: 0.2U, возраст: 94мин, остаток: 49.5%, IOB: 0.099U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.882705485563538944
  Custom Basal IOB: 1.0819297631564470272
  Custom Total IOB: 2.9646352487199859712
  Difference: 2.9646352487199859712
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9646352487199859712
  Difference: 2.9646352487199859712
  Show Custom: true
AddGlucoseStateModel.swift - add() - 19 DEV: AddGlucose: start units=mmol/L input=7.8
AddGlucoseStateModel.swift - add() - 30 DEV: AddGlucose: converted to mg/dL=141 at 2025-09-23 01:52:08 +0000
AddGlucoseStateModel.swift - add() - 55 DEV: AddGlucose: stored locally id=8B0E7807-4807-495D-9775-A1B9291378D1
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/entries.json
AddGlucoseStateModel.swift - add() - 58 DEV: AddGlucose: requested NS upload
AddGlucoseStateModel.swift - add() - 60 DEV: AddGlucose: requested HealthKit save
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
UserNotificationsManager.swift - ensureCanSendNotification(_:) - 313 DEV: Sending notification was allowed
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending glucocoseNotification notification
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.09886068537863174144
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.04790840709985055744
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.1591083614920768512
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.14044199540700035072
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.1322634493827985408
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.12696161572106379264
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.11814277937711228928
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.110049212604218368
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.09880498673867689984
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 97min, IOB: 0.09397925628498456576
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.1734265146352228352
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 122min, IOB: 0.12936820842288007168
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.013514550543311171584
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.0264000334590527744
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.02630774323606384128
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.0262214918520448256
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.0665443639715489792
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.01439999567170695168
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.010980659253122736128
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.08005510186216999936
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.06019055095229569024
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 202min, IOB: 0.06124328525776344064
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 207min, IOB: 0.04812371156930029568
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 217min, IOB: 0.017187791217700089856
  SMB-Basal IOB: 1.0808397541350006784U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0808397541350006784U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:14 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.880484751390597888 U
  Наш Basal IOB: 1.0808397541350006784 U
  Наш Total IOB: 2.9613245055255985664 U
  РАЗНИЦА: 2.9613245055255985664 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.9%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 95.8%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 86.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 79.6%, IOB: 0.159U
  SMB: 0.2U, возраст: 65мин, остаток: 70.2%, IOB: 0.140U
  SMB: 0.2U, возраст: 70мин, остаток: 66.1%, IOB: 0.132U
  SMB: 0.2U, возраст: 74мин, остаток: 63.5%, IOB: 0.127U
  SMB: 0.2U, возраст: 80мин, остаток: 59.1%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 55.0%, IOB: 0.110U
  SMB: 0.2U, возраст: 94мин, остаток: 49.4%, IOB: 0.099U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.880484751390597888
  Custom Basal IOB: 1.0808397541350006784
  Custom Total IOB: 2.9613245055255985664
  Difference: 2.9613245055255985664
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9613245055255985664
  Difference: 2.9613245055255985664
  Show Custom: true
DeviceDataManager.swift - heartbeat(date:) - 191 WARN: error("Pump updating already in progress. Skip updating.")
DeviceDataManager.swift - updateUpdateFinished(_:) - 235 WARN: error("Loop recommendation time out or got error. Trying to loop right now.")
APSManager.swift - loop() - 161 DEV: Starting loop
APSManager.swift - determineBasal() - 244 DEV: Start determine basal
OpenAPS.swift - makeProfiles(useAutotune:) - 192 DEV: Start makeProfiles
OpenAPS.swift - determineBasal(currentTemp:clock:) - 32 DEV: Start determineBasal
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:50:57 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.09884561862049810432
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.04789536310127410176
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.15902451849931337728
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.1403556246479619072
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.1321775663890900992
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.12687645390819729408
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.11805943364517347328
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.1099681373781543936
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.09872791336250888192
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.09390417696714981376
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.17328294510664230912
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.12924862475076329472
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.013501308329550338048
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.02637397549677691392
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.0262817482483660032
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.02619555581297467392
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.06646924185852611584
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.014383076521044359168
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.010966761505985212416
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.07994455498716547072
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.060105984276946176
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.06115341706629111808
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.04805043128252480512
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.017159426528771741696
  SMB-Basal IOB: 1.0800815373665501184U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0800815373665501184U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:18 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.878951858291650048 U
  Наш Basal IOB: 1.0800815373665501184 U
  Наш Total IOB: 2.9590333956582001664 U
  РАЗНИЦА: 2.9590333956582001664 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.8%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 95.8%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 86.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 79.5%, IOB: 0.159U
  SMB: 0.2U, возраст: 65мин, остаток: 70.2%, IOB: 0.140U
  SMB: 0.2U, возраст: 70мин, остаток: 66.1%, IOB: 0.132U
  SMB: 0.2U, возраст: 74мин, остаток: 63.4%, IOB: 0.127U
  SMB: 0.2U, возраст: 80мин, остаток: 59.0%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 55.0%, IOB: 0.110U
  SMB: 0.2U, возраст: 94мин, остаток: 49.4%, IOB: 0.099U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.878951858291650048
  Custom Basal IOB: 1.0800815373665501184
  Custom Total IOB: 2.9590333956582001664
  Difference: 2.9590333956582001664
SMB-Basal: Custom IOB saved for middleware - Total: 2.9590333956582001664U
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.1), final insulin: Optional(0.1)
OpenAPS: SMB bolus Optional(0.1)U at 2025-09-23 01:33:55 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.05)U at 2025-09-23 01:25:30 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0)U at 2025-09-23 01:09:48 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:59:23 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:46:49 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:41:21 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:37:47 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:31:45 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:26:05 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:17:54 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0)U at 2025-09-23 00:17:32 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0)U at 2025-09-23 00:17:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:14:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-23 00:08:33 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 23:49:16 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.050000000000000044)U at 2025-09-22 23:38:25 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:37:02 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:36:50 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:36:38 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 23:11:51 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:04:38 +0000 - shouldFilter: true
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 22:51:49 +0000 - shouldFilter: true
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 22:38:03 +0000 - shouldFilter: true
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.8), final insulin: Optional(0.8)
OpenAPS: SMB bolus Optional(0.8)U at 2025-09-22 22:35:29 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.95), final insulin: Optional(0.95)
OpenAPS: SMB bolus Optional(0.95)U at 2025-09-22 22:29:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.85), final insulin: Optional(0.85)
OpenAPS: SMB bolus Optional(0.85)U at 2025-09-22 22:24:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 22:14:16 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 21:06:37 +0000 - shouldFilter: true
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-22 20:54:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-22 20:49:16 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.3), final insulin: Optional(0.3)
OpenAPS: SMB bolus Optional(0.3)U at 2025-09-22 20:44:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 20:34:16 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.55), final insulin: Optional(0.55)
OpenAPS: SMB bolus Optional(0.55)U at 2025-09-22 20:29:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.65), final insulin: Optional(0.65)
OpenAPS: SMB bolus Optional(0.65)U at 2025-09-22 20:24:21 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.55), final insulin: Optional(0.55)
OpenAPS: SMB bolus Optional(0.55)U at 2025-09-22 20:19:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.55), final insulin: Optional(0.55)
OpenAPS: SMB bolus Optional(0.55)U at 2025-09-22 20:14:15 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 20:07:57 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 20:07:35 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.6), final insulin: Optional(0.6)
OpenAPS: SMB bolus Optional(0.6)U at 2025-09-22 20:04:14 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.65), final insulin: Optional(0.65)
OpenAPS: SMB bolus Optional(0.65)U at 2025-09-22 19:56:59 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 19:36:41 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.25), final insulin: Optional(0.25)
OpenAPS: SMB bolus Optional(0.25)U at 2025-09-22 19:29:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.3), final insulin: Optional(0.3)
OpenAPS: SMB bolus Optional(0.3)U at 2025-09-22 19:24:14 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-22 19:19:18 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.4)U at 2025-09-22 18:59:20 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.4)U at 2025-09-22 18:49:31 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.4)U at 2025-09-22 18:46:26 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.3)U at 2025-09-22 18:39:19 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.3)U at 2025-09-22 18:31:25 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.45)U at 2025-09-22 17:56:44 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(3)U at 2025-09-22 17:20:13 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.6)U at 2025-09-22 16:57:57 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 16:08:40 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.05)U at 2025-09-22 15:59:27 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 15:49:50 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 15:15:31 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 14:31:47 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 14:31:36 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 14:10:20 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 14:06:12 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 13:59:47 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.05)U at 2025-09-22 13:50:00 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 13:20:06 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.25)U at 2025-09-22 13:08:44 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.35)U at 2025-09-22 12:29:39 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 12:11:11 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 12:09:50 +0000 - shouldFilter: false
FetchGlucoseManager.swift - subscribe() - 63 DEV: FetchGlucoseManager heartbeat
FetchGlucoseManager.swift - subscribe() - 64 DEV: Start fetching glucose
FetchTreatmentsManager.swift - subscribe() - 26 DEV: FetchTreatmentsManager heartbeat
FetchTreatmentsManager.swift - subscribe() - 27 DEV: Start fetching carbs and temptargets
HealthKitManager.swift - fetch() - 298 DEV: Start fetching HealthKitManager
Scanning for peripherals and listening for connection events
HealthKitManager.swift - fetch() - 300 DEV: HealthKitManager cant return any data, because useAppleHealth option is disable
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5Bcarbs%5D%5B$exists%5D=true&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:52:18.322Z
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary+Target&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bduration%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:52:18.324Z
FetchGlucoseManager.swift - subscribe() - 75 DEV: SyncDate is 2025-09-23 01:50:02 +0000
App is being debugged, do not track this hang
Hang detected: 0.63s (debugger attached, not reporting)
OpenAPS: PumpHistory before IOB calculation (first 500 chars): [{"_type":"SMB-Basal","id":"5b2cb2cb856e02e5f1134c27d07f7982","delivered_units":0.050000000000000003,"amount":0.050000000000000003,"automatic":true,"duration":0,"timestamp":"2025-09-23T01:39:05.074Z"},{"amount":0.050000000000000003,"id":"d2123528d0ff522e9f2b46a192f905b0","delivered_units":0.050000000000000003,"automatic":true,"_type":"SMB-Basal","timestamp":"2025-09-23T01:37:05.058Z","duration":0},{"_type":"SMB-Basal","timestamp":"2025-09-23T01:35:04.998Z","duration":0,"amount":0.050000000000000
OpenAPS: IOB calculation result: [
    {
        "iob": -0.64,
        "activity": -0.0061,
        "basaliob": -0.706,
        "bolusiob": 0.066,
        "netbasalinsulin": -1.8,
        "bolusinsulin": 0.3,
        "time": "2025-09
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Called - заменяем системный IOB на наш расчет
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Temp basal 0 U/h < profile basal 0.75 U/h
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Informing OpenAPS that SMB-basal covers basal need
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Set temp basal to 0.75 U/h to represent SMB-basal coverage
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Custom IOB data not available
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: ⚠️ Не удалось получить наш IOB расчет
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Fallback - исправляем отрицательный basal IOB: -0.706
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Fallback IOB исправлен - basal IOB: -0.706 -> 0, total IOB: -0.64 -> 0.066
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: Middleware reason: SMB-basal middleware: Informed OpenAPS that basal need (0.75 U/h) is covered by SMB-basal + Fixed negative basal IOB (fallback)
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: Autosens ratio: 0.71;
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: Adjusting basal from 0.75 to 0.55;
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: target_bg from 99 to 115;
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: ISF from 90 to 126.8
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: ; CR:,17
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: currenttemp:,[object Object],lastTempAge:,24,m,tempModulus:,24,m
OpenAPS.swift - determineBasal(currentTemp:clock:) - 102 DEV: SUGGESTED: {
    "temp": "absolute",
    "deliverAt": "2025-09-23T01:52:19.328Z",
    "reason": "Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp",
    "duration": 0,
    "rate": 0
}
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/devicestatus.json
APSManager.swift - enactSuggested() - 715 DEV: SMB-basal active: skipping OpenAPS temp basal (pump held at 0 U/h)
APSManager.swift - enactSuggested() - 744 DEV: No bolus required
APSManager.swift - loopCompleted(error:) - 199 DEV: Loop succeeded
UserNotificationsManager.swift - ensureCanSendNotification(_:) - 313 DEV: Sending notification was allowed
APSManager.swift - reportEnacted(received:) - 805 DEV: Suggestion enacted. Received: true
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/devicestatus.json
NightscoutManager.swift - uploadStatus() - 483 DEV: Status uploaded
NightscoutManager.swift - uploadStatus() - 483 DEV: Status uploaded
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending noLoopFirstNotification notification
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending noLoopSecondNotification notification
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.09883896145972670464
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.0478896140107854848
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 52min, IOB: 0.15898762116384636928
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.14031762354394529792
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 70min, IOB: 0.13213978257251602432
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.1268389888823228416
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.11802276974770051072
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.10993247400320126976
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.0986940123505314816
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.09387115383249473536
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.173219799162461184
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.1291960335249586176
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.01349548485629304832
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.02636251615868047872
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.02627031661352519168
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.02618415011028073984
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.06643620905554171904
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.014375637006524678144
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.010960650828767481856
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.07989595155268626432
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.06006880380701195264
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.06111390685956913152
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.0480182146724006912
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.017146957085359869952
  SMB-Basal IOB: 1.0797560446463008768U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0797560446463008768U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:19 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.87827763286113152 U
  Наш Basal IOB: 1.0797560446463008768 U
  Наш Total IOB: 2.9580336775074323968 U
  РАЗНИЦА: 2.9580336775074323968 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.8%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 95.8%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 86.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 52мин, остаток: 79.5%, IOB: 0.159U
  SMB: 0.2U, возраст: 65мин, остаток: 70.2%, IOB: 0.140U
  SMB: 0.2U, возраст: 70мин, остаток: 66.1%, IOB: 0.132U
  SMB: 0.2U, возраст: 74мин, остаток: 63.4%, IOB: 0.127U
  SMB: 0.2U, возраст: 80мин, остаток: 59.0%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 55.0%, IOB: 0.110U
  SMB: 0.2U, возраст: 94мин, остаток: 49.3%, IOB: 0.099U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.87827763286113152
  Custom Basal IOB: 1.0797560446463008768
  Custom Total IOB: 2.9580336775074323968
  Difference: 2.9580336775074323968
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9580336775074323968
  Difference: 2.9580336775074323968
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.0988168410370610176
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.04787057280344379392
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 53min, IOB: 0.15886565883446284288
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.1401920502417835008
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 71min, IOB: 0.13201493892404359168
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.1267152051216621568
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.11790164237766023168
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.1098146595627066368
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.09858202870400878592
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.09376207343675168768
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.1730112279148972032
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.1290223465023314944
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 133min, IOB: 0.013476253496889462784
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.02632467327133526528
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.02623256525291900416
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.02614648442477869056
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.0663271364560491008
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.01435107297839618048
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.010940475687531718656
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.07973549330777606144
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 196min, IOB: 0.05994605888206993408
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.06098347557657657344
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.04791186446682707968
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.0171057971716576768
  SMB-Basal IOB: 1.0786598357886851072U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0786598357886851072U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:24 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.87605059643362048 U
  Наш Basal IOB: 1.0786598357886851072 U
  Наш Total IOB: 2.9547104322223055872 U
  РАЗНИЦА: 2.9547104322223055872 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.8%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 95.7%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 86.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 53мин, остаток: 79.4%, IOB: 0.159U
  SMB: 0.2U, возраст: 65мин, остаток: 70.1%, IOB: 0.140U
  SMB: 0.2U, возраст: 71мин, остаток: 66.0%, IOB: 0.132U
  SMB: 0.2U, возраст: 74мин, остаток: 63.4%, IOB: 0.127U
  SMB: 0.2U, возраст: 80мин, остаток: 59.0%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 54.9%, IOB: 0.110U
  SMB: 0.2U, возраст: 94мин, остаток: 49.3%, IOB: 0.099U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.87605059643362048
  Custom Basal IOB: 1.0786598357886851072
  Custom Total IOB: 2.9547104322223055872
  Difference: 2.9547104322223055872
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9547104322223055872
  Difference: 2.9547104322223055872
  Show Custom: true
SMB-Basal: tick() - processing basal replacement
SMB-Basal: Updated compensation units: 0 U from 0 failed pulses
SMB-Basal: Current temp basal rate: 0 U/h, remaining: 5 min, isZero: true
DeviceDataManager.swift - updatePumpData() - 215 DEV: Start updating the pump data
DeviceDataManager.swift - updatePumpData() - 218 DEV: Waiting for pump update and loop recommendation
Skipping status update because pumpData is fresh
DeviceDataManager.swift - updatePumpData() - 221 DEV: Pump data updated.
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.09879465417007448064
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 26min, IOB: 0.04785156791517804544
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 53min, IOB: 0.1587442976519725056
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.1400671528258719744
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 71min, IOB: 0.13189078491649779712
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.12659211510741358592
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.1177812082710784
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.10969753079486951424
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.09847071017960308736
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.0936536460874590208
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 103min, IOB: 0.1728039195388322816
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.12884974452071579648
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 134min, IOB: 0.013457144040907286528
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.02628707068159647744
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.02619505367041337856
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.02610905803078189568
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.06621877727450251264
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.014326670929799770112
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.010920435546395201536
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.079576126838521344
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.05982415188393995264
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.06085394209996863488
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.04780625151684924416
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.01706492708016224256
  SMB-Basal IOB: 1.0775721778182125568U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0775721778182125568U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:29 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.873836941573404672 U
  Наш Basal IOB: 1.0775721778182125568 U
  Наш Total IOB: 2.9514091193916172288 U
  РАЗНИЦА: 2.9514091193916172288 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.8%, IOB: 0.099U
  Bolus: 0.05U, возраст: 26мин, остаток: 95.7%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 86.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 53мин, остаток: 79.4%, IOB: 0.159U
  SMB: 0.2U, возраст: 65мин, остаток: 70.0%, IOB: 0.140U
  SMB: 0.2U, возраст: 71мин, остаток: 65.9%, IOB: 0.132U
  SMB: 0.2U, возраст: 74мин, остаток: 63.3%, IOB: 0.127U
  SMB: 0.2U, возраст: 80мин, остаток: 58.9%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 54.8%, IOB: 0.110U
  SMB: 0.2U, возраст: 94мин, остаток: 49.2%, IOB: 0.098U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.873836941573404672
  Custom Basal IOB: 1.0775721778182125568
  Custom Total IOB: 2.9514091193916172288
  Difference: 2.9514091193916172288
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9514091193916172288
  Difference: 2.9514091193916172288
  Show Custom: true
-[WCSession onqueue_handleMessageCompletionWithError:withMessageID:] 2BA84E34-C16D-479E-B33D-1253F02EE216 due to WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
-[WCSession _onqueue_notifyOfMessageError:messageID:withErrorHandler:] 2BA84E34-C16D-479E-B33D-1253F02EE216 errorHandler: YES with WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
WatchManager.swift - sendState() - 121 WARN: errorWithInnerError("Cannot send message to watch", Error Domain=WCErrorDomain Code=7017 "Превышен лимит времени на передачу кода." UserInfo={NSLocalizedDescription=Превышен лимит времени на передачу кода., NSUnderlyingError=0x158cfd860 {Error Domain=com.apple.identityservices.error Code=23 "This message was a non-waking message and the destination device for this message did not wake before the timeout fired" UserInfo={NSLocalizedDescription=This message was a non-waking message and the destination device for this message did not wake before the timeout fired, NSUnderlyingError=0x158cfdfb0 {Error Domain=com.apple.ids.idssenderrordomain Code=34 "(null)"}}}})
-[WCSession onqueue_handleMessageCompletionWithError:withMessageID:] 25EF4859-F560-4EE6-ACB4-121D4F677129 due to WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
-[WCSession _onqueue_notifyOfMessageError:messageID:withErrorHandler:] 25EF4859-F560-4EE6-ACB4-121D4F677129 errorHandler: YES with WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
WatchManager.swift - sendState() - 126 DEV: Updated application context after sendMessageData failure
WatchManager.swift - sendState() - 121 WARN: errorWithInnerError("Cannot send message to watch", Error Domain=WCErrorDomain Code=7017 "Превышен лимит времени на передачу кода." UserInfo={NSLocalizedDescription=Превышен лимит времени на передачу кода., NSUnderlyingError=0x158cfda10 {Error Domain=com.apple.identityservices.error Code=23 "This message was a non-waking message and the destination device for this message did not wake before the timeout fired" UserInfo={NSLocalizedDescription=This message was a non-waking message and the destination device for this message did not wake before the timeout fired, NSUnderlyingError=0x158cfd590 {Error Domain=com.apple.ids.idssenderrordomain Code=34 "(null)"}}}})
WatchManager.swift - sendState() - 126 DEV: Updated application context after sendMessageData failure
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.09877235505400659968
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.0478325586507181568
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 53min, IOB: 0.15862327196769277952
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.1399426570133226496
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 71min, IOB: 0.13176704762226839552
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.12646944809483415552
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.11766120229947281408
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.10958082966983868416
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.09835981133813010432
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.09354563263939506176
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.17259741657797275648
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.12867784619051757568
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 134min, IOB: 0.013438114235979020288
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.02624962524100250112
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.0261576989178370048
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 135min, IOB: 0.02607178816760820736
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.0661108915839617024
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 167min, IOB: 0.014302376810244298752
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.010900485986847936512
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.07941749864126081024
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.0597028123595868672
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.0607250189465446912
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.04770114135021201408
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.017024256008090523648
  SMB-Basal IOB: 1.076489327550915584U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.076489327550915584U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:34 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.871631785367345664 U
  Наш Basal IOB: 1.076489327550915584 U
  Наш Total IOB: 2.948121112918261248 U
  РАЗНИЦА: 2.948121112918261248 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.8%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.7%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 86.6%, IOB: 0.000U
  SMB: 0.2U, возраст: 53мин, остаток: 79.3%, IOB: 0.159U
  SMB: 0.2U, возраст: 65мин, остаток: 70.0%, IOB: 0.140U
  SMB: 0.2U, возраст: 71мин, остаток: 65.9%, IOB: 0.132U
  SMB: 0.2U, возраст: 74мин, остаток: 63.2%, IOB: 0.126U
  SMB: 0.2U, возраст: 80мин, остаток: 58.8%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 54.8%, IOB: 0.110U
  SMB: 0.2U, возраст: 94мин, остаток: 49.2%, IOB: 0.098U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.871631785367345664
  Custom Basal IOB: 1.076489327550915584
  Custom Total IOB: 2.948121112918261248
  Difference: 2.948121112918261248
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.948121112918261248
  Difference: 2.948121112918261248
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.09874972187754008576
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.04781335613802733568
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 53min, IOB: 0.15850138015419039744
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.1398173268579504128
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 71min, IOB: 0.1316424986677963776
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.1263459863593208832
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.11754043318947930112
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.10946339774850891776
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.09824823137014480896
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.0934369609371293696
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.1723896692929439744
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.12850494534248124416
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 134min, IOB: 0.013418975207328575488
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.02621196529689749504
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.02612013024279646208
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.02603430492556270592
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.06600240865818336256
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.0142779495132689408
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.010880429025807159296
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.07925803451667631104
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.0595808361648348672
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.06059542673754554368
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.04759549091485766656
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.016983380373999599616
  SMB-Basal IOB: 1.0753976380911235072U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0753976380911235072U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:39 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.869413239513271808 U
  Наш Basal IOB: 1.0753976380911235072 U
  Наш Total IOB: 2.9448108776043953152 U
  РАЗНИЦА: 2.9448108776043953152 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.7%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.6%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 86.6%, IOB: 0.000U
  SMB: 0.2U, возраст: 53мин, остаток: 79.3%, IOB: 0.159U
  SMB: 0.2U, возраст: 65мин, остаток: 69.9%, IOB: 0.140U
  SMB: 0.2U, возраст: 71мин, остаток: 65.8%, IOB: 0.132U
  SMB: 0.2U, возраст: 74мин, остаток: 63.2%, IOB: 0.126U
  SMB: 0.2U, возраст: 80мин, остаток: 58.8%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 54.7%, IOB: 0.109U
  SMB: 0.2U, возраст: 94мин, остаток: 49.1%, IOB: 0.098U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.869413239513271808
  Custom Basal IOB: 1.0753976380911235072
  Custom Total IOB: 2.9448108776043953152
  Difference: 2.9448108776043953152
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9448108776043953152
  Difference: 2.9448108776043953152
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.09872701732750067712
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.04779418322358467584
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 53min, IOB: 0.1583800366851832832
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 65min, IOB: 0.1396926167209340928
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 71min, IOB: 0.13151858334557454336
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 74min, IOB: 0.12622316257522368512
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 80min, IOB: 0.11742030236724916224
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.10934659772999084032
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.09813726506606194688
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.09332889202261102592
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.17218308841177059328
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.12833304834121750528
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 134min, IOB: 0.013399949046940110848
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.0261745278606254592
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.0260827835975439104
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.02599704326552800256
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.06589458735277842432
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.01425367249810169856
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.010860497409035341824
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.07909958493343115264
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.05945963874887139328
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.0604666693049604608
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.04749052621745289216
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.016942774516735340544
  SMB-Basal IOB: 1.0743118964402829312U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0743118964402829312U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:44 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.86720704856890624 U
  Наш Basal IOB: 1.0743118964402829312 U
  Наш Total IOB: 2.9415189450091891712 U
  РАЗНИЦА: 2.9415189450091891712 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.7%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.6%, IOB: 0.048U
  Bolus: 0U, возраст: 42мин, остаток: 86.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 53мин, остаток: 79.2%, IOB: 0.158U
  SMB: 0.2U, возраст: 65мин, остаток: 69.8%, IOB: 0.140U
  SMB: 0.2U, возраст: 71мин, остаток: 65.8%, IOB: 0.132U
  SMB: 0.2U, возраст: 74мин, остаток: 63.1%, IOB: 0.126U
  SMB: 0.2U, возраст: 80мин, остаток: 58.7%, IOB: 0.117U
  SMB: 0.2U, возраст: 86мин, остаток: 54.7%, IOB: 0.109U
  SMB: 0.2U, возраст: 94мин, остаток: 49.1%, IOB: 0.098U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.86720704856890624
  Custom Basal IOB: 1.0743118964402829312
  Custom Total IOB: 2.9415189450091891712
  Difference: 2.9415189450091891712
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9415189450091891712
  Difference: 2.9415189450091891712
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.09870415502354456576
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.04777496590216969216
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 53min, IOB: 0.15825876892960909312
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.13956804019363708928
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 71min, IOB: 0.13139481814062895104
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.12610049737052721152
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.1173003408032811008
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.10922997345691518976
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 94min, IOB: 0.09802647889624369152
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.09322100362591051776
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.17197686657310396416
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.12816148299222237184
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 134min, IOB: 0.013380961333786648576
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.02613716649046726656
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 135min, IOB: 0.02604551289479796736
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.02595985743199875072
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 160min, IOB: 0.06578700567389152256
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.01422945073399764992
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 180min, IOB: 0.01084061309367405568
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.07894152927709595648
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.05933874537594902528
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.06033824221861625856
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.04738583598295440384
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.016902279284433688576
  SMB-Basal IOB: 1.0732297439592429568U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0732297439592429568U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:49 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.865004591699456512 U
  Наш Basal IOB: 1.0732297439592429568 U
  Наш Total IOB: 2.9382343356586994688 U
  РАЗНИЦА: 2.9382343356586994688 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.7%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.5%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 86.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 53мин, остаток: 79.1%, IOB: 0.158U
  SMB: 0.2U, возраст: 66мин, остаток: 69.8%, IOB: 0.140U
  SMB: 0.2U, возраст: 71мин, остаток: 65.7%, IOB: 0.131U
  SMB: 0.2U, возраст: 75мин, остаток: 63.0%, IOB: 0.126U
  SMB: 0.2U, возраст: 81мин, остаток: 58.6%, IOB: 0.117U
  SMB: 0.2U, возраст: 86мин, остаток: 54.6%, IOB: 0.109U
  SMB: 0.2U, возраст: 94мин, остаток: 49.0%, IOB: 0.098U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.865004591699456512
  Custom Basal IOB: 1.0732297439592429568
  Custom Total IOB: 2.9382343356586994688
  Difference: 2.9382343356586994688
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9382343356586994688
  Difference: 2.9382343356586994688
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 18min, IOB: 0.0986809567545616384
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.04775555486694354944
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 53min, IOB: 0.1581366366989303808
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.13944263174811056128
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 71min, IOB: 0.13127024391108112384
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.12597704018333843456
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.11717961896708503552
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.10911262132162332672
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09791501456204511232
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.09311245992763414528
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.17176940624160679936
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.12798892042467356672
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 134min, IOB: 0.01336186500756880384
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.02609959182417373184
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.02600802947488803328
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.02592245942295123456
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.0656788305304162304
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.014205096660450957312
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.010820622118253797376
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.07878264385846601728
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.0592172200899840512
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.06020915124361992192
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.04728060977172366336
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.016861581219845517312
  SMB-Basal IOB: 1.0721380956435361792U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0721380956435361792U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:54 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.862788806829975552 U
  Наш Basal IOB: 1.0721380956435361792 U
  Наш Total IOB: 2.9349269024735117312 U
  РАЗНИЦА: 2.9349269024735117312 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 18мин, остаток: 98.7%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.5%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 86.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 53мин, остаток: 79.1%, IOB: 0.158U
  SMB: 0.2U, возраст: 66мин, остаток: 69.7%, IOB: 0.139U
  SMB: 0.2U, возраст: 71мин, остаток: 65.6%, IOB: 0.131U
  SMB: 0.2U, возраст: 75мин, остаток: 63.0%, IOB: 0.126U
  SMB: 0.2U, возраст: 81мин, остаток: 58.6%, IOB: 0.117U
  SMB: 0.2U, возраст: 86мин, остаток: 54.6%, IOB: 0.109U
  SMB: 0.2U, возраст: 95мин, остаток: 49.0%, IOB: 0.098U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.862788806829975552
  Custom Basal IOB: 1.0721380956435361792
  Custom Total IOB: 2.9349269024735117312
  Difference: 2.9349269024735117312
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9349269024735117312
  Difference: 2.9349269024735117312
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.09865766757848723456
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.04773615527760027648
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 53min, IOB: 0.15801493128076847104
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.1393177173824897024
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 71min, IOB: 0.1311461778571708416
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.1258540964155966464
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.11705941335659296768
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.10899578220633522176
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09780405070615801856
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.09300440869430530048
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.17156290117136154624
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.12781718542107611136
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 134min, IOB: 0.01334286200730924032
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 135min, IOB: 0.02606220120540831744
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.02597072971666662912
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.02588524471412963328
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.06557120588549118976
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.014180867826648342528
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.010800735895036909568
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 194min, IOB: 0.07862460898791634944
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.05909634810074420224
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.06008076161718055936
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.04717596044351424512
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.016821110750415302656
  SMB-Basal IOB: 1.07105176954399232U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.07105176954399232U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:52:59 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.860583124498403328 U
  Наш Basal IOB: 1.07105176954399232 U
  Наш Total IOB: 2.931634894042395648 U
  РАЗНИЦА: 2.931634894042395648 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.7%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.5%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 86.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 53мин, остаток: 79.0%, IOB: 0.158U
  SMB: 0.2U, возраст: 66мин, остаток: 69.7%, IOB: 0.139U
  SMB: 0.2U, возраст: 71мин, остаток: 65.6%, IOB: 0.131U
  SMB: 0.2U, возраст: 75мин, остаток: 62.9%, IOB: 0.126U
  SMB: 0.2U, возраст: 81мин, остаток: 58.5%, IOB: 0.117U
  SMB: 0.2U, возраст: 86мин, остаток: 54.5%, IOB: 0.109U
  SMB: 0.2U, возраст: 95мин, остаток: 48.9%, IOB: 0.098U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.860583124498403328
  Custom Basal IOB: 1.07105176954399232
  Custom Total IOB: 2.931634894042395648
  Difference: 2.931634894042395648
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.931634894042395648
  Difference: 2.931634894042395648
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.09863418031642435584
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.0477166771889513472
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 53min, IOB: 0.1578930856831484928
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.13919271472911540224
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 71min, IOB: 0.13102204143379329024
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.12573109268110688256
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.11693916324818229248
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 86min, IOB: 0.10887891100627867648
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09769306953479839744
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.092896345685014016
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.17135638756343420928
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.12764547621561102336
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 134min, IOB: 0.013323863602356555776
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.02602482004322934272
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.0259334394530080256
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.02584803953512048128
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.06546362905002310656
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.01415665105622807552
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.010780861518925144064
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.07846668622831642624
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.0589755646002849792
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.05995247335252119552
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.04707139891862524928
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.01678067870663793664
  SMB-Basal IOB: 1.0699655568549480448U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0699655568549480448U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:04 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.858377251351134976 U
  Наш Basal IOB: 1.0699655568549480448 U
  Наш Total IOB: 2.9283428082060830208 U
  РАЗНИЦА: 2.9283428082060830208 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.6%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.4%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 86.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 53мин, остаток: 78.9%, IOB: 0.158U
  SMB: 0.2U, возраст: 66мин, остаток: 69.6%, IOB: 0.139U
  SMB: 0.2U, возраст: 71мин, остаток: 65.5%, IOB: 0.131U
  SMB: 0.2U, возраст: 75мин, остаток: 62.9%, IOB: 0.126U
  SMB: 0.2U, возраст: 81мин, остаток: 58.5%, IOB: 0.117U
  SMB: 0.2U, возраст: 86мин, остаток: 54.4%, IOB: 0.109U
  SMB: 0.2U, возраст: 95мин, остаток: 48.8%, IOB: 0.098U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.858377251351134976
  Custom Basal IOB: 1.0699655568549480448
  Custom Total IOB: 2.9283428082060830208
  Difference: 2.9283428082060830208
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9283428082060830208
  Difference: 2.9283428082060830208
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.09861056144104757248
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.04769717531013131264
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 53min, IOB: 0.15777144043794546688
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.1390679728754468864
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 71min, IOB: 0.13089818122625343488
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.12560837235599704064
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.11681920426353020928
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.10876233385940824064
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09758238068713637888
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.09278857237329133568
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.17115044148282150912
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.1274742716351833088
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 134min, IOB: 0.013304922763625885696
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.0259875525610704384
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.0258962626536359424
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.02581094761816635392
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.0653563998714069504
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.014132513842691360768
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.010761054372742309888
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.07830931558041790464
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.0588552061016795136
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.05982464384189868032
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.04696721646935684096
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.016740397700516581376
  SMB-Basal IOB: 1.0688817294806106112U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0688817294806106112U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:09 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.856177341325400576 U
  Наш Basal IOB: 1.0688817294806106112 U
  Наш Total IOB: 2.9250590708060111872 U
  РАЗНИЦА: 2.9250590708060111872 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.6%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.4%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 86.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 53мин, остаток: 78.9%, IOB: 0.158U
  SMB: 0.2U, возраст: 66мин, остаток: 69.5%, IOB: 0.139U
  SMB: 0.2U, возраст: 71мин, остаток: 65.4%, IOB: 0.131U
  SMB: 0.2U, возраст: 75мин, остаток: 62.8%, IOB: 0.126U
  SMB: 0.2U, возраст: 81мин, остаток: 58.4%, IOB: 0.117U
  SMB: 0.2U, возраст: 87мин, остаток: 54.4%, IOB: 0.109U
  SMB: 0.2U, возраст: 95мин, остаток: 48.8%, IOB: 0.098U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.856177341325400576
  Custom Basal IOB: 1.0688817294806106112
  Custom Total IOB: 2.9250590708060111872
  Difference: 2.9250590708060111872
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9250590708060111872
  Difference: 2.9250590708060111872
  Show Custom: true
centralManager(_:didDiscover:advertisementData:rssi:): <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 0, state = disconnected>, data = ["kCBAdvDataServiceUUIDs": <__NSArrayM 0x158cfe160>(
FEBC
)
, "kCBAdvDataRxSecondaryPHY": 0, "kCBAdvDataIsConnectable": 1, "kCBAdvDataTimestamp": 780285191.558274, "kCBAdvDataManufacturerData": <d00073a5 0204>, "kCBAdvDataRxPrimaryPHY": 129, "kCBAdvDataLocalName": DXCMHK]
Connecting to peripheral: E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
Unable to run command: central state = Optional("poweredOff"), peripheral state = CBPeripheralState(rawValue: 1)
Error applying peripheral configuration: notReady
Discovered peripheral from connectionEventDidOccur E926E760-258A-38B6-1809-3D3BC7BC94A7
Connecting to peripheral: E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
Unable to run command: central state = Optional("poweredOff"), peripheral state = CBPeripheralState(rawValue: 1)
Error applying peripheral configuration: notReady
centralManager(_:didConnect:): <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
didConnect to E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
discoverServices [F8083532-849E-531C-C594-30F1F86A4EA5]
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: []
characteristicsToDiscover: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
Discovering characteristics [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5] for <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
Peripheral configuration completed
Delegate configuration completed
Listening for authentication responses for Optional("DXCMHK")
Set notify true for <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
Ignoring authentication response: 03731f42d5cecffd3a0a8860316f4c08fe
Observed authenticated session. enabling notifications for control characteristic.
Set notify true for <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
Received control response: 4e00fa0b0c004d0a000103009800060dd9000f
Listening for backfill responses
Set notify true for <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [-]: New sensor DXCMHK discovered, activated at 2025-09-13 22:34:55 +0000
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [DXCMHK]: Sensor didRead G7GlucoseMessage(glucose:Optional(152), sequence:2637 glucoseIsDisplayOnly:false state:ok messageTimestamp:789498 age:3, data:4e00fa0b0c004d0a000103009800060dd9000f)
Stopping scan
FetchGlucoseManager.swift - subscribe() - 75 DEV: SyncDate is 2025-09-23 01:52:08 +0000
Received control response: 3200014b000000600035eb070003010275ec0700
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [DXCMHK]: Sensor comms 3200014b000000600035eb070003010275ec0700
Received control response: ea00030100000000000200000045ffffff
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [DXCMHK]: Sensor comms ea00030100000000000200000045ffffff
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.0985867465013351424
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.0476775960085481472
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 53min, IOB: 0.15764965929971503104
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.13894314674750216192
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 71min, IOB: 0.13077425451592409088
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.12548559582866079744
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.11669920436481329152
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.1086457280351773696
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09747167767111548928
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 98min, IOB: 0.09268079031598401536
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.17094449256295753728
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 123min, IOB: 0.12730309737660403712
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 134min, IOB: 0.013285987009696872448
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.02595029549603251712
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.02585909630664515584
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.02577386618630285312
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.06524922114162855936
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.014108389279114059776
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.010741259544004399104
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.078152060682054144
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.05873493885995239424
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 203min, IOB: 0.05969691859378515968
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 208min, IOB: 0.04686312416029421568
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 218min, IOB: 0.016700156000448188416
  SMB-Basal IOB: 1.0677979421113014272U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0677979421113014272U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:14 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.853977302488296704 U
  Наш Basal IOB: 1.0677979421113014272 U
  Наш Total IOB: 2.9217752445995981312 U
  РАЗНИЦА: 2.9217752445995981312 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.6%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.4%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 86.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 53мин, остаток: 78.8%, IOB: 0.158U
  SMB: 0.2U, возраст: 66мин, остаток: 69.5%, IOB: 0.139U
  SMB: 0.2U, возраст: 71мин, остаток: 65.4%, IOB: 0.131U
  SMB: 0.2U, возраст: 75мин, остаток: 62.7%, IOB: 0.125U
  SMB: 0.2U, возраст: 81мин, остаток: 58.3%, IOB: 0.117U
  SMB: 0.2U, возраст: 87мин, остаток: 54.3%, IOB: 0.109U
  SMB: 0.2U, возраст: 95мин, остаток: 48.7%, IOB: 0.097U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.853977302488296704
  Custom Basal IOB: 1.0677979421113014272
  Custom Total IOB: 2.9217752445995981312
  Difference: 2.9217752445995981312
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9217752445995981312
  Difference: 2.9217752445995981312
  Show Custom: true
FetchGlucoseManager.swift - subscribe() - 63 DEV: FetchGlucoseManager heartbeat
FetchGlucoseManager.swift - subscribe() - 64 DEV: Start fetching glucose
FetchTreatmentsManager.swift - subscribe() - 26 DEV: FetchTreatmentsManager heartbeat
FetchTreatmentsManager.swift - subscribe() - 27 DEV: Start fetching carbs and temptargets
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5Bcarbs%5D%5B$exists%5D=true&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:53:18.344Z
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary+Target&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bduration%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:53:18.348Z
HealthKitManager.swift - fetch() - 298 DEV: Start fetching HealthKitManager
Found system-connected peripheral: E926E760-258A-38B6-1809-3D3BC7BC94A7
Making peripheral active: E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
Discovering servicesToDiscover []
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
centralManager(_:didConnect:): <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
didConnect to E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
Discovering servicesToDiscover []
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [DXCMHK]: Sensor connected
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: [F8083534-849E-531C-C594-30F1F86A4EA5, F8083535-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
characteristicsToDiscover: []
Peripheral configuration completed
Delegate configuration completed
Listening for authentication responses for Optional("DXCMHK")
Set notify true for <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
HealthKitManager.swift - fetch() - 300 DEV: HealthKitManager cant return any data, because useAppleHealth option is disable
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.09856273636064344064
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.04765793992658799616
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 53min, IOB: 0.15752774598914404352
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.13881824011692521472
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 71min, IOB: 0.130650265034501632
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.12536276678907133952
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.1165791671484904448
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.1085290970205816832
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09736096378842660864
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.09257300272439552
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.17073854693127985152
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.12713195851429654528
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 134min, IOB: 0.013267056901102403584
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.02591304995081584128
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.02582194151202520064
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.0257367963369824768
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.0651420960259964928
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.01408427807768795136
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.010721477616807913472
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.0779949261725426688
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.05861476642322241536
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.05956930137654170624
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.04675912506285865984
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.016659954794287163392
  SMB-Basal IOB: 1.0667127333982142464U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0667127333982142464U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:19 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.851777200595215104 U
  Наш Basal IOB: 1.0667127333982142464 U
  Наш Total IOB: 2.9184899339934293504 U
  РАЗНИЦА: 2.9184899339934293504 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.6%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.3%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 86.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 53мин, остаток: 78.8%, IOB: 0.158U
  SMB: 0.2U, возраст: 66мин, остаток: 69.4%, IOB: 0.139U
  SMB: 0.2U, возраст: 71мин, остаток: 65.3%, IOB: 0.131U
  SMB: 0.2U, возраст: 75мин, остаток: 62.7%, IOB: 0.125U
  SMB: 0.2U, возраст: 81мин, остаток: 58.3%, IOB: 0.117U
  SMB: 0.2U, возраст: 87мин, остаток: 54.3%, IOB: 0.109U
  SMB: 0.2U, возраст: 95мин, остаток: 48.7%, IOB: 0.097U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.851777200595215104
  Custom Basal IOB: 1.0667127333982142464
  Custom Total IOB: 2.9184899339934293504
  Difference: 2.9184899339934293504
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9184899339934293504
  Difference: 2.9184899339934293504
  Show Custom: true
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [DXCMHK]: Sensor error Error enabling notification for authentication: timeout
centralManager(_:didDisconnectPeripheral:error:): <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = disconnected>
Sensor disconnected: wasRemoteDisconnect:true
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [DXCMHK]: Sensor disconnected: suspectedEndOfSession=false
Retrieved peripheral E926E760-258A-38B6-1809-3D3BC7BC94A7
Making peripheral active: E926E760-258A-38B6-1809-3D3BC7BC94A7
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.0985385520182739968
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.04763822407852920832
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.15740580530422157312
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.1386933602399509504
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.13052631921518145536
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.12523999065438560256
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.11645919560703021056
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.10841254086313797632
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09725033398471507968
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.09246530202469148672
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.17053278115585841152
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.12696100171294062592
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 134min, IOB: 0.01324814865769096192
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.02587584783772517888
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.02578483010421894144
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.02569976983176747008
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.06503511627619841024
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.014060200887441199104
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.010701725529708044288
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.07783804657588365312
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.05849479166836824064
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.05944190143081291776
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.04665530819398111232
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.016619828486364424192
  SMB-Basal IOB: 1.0656285276405374976U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0656285276405374976U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:24 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.849578922339077632 U
  Наш Basal IOB: 1.0656285276405374976 U
  Наш Total IOB: 2.9152074499796151296 U
  РАЗНИЦА: 2.9152074499796151296 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.5%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.3%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 86.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.7%, IOB: 0.157U
  SMB: 0.2U, возраст: 66мин, остаток: 69.3%, IOB: 0.139U
  SMB: 0.2U, возраст: 72мин, остаток: 65.3%, IOB: 0.131U
  SMB: 0.2U, возраст: 75мин, остаток: 62.6%, IOB: 0.125U
  SMB: 0.2U, возраст: 81мин, остаток: 58.2%, IOB: 0.116U
  SMB: 0.2U, возраст: 87мин, остаток: 54.2%, IOB: 0.108U
  SMB: 0.2U, возраст: 95мин, остаток: 48.6%, IOB: 0.097U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.849578922339077632
  Custom Basal IOB: 1.0656285276405374976
  Custom Total IOB: 2.9152074499796151296
  Difference: 2.9152074499796151296
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9152074499796151296
  Difference: 2.9152074499796151296
  Show Custom: true
SMB-Basal: tick() - processing basal replacement
SMB-Basal: Updated compensation units: 0 U from 0 failed pulses
SMB-Basal: Current temp basal rate: 0 U/h, remaining: 4 min, isZero: true
DeviceDataManager.swift - updateUpdateFinished(_:) - 235 WARN: error("Loop recommendation time out or got error. Trying to loop right now.")
APSManager.swift - loop() - 161 DEV: Starting loop
APSManager.swift - determineBasal() - 244 DEV: Start determine basal
OpenAPS.swift - makeProfiles(useAutotune:) - 192 DEV: Start makeProfiles
OpenAPS.swift - determineBasal(currentTemp:clock:) - 32 DEV: Start determineBasal
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:52:19 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.09853399777923452928
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.04763452045202422784
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.157382936732333568
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.13866994654135373824
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.13050308254300585984
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.1252169743405010944
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.11643670661072791552
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.10839069331751661568
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09722959873506162688
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.09244511633420275712
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.17049421725957246976
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.12692896521647939584
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.01324460553430244352
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.02586887676123431936
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.02577787603116689408
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.02569283167435979776
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.0650150722693163008
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.014055689865694656512
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.010698025060201455616
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.07780865784088774656
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 197min, IOB: 0.05847231673432676352
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.059418036349220352
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.04663586136654311424
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.016612312579950084096
  SMB-Basal IOB: 1.0654222106469224448U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0654222106469224448U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:25 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.849166917929217536 U
  Наш Basal IOB: 1.0654222106469224448 U
  Наш Total IOB: 2.9145891285761399808 U
  РАЗНИЦА: 2.9145891285761399808 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.5%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.3%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 86.0%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.7%, IOB: 0.157U
  SMB: 0.2U, возраст: 66мин, остаток: 69.3%, IOB: 0.139U
  SMB: 0.2U, возраст: 72мин, остаток: 65.3%, IOB: 0.131U
  SMB: 0.2U, возраст: 75мин, остаток: 62.6%, IOB: 0.125U
  SMB: 0.2U, возраст: 81мин, остаток: 58.2%, IOB: 0.116U
  SMB: 0.2U, возраст: 87мин, остаток: 54.2%, IOB: 0.108U
  SMB: 0.2U, возраст: 95мин, остаток: 48.6%, IOB: 0.097U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.849166917929217536
  Custom Basal IOB: 1.0654222106469224448
  Custom Total IOB: 2.9145891285761399808
  Difference: 2.9145891285761399808
SMB-Basal: Custom IOB saved for middleware - Total: 2.9145891285761399808U
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.1), final insulin: Optional(0.1)
OpenAPS: SMB bolus Optional(0.1)U at 2025-09-23 01:33:55 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.05)U at 2025-09-23 01:25:30 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0)U at 2025-09-23 01:09:48 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:59:23 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:46:49 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:41:21 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:37:47 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:31:45 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:26:05 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:17:54 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0)U at 2025-09-23 00:17:32 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0)U at 2025-09-23 00:17:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-23 00:14:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-23 00:08:33 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 23:49:16 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.050000000000000044)U at 2025-09-22 23:38:25 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:37:02 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:36:50 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:36:38 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 23:11:51 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 23:04:38 +0000 - shouldFilter: true
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 22:51:49 +0000 - shouldFilter: true
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 22:38:03 +0000 - shouldFilter: true
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.8), final insulin: Optional(0.8)
OpenAPS: SMB bolus Optional(0.8)U at 2025-09-22 22:35:29 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.95), final insulin: Optional(0.95)
OpenAPS: SMB bolus Optional(0.95)U at 2025-09-22 22:29:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.85), final insulin: Optional(0.85)
OpenAPS: SMB bolus Optional(0.85)U at 2025-09-22 22:24:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 22:14:16 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 21:06:37 +0000 - shouldFilter: true
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-22 20:54:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-22 20:49:16 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.3), final insulin: Optional(0.3)
OpenAPS: SMB bolus Optional(0.3)U at 2025-09-22 20:44:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 20:34:16 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.55), final insulin: Optional(0.55)
OpenAPS: SMB bolus Optional(0.55)U at 2025-09-22 20:29:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.65), final insulin: Optional(0.65)
OpenAPS: SMB bolus Optional(0.65)U at 2025-09-22 20:24:21 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.55), final insulin: Optional(0.55)
OpenAPS: SMB bolus Optional(0.55)U at 2025-09-22 20:19:17 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.55), final insulin: Optional(0.55)
OpenAPS: SMB bolus Optional(0.55)U at 2025-09-22 20:14:15 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 20:07:57 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 20:07:35 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.6), final insulin: Optional(0.6)
OpenAPS: SMB bolus Optional(0.6)U at 2025-09-22 20:04:14 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.65), final insulin: Optional(0.65)
OpenAPS: SMB bolus Optional(0.65)U at 2025-09-22 19:56:59 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.4), final insulin: Optional(0.4)
OpenAPS: SMB bolus Optional(0.4)U at 2025-09-22 19:36:41 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.25), final insulin: Optional(0.25)
OpenAPS: SMB bolus Optional(0.25)U at 2025-09-22 19:29:15 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.3), final insulin: Optional(0.3)
OpenAPS: SMB bolus Optional(0.3)U at 2025-09-22 19:24:14 +0000 - shouldFilter: false
OpenAPS: SMB bolus debug - insulin field: nil, amount field: Optional(0.2), final insulin: Optional(0.2)
OpenAPS: SMB bolus Optional(0.2)U at 2025-09-22 19:19:18 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.4)U at 2025-09-22 18:59:20 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.4)U at 2025-09-22 18:49:31 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.4)U at 2025-09-22 18:46:26 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.3)U at 2025-09-22 18:39:19 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.3)U at 2025-09-22 18:31:25 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.45)U at 2025-09-22 17:56:44 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(3)U at 2025-09-22 17:20:13 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.6)U at 2025-09-22 16:57:57 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 16:08:40 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.05)U at 2025-09-22 15:59:27 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 15:49:50 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 15:15:31 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 14:31:47 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 14:31:36 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 14:10:20 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.1)U at 2025-09-22 14:06:12 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.2)U at 2025-09-22 13:59:47 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.05)U at 2025-09-22 13:50:00 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 13:20:06 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.25)U at 2025-09-22 13:08:44 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.35)U at 2025-09-22 12:29:39 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(1)U at 2025-09-22 12:11:11 +0000 - shouldFilter: false
OpenAPS: Regular bolus Optional(0.5)U at 2025-09-22 12:09:50 +0000 - shouldFilter: false
App is being debugged, do not track this hang
Hang detected: 0.64s (debugger attached, not reporting)
OpenAPS: PumpHistory before IOB calculation (first 500 chars): [{"automatic":true,"timestamp":"2025-09-23T01:39:05.074Z","delivered_units":0.050000000000000003,"id":"5b2cb2cb856e02e5f1134c27d07f7982","duration":0,"amount":0.050000000000000003,"_type":"SMB-Basal"},{"automatic":true,"_type":"SMB-Basal","amount":0.050000000000000003,"delivered_units":0.050000000000000003,"id":"d2123528d0ff522e9f2b46a192f905b0","timestamp":"2025-09-23T01:37:05.058Z","duration":0},{"id":"0a22a4e3cecf64b2d0a9f09e8348874c","delivered_units":0.050000000000000003,"amount":0.05000000
OpenAPS: IOB calculation result: [
    {
        "iob": -0.682,
        "activity": -0.0063,
        "basaliob": -0.747,
        "bolusiob": 0.065,
        "netbasalinsulin": -1.85,
        "bolusinsulin": 0.3,
        "time": "2025-
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Called - заменяем системный IOB на наш расчет
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Temp basal 0 U/h < profile basal 0.75 U/h
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Informing OpenAPS that SMB-basal covers basal need
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Set temp basal to 0.75 U/h to represent SMB-basal coverage
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Custom IOB data not available
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: ⚠️ Не удалось получить наш IOB расчет
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Fallback - исправляем отрицательный basal IOB: -0.747
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: SMB-Basal Middleware: Fallback IOB исправлен - basal IOB: -0.747 -> 0, total IOB: -0.682 -> 0.065
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: Middleware reason: SMB-basal middleware: Informed OpenAPS that basal need (0.75 U/h) is covered by SMB-basal + Fixed negative basal IOB (fallback)
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: Autosens ratio: 0.71;
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: Adjusting basal from 0.75 to 0.55;
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: target_bg from 99 to 115;
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: ISF from 90 to 126.8
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: ; CR:,17
JavaScriptWorker.swift - createContext() - 23 DEV: JavaScript log: currenttemp:,[object Object],lastTempAge:,25,m,tempModulus:,25,m
OpenAPS.swift - determineBasal(currentTemp:clock:) - 102 DEV: SUGGESTED: {
    "temp": "absolute",
    "deliverAt": "2025-09-23T01:53:26.810Z",
    "reason": "Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp",
    "duration": 0,
    "rate": 0
}
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/devicestatus.json
APSManager.swift - enactSuggested() - 715 DEV: SMB-basal active: skipping OpenAPS temp basal (pump held at 0 U/h)
APSManager.swift - enactSuggested() - 744 DEV: No bolus required
APSManager.swift - loopCompleted(error:) - 199 DEV: Loop succeeded
UserNotificationsManager.swift - ensureCanSendNotification(_:) - 313 DEV: Sending notification was allowed
APSManager.swift - reportEnacted(received:) - 805 DEV: Suggestion enacted. Received: true
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/devicestatus.json
NightscoutManager.swift - uploadStatus() - 483 DEV: Status uploaded
NightscoutManager.swift - uploadStatus() - 483 DEV: Status uploaded
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending noLoopFirstNotification notification
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending noLoopSecondNotification notification
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.09851418777841389568
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 27min, IOB: 0.04761844357221804032
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.1572838059555922944
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.13856847490955139072
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.13040238504113416192
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.12511723568142460928
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.1163392586813099008
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.10829602935567536128
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09713975955103076352
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.09235766025359136768
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 104min, IOB: 0.17032714177251364864
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.12679018246201110528
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.013229257351840002048
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.02583867946053411328
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.0257477524104809216
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.02566277701989216256
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.06492825395712038912
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.014036151418059343872
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.010681998117772443648
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.077681380829314304
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 198min, IOB: 0.05837498318629322752
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.05931468538749431808
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.0465516463503581184
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.01657976655285992448
  SMB-Basal IOB: 1.0645444296029310976U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0645444296029310976U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:29 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.847381897056485888 U
  Наш Basal IOB: 1.0645444296029310976 U
  Наш Total IOB: 2.9119263266594169856 U
  РАЗНИЦА: 2.9119263266594169856 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.5%, IOB: 0.099U
  Bolus: 0.05U, возраст: 27мин, остаток: 95.2%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 86.0%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.6%, IOB: 0.157U
  SMB: 0.2U, возраст: 66мин, остаток: 69.3%, IOB: 0.139U
  SMB: 0.2U, возраст: 72мин, остаток: 65.2%, IOB: 0.130U
  SMB: 0.2U, возраст: 75мин, остаток: 62.6%, IOB: 0.125U
  SMB: 0.2U, возраст: 81мин, остаток: 58.2%, IOB: 0.116U
  SMB: 0.2U, возраст: 87мин, остаток: 54.1%, IOB: 0.108U
  SMB: 0.2U, возраст: 95мин, остаток: 48.6%, IOB: 0.097U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.847381897056485888
  Custom Basal IOB: 1.0645444296029310976
  Custom Total IOB: 2.9119263266594169856
  Difference: 2.9119263266594169856
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9119263266594169856
  Difference: 2.9119263266594169856
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.09848965263332888576
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 28min, IOB: 0.04759860545186425856
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.15716179032176771072
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.13844362733700870144
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.1302785053418645504
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.12499454426257072128
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.116219397747844096
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.10817960265945358336
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09702927856293810176
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.09225011446177959936
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 105min, IOB: 0.1701216995220322304
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.12661955942940694528
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.013210389466917105664
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.02580155757403598336
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.02571072115431807488
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 136min, IOB: 0.02562583059557945856
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.06482154568515948544
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 168min, IOB: 0.01401213790678985728
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.01066230213307630592
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.07752498251178817536
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 198min, IOB: 0.05825538194453904384
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.05918769673006971904
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.04644817495264799744
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.016539782672699090944
  SMB-Basal IOB: 1.06346117849522176U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.06346117849522176U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:34 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.845186881059479552 U
  Наш Basal IOB: 1.06346117849522176 U
  Наш Total IOB: 2.908648059554701312 U
  РАЗНИЦА: 2.908648059554701312 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.5%, IOB: 0.098U
  Bolus: 0.05U, возраст: 28мин, остаток: 95.2%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 85.9%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.6%, IOB: 0.157U
  SMB: 0.2U, возраст: 66мин, остаток: 69.2%, IOB: 0.138U
  SMB: 0.2U, возраст: 72мин, остаток: 65.1%, IOB: 0.130U
  SMB: 0.2U, возраст: 75мин, остаток: 62.5%, IOB: 0.125U
  SMB: 0.2U, возраст: 81мин, остаток: 58.1%, IOB: 0.116U
  SMB: 0.2U, возраст: 87мин, остаток: 54.1%, IOB: 0.108U
  SMB: 0.2U, возраст: 95мин, остаток: 48.5%, IOB: 0.097U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.845186881059479552
  Custom Basal IOB: 1.06346117849522176
  Custom Total IOB: 2.908648059554701312
  Difference: 2.908648059554701312
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.908648059554701312
  Difference: 2.908648059554701312
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.09846490605950830592
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 28min, IOB: 0.04757867685692473344
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.1570395558970605568
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.13831861025467559936
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.13015447443757023232
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.1248717126803453952
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.11609941377375336448
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.10806306743248293888
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09691870753854406656
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.09214248603689336832
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 105min, IOB: 0.16991611319157526528
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.12644884920213772288
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.01319151366101803008
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.02576442051383062528
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.02567367482183126528
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 137min, IOB: 0.02558886918580270592
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.06471481418925688832
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 169min, IOB: 0.013988120459993976832
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.010642604853695664128
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.0773685917834563072
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 198min, IOB: 0.05813578923683984384
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.05906072447626899456
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.04634472208917215232
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.016499810413803311104
  SMB-Basal IOB: 1.0623764945222961152U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0623764945222961152U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:39 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8429902290464411648 U
  Наш Basal IOB: 1.0623764945222961152 U
  Наш Total IOB: 2.90536672356873728 U
  РАЗНИЦА: 2.90536672356873728 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.5%, IOB: 0.098U
  Bolus: 0.05U, возраст: 28мин, остаток: 95.2%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 85.9%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.5%, IOB: 0.157U
  SMB: 0.2U, возраст: 66мин, остаток: 69.2%, IOB: 0.138U
  SMB: 0.2U, возраст: 72мин, остаток: 65.1%, IOB: 0.130U
  SMB: 0.2U, возраст: 75мин, остаток: 62.4%, IOB: 0.125U
  SMB: 0.2U, возраст: 81мин, остаток: 58.0%, IOB: 0.116U
  SMB: 0.2U, возраст: 87мин, остаток: 54.0%, IOB: 0.108U
  SMB: 0.2U, возраст: 95мин, остаток: 48.5%, IOB: 0.097U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8429902290464411648
  Custom Basal IOB: 1.0623764945222961152
  Custom Total IOB: 2.90536672356873728
  Difference: 2.90536672356873728
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.90536672356873728
  Difference: 2.90536672356873728
  Show Custom: true
-[WCSession onqueue_handleMessageCompletionWithError:withMessageID:] B766DADC-431B-4943-947D-EB50DE0B6B94 due to WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
-[WCSession _onqueue_notifyOfMessageError:messageID:withErrorHandler:] B766DADC-431B-4943-947D-EB50DE0B6B94 errorHandler: YES with WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
WatchManager.swift - sendState() - 121 WARN: errorWithInnerError("Cannot send message to watch", Error Domain=WCErrorDomain Code=7017 "Превышен лимит времени на передачу кода." UserInfo={NSLocalizedDescription=Превышен лимит времени на передачу кода., NSUnderlyingError=0x158cffa20 {Error Domain=com.apple.identityservices.error Code=23 "This message was a non-waking message and the destination device for this message did not wake before the timeout fired" UserInfo={NSLocalizedDescription=This message was a non-waking message and the destination device for this message did not wake before the timeout fired, NSUnderlyingError=0x158cffc60 {Error Domain=com.apple.ids.idssenderrordomain Code=34 "(null)"}}}})
-[WCSession onqueue_handleMessageCompletionWithError:withMessageID:] F3115FB9-92F6-4576-B605-243D56A0EF4E due to WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
-[WCSession _onqueue_notifyOfMessageError:messageID:withErrorHandler:] F3115FB9-92F6-4576-B605-243D56A0EF4E errorHandler: YES with WCErrorCodeTransferTimedOut -> IDSErrorTypeTimedOut -> com.apple.ids.idssenderrordomain:34
WatchManager.swift - sendState() - 126 DEV: Updated application context after sendMessageData failure
WatchManager.swift - sendState() - 121 WARN: errorWithInnerError("Cannot send message to watch", Error Domain=WCErrorDomain Code=7017 "Превышен лимит времени на передачу кода." UserInfo={NSLocalizedDescription=Превышен лимит времени на передачу кода., NSUnderlyingError=0x158cffae0 {Error Domain=com.apple.identityservices.error Code=23 "This message was a non-waking message and the destination device for this message did not wake before the timeout fired" UserInfo={NSLocalizedDescription=This message was a non-waking message and the destination device for this message did not wake before the timeout fired, NSUnderlyingError=0x158cffd20 {Error Domain=com.apple.ids.idssenderrordomain Code=34 "(null)"}}}})
WatchManager.swift - sendState() - 126 DEV: Updated application context after sendMessageData failure
Scheduling session Get pod status
======================== Get pod status ===========================
Send(Hex): 17a8db2d30030e0107026e
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d30030e0107026e
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.09844017060256227328
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 28min, IOB: 0.04755883604734688256
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.1569181920290650112
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 66min, IOB: 0.13819453715999608832
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.13003139683942909952
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 75min, IOB: 0.1247498346515329024
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 81min, IOB: 0.11598037495485128704
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.1079474610364623872
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09680903059440257024
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.09203573284612401152
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 105min, IOB: 0.1697122122875037696
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.1262795705436500992
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.01317279784708865024
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.025727598634189696
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.02563694295951904256
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 137min, IOB: 0.02555222158097420288
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.06460900866874443776
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 169min, IOB: 0.013964312658224918528
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.010623081420193783808
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.07721359900889171968
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 198min, IOB: 0.05801726825077704704
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.0589348973362939904
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.04624220733869422592
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.016460205034746785792
  SMB-Basal IOB: 1.061302882505259008U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.061302882505259008U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:44 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8408114903312652288 U
  Наш Basal IOB: 1.061302882505259008 U
  Наш Total IOB: 2.9021143728365242368 U
  РАЗНИЦА: 2.9021143728365242368 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.4%, IOB: 0.098U
  Bolus: 0.05U, возраст: 28мин, остаток: 95.1%, IOB: 0.048U
  Bolus: 0U, возраст: 43мин, остаток: 85.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.5%, IOB: 0.157U
  SMB: 0.2U, возраст: 66мин, остаток: 69.1%, IOB: 0.138U
  SMB: 0.2U, возраст: 72мин, остаток: 65.0%, IOB: 0.130U
  SMB: 0.2U, возраст: 75мин, остаток: 62.4%, IOB: 0.125U
  SMB: 0.2U, возраст: 81мин, остаток: 58.0%, IOB: 0.116U
  SMB: 0.2U, возраст: 87мин, остаток: 54.0%, IOB: 0.108U
  SMB: 0.2U, возраст: 95мин, остаток: 48.4%, IOB: 0.097U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8408114903312652288
  Custom Basal IOB: 1.061302882505259008
  Custom Total IOB: 2.9021143728365242368
  Difference: 2.9021143728365242368
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.9021143728365242368
  Difference: 2.9021143728365242368
  Show Custom: true
Recv(Hex): 17a8db2d340a1d28040cb0004044dbff803a
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d340a1d28040cb0004044dbff803a
POD Response: StatusResponse(deliveryStatus:Подается временный базал, progressStatus:Норма, timeActive:73h26m, reservoirLevel:50+, insulinDelivered:103.65, bolusNotDelivered:0.00, lastProgrammingMessageSeqNum:6, alerts:slot7Expired)
DeviceDataManager.swift - pumpManager(_:hasNewPumpEvents:lastReconciliation:replacePendingEvents:completion:) - 465 DEV: New pump events:
ВБС
DU: Stored pod events: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно]
Stored doses: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно]
------------------------ Get pod status ---------------------------
Start of idle at Optional(2025-09-23 01:53:45 +0000)
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.09841499136914489344
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 28min, IOB: 0.04753871829861006336
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.1567954683986336768
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 67min, IOB: 0.13806912805409357824
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.1299070108762272768
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 76min, IOB: 0.12462667056758642688
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 82min, IOB: 0.11586009388370317312
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.1078306591593273344
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 95min, IOB: 0.09669823240140888064
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.0919278932953161728
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 105min, IOB: 0.16950625015190130688
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.12610861304750116864
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.01315389813582032896
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.02569041536112835584
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 136min, IOB: 0.02559985064753737728
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 137min, IOB: 0.02551521440954844672
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 161min, IOB: 0.06450218507727484928
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 169min, IOB: 0.013940277065686249472
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 181min, IOB: 0.01060337312124921856
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.07705715649657549824
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 198min, IOB: 0.0578976414007396352
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.05880790350911094784
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.04613874722942921728
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.016420238890941042688
  SMB-Basal IOB: 1.0602132088757551104U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0602132088757551104U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:49 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.838610630848495616 U
  Наш Basal IOB: 1.0602132088757551104 U
  Наш Total IOB: 2.8988238397242507264 U
  РАЗНИЦА: 2.8988238397242507264 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.4%, IOB: 0.098U
  Bolus: 0.05U, возраст: 28мин, остаток: 95.1%, IOB: 0.048U
  Bolus: 0U, возраст: 44мин, остаток: 85.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.4%, IOB: 0.157U
  SMB: 0.2U, возраст: 67мин, остаток: 69.0%, IOB: 0.138U
  SMB: 0.2U, возраст: 72мин, остаток: 65.0%, IOB: 0.130U
  SMB: 0.2U, возраст: 76мин, остаток: 62.3%, IOB: 0.125U
  SMB: 0.2U, возраст: 82мин, остаток: 57.9%, IOB: 0.116U
  SMB: 0.2U, возраст: 87мин, остаток: 53.9%, IOB: 0.108U
  SMB: 0.2U, возраст: 95мин, остаток: 48.3%, IOB: 0.097U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.838610630848495616
  Custom Basal IOB: 1.0602132088757551104
  Custom Total IOB: 2.8988238397242507264
  Difference: 2.8988238397242507264
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8988238397242507264
  Difference: 2.8988238397242507264
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 19min, IOB: 0.09838975546813595648
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 28min, IOB: 0.04751863338288859136
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.15667327673686454272
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 67min, IOB: 0.13794431639600992256
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.1297832343374212096
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 76min, IOB: 0.12450411943805190144
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 82min, IOB: 0.11574042520381233152
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.10771446286611601408
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 96min, IOB: 0.09658802152945805312
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.09182063036179335168
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 105min, IOB: 0.16930140298199986176
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.1259386133009225728
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.01313510601856950272
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.02565344417711159808
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 137min, IOB: 0.02556296996583827968
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 137min, IOB: 0.02547841843870824448
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 162min, IOB: 0.06439599110317377536
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 169min, IOB: 0.013916384425291368448
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 182min, IOB: 0.010583783965474525184
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.07690167755939902464
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 198min, IOB: 0.05777875409290676224
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.05868170209757313024
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.04603593785141881856
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.01638052857566396416
  SMB-Basal IOB: 1.0591313873118623744U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0591313873118623744U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:54 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8364215902746034176 U
  Наш Basal IOB: 1.0591313873118623744 U
  Наш Total IOB: 2.895552977586465792 U
  РАЗНИЦА: 2.895552977586465792 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 19мин, остаток: 98.4%, IOB: 0.098U
  Bolus: 0.05U, возраст: 28мин, остаток: 95.0%, IOB: 0.048U
  Bolus: 0U, возраст: 44мин, остаток: 85.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.3%, IOB: 0.157U
  SMB: 0.2U, возраст: 67мин, остаток: 69.0%, IOB: 0.138U
  SMB: 0.2U, возраст: 72мин, остаток: 64.9%, IOB: 0.130U
  SMB: 0.2U, возраст: 76мин, остаток: 62.3%, IOB: 0.125U
  SMB: 0.2U, возраст: 82мин, остаток: 57.9%, IOB: 0.116U
  SMB: 0.2U, возраст: 87мин, остаток: 53.9%, IOB: 0.108U
  SMB: 0.2U, возраст: 96мин, остаток: 48.3%, IOB: 0.097U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8364215902746034176
  Custom Basal IOB: 1.0591313873118623744
  Custom Total IOB: 2.895552977586465792
  Difference: 2.895552977586465792
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.895552977586465792
  Difference: 2.895552977586465792
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 20min, IOB: 0.09836433265015912448
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 28min, IOB: 0.04749847691940743168
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.15655097896358703104
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 67min, IOB: 0.1378194499287597056
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.12965942022075127808
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 76min, IOB: 0.12438154057882189824
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 82min, IOB: 0.11562074317396402176
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.10759826447285977088
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 96min, IOB: 0.09647782147991570432
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.09171338292193662976
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 105min, IOB: 0.1690965990385091584
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.1257686815920621568
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.013116323129513549824
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 136min, IOB: 0.02561649155583118336
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 137min, IOB: 0.02552610786131675648
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 137min, IOB: 0.02544164105827315712
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 162min, IOB: 0.06428987069393168384
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 169min, IOB: 0.01389250961933832192
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 182min, IOB: 0.010564211354509369344
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 195min, IOB: 0.07674634772368602112
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 198min, IOB: 0.05765998351518790656
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.05855563191164852224
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.045933240526061184
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.016340865986105731072
  SMB-Basal IOB: 1.0580493736622751744U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0580493736622751744U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:53:59 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8342329168761376768 U
  Наш Basal IOB: 1.0580493736622751744 U
  Наш Total IOB: 2.8922822905384128512 U
  РАЗНИЦА: 2.8922822905384128512 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 20мин, остаток: 98.4%, IOB: 0.098U
  Bolus: 0.05U, возраст: 28мин, остаток: 95.0%, IOB: 0.047U
  Bolus: 0U, возраст: 44мин, остаток: 85.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.3%, IOB: 0.157U
  SMB: 0.2U, возраст: 67мин, остаток: 68.9%, IOB: 0.138U
  SMB: 0.2U, возраст: 72мин, остаток: 64.8%, IOB: 0.130U
  SMB: 0.2U, возраст: 76мин, остаток: 62.2%, IOB: 0.124U
  SMB: 0.2U, возраст: 82мин, остаток: 57.8%, IOB: 0.116U
  SMB: 0.2U, возраст: 87мин, остаток: 53.8%, IOB: 0.108U
  SMB: 0.2U, возраст: 96мин, остаток: 48.2%, IOB: 0.096U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8342329168761376768
  Custom Basal IOB: 1.0580493736622751744
  Custom Total IOB: 2.8922822905384128512
  Difference: 2.8922822905384128512
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8922822905384128512
  Difference: 2.8922822905384128512
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 20min, IOB: 0.09833874237009410048
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 28min, IOB: 0.04747826413928827904
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.1564286666669910016
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 67min, IOB: 0.13769462203116443648
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.12953566107673337856
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 76min, IOB: 0.12425902559383228416
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 82min, IOB: 0.11550113719981645824
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 87min, IOB: 0.1074821507565809664
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 96min, IOB: 0.09636771451958423552
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.09160623102661702656
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 105min, IOB: 0.16889199115774398464
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.1255989446602143744
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.013097563473662029824
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 137min, IOB: 0.02557958504924574208
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 137min, IOB: 0.02548929181831371776
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 137min, IOB: 0.02540490968929421312
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 162min, IOB: 0.06418390293158944768
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 169min, IOB: 0.01386867043710121984
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 182min, IOB: 0.010544669868456101888
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 196min, IOB: 0.07659128266685233152
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 198min, IOB: 0.0575414181138753536
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.0584297868211471872
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.04583073171157004288
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.016301280643887228928
  SMB-Basal IOB: 1.0569678776235431936U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0569678776235431936U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:54:04 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8320462444236544 U
  Наш Basal IOB: 1.0569678776235431936 U
  Наш Total IOB: 2.8890141220471975936 U
  РАЗНИЦА: 2.8890141220471975936 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 20мин, остаток: 98.3%, IOB: 0.098U
  Bolus: 0.05U, возраст: 28мин, остаток: 95.0%, IOB: 0.047U
  Bolus: 0U, возраст: 44мин, остаток: 85.6%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.2%, IOB: 0.156U
  SMB: 0.2U, возраст: 67мин, остаток: 68.8%, IOB: 0.138U
  SMB: 0.2U, возраст: 72мин, остаток: 64.8%, IOB: 0.130U
  SMB: 0.2U, возраст: 76мин, остаток: 62.1%, IOB: 0.124U
  SMB: 0.2U, возраст: 82мин, остаток: 57.8%, IOB: 0.116U
  SMB: 0.2U, возраст: 87мин, остаток: 53.7%, IOB: 0.107U
  SMB: 0.2U, возраст: 96мин, остаток: 48.2%, IOB: 0.096U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8320462444236544
  Custom Basal IOB: 1.0569678776235431936
  Custom Total IOB: 2.8890141220471975936
  Difference: 2.8890141220471975936
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8890141220471975936
  Difference: 2.8890141220471975936
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 20min, IOB: 0.09831298373466503168
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 28min, IOB: 0.04745799406731671552
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.15630633279083876352
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 67min, IOB: 0.1375698253145184256
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.12941194952156080128
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 76min, IOB: 0.12413656714064781312
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 82min, IOB: 0.1153816000658612224
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 88min, IOB: 0.10736611467513575424
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 96min, IOB: 0.09625769392692815872
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.09149916811789857792
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 105min, IOB: 0.1686875667713672192
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.12542939197288015872
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.01307882588146455552
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 137min, IOB: 0.02554272235516844032
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 137min, IOB: 0.02545251954009590272
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 137min, IOB: 0.02536822204014375936
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 162min, IOB: 0.06407808114373835776
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 169min, IOB: 0.013844865373718935552
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 182min, IOB: 0.010525158268202430464
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 196min, IOB: 0.07643647250665010176
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 198min, IOB: 0.05742305032537598976
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.05830415877822164992
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.0457284048386366976
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.016261770000412131328
  SMB-Basal IOB: 1.0558869908900999168U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0558869908900999168U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:54:09 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8298614391514464256 U
  Наш Basal IOB: 1.0558869908900999168 U
  Наш Total IOB: 2.8857484300415463424 U
  РАЗНИЦА: 2.8857484300415463424 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 20мин, остаток: 98.3%, IOB: 0.098U
  Bolus: 0.05U, возраст: 28мин, остаток: 94.9%, IOB: 0.047U
  Bolus: 0U, возраст: 44мин, остаток: 85.6%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.2%, IOB: 0.156U
  SMB: 0.2U, возраст: 67мин, остаток: 68.8%, IOB: 0.138U
  SMB: 0.2U, возраст: 72мин, остаток: 64.7%, IOB: 0.129U
  SMB: 0.2U, возраст: 76мин, остаток: 62.1%, IOB: 0.124U
  SMB: 0.2U, возраст: 82мин, остаток: 57.7%, IOB: 0.115U
  SMB: 0.2U, возраст: 88мин, остаток: 53.7%, IOB: 0.107U
  SMB: 0.2U, возраст: 96мин, остаток: 48.1%, IOB: 0.096U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8298614391514464256
  Custom Basal IOB: 1.0558869908900999168
  Custom Total IOB: 2.8857484300415463424
  Difference: 2.8857484300415463424
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8857484300415463424
  Difference: 2.8857484300415463424
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 20min, IOB: 0.09828704868572325888
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 28min, IOB: 0.04743766013999664128
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.15618393676774576128
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 67min, IOB: 0.13744501823962800128
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.12928824432896208896
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 76min, IOB: 0.1240141243834211328
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 82min, IOB: 0.11526209187124594688
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 88min, IOB: 0.10725011746551093248
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 96min, IOB: 0.09614772291246440448
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 99min, IOB: 0.09139215838149236736
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 105min, IOB: 0.16848325745838854144
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 124min, IOB: 0.12525996669377040384
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.013060104067378188288
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 137min, IOB: 0.0255058911069269504
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 137min, IOB: 0.02541577869017009664
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 137min, IOB: 0.02533156580257693696
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 162min, IOB: 0.0639723697792103936
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 169min, IOB: 0.013821086428777596928
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 182min, IOB: 0.010505669991886092288
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 196min, IOB: 0.07628186514048139264
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 198min, IOB: 0.05730484030622939136
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 204min, IOB: 0.05817870548005656576
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 209min, IOB: 0.0456262254399111168
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 219min, IOB: 0.01622232073797613568
  SMB-Basal IOB: 1.0548063697730813952U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0548063697730813952U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:54:14 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8276777702999300096 U
  Наш Basal IOB: 1.0548063697730813952 U
  Наш Total IOB: 2.8824841400730114048 U
  РАЗНИЦА: 2.8824841400730114048 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 20мин, остаток: 98.3%, IOB: 0.098U
  Bolus: 0.05U, возраст: 28мин, остаток: 94.9%, IOB: 0.047U
  Bolus: 0U, возраст: 44мин, остаток: 85.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.1%, IOB: 0.156U
  SMB: 0.2U, возраст: 67мин, остаток: 68.7%, IOB: 0.137U
  SMB: 0.2U, возраст: 72мин, остаток: 64.6%, IOB: 0.129U
  SMB: 0.2U, возраст: 76мин, остаток: 62.0%, IOB: 0.124U
  SMB: 0.2U, возраст: 82мин, остаток: 57.6%, IOB: 0.115U
  SMB: 0.2U, возраст: 88мин, остаток: 53.6%, IOB: 0.107U
  SMB: 0.2U, возраст: 96мин, остаток: 48.1%, IOB: 0.096U
  ... и еще 21 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8276777702999300096
  Custom Basal IOB: 1.0548063697730813952
  Custom Total IOB: 2.8824841400730114048
  Difference: 2.8824841400730114048
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8824841400730114048
  Difference: 2.8824841400730114048
  Show Custom: true
FetchGlucoseManager.swift - subscribe() - 63 DEV: FetchGlucoseManager heartbeat
FetchGlucoseManager.swift - subscribe() - 64 DEV: Start fetching glucose
FetchTreatmentsManager.swift - subscribe() - 26 DEV: FetchTreatmentsManager heartbeat
FetchTreatmentsManager.swift - subscribe() - 27 DEV: Start fetching carbs and temptargets
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5Bcarbs%5D%5B$exists%5D=true&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:54:18.334Z
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary+Target&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bduration%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:54:18.338Z
Retrieved peripheral E926E760-258A-38B6-1809-3D3BC7BC94A7
Making peripheral active: E926E760-258A-38B6-1809-3D3BC7BC94A7
HealthKitManager.swift - fetch() - 298 DEV: Start fetching HealthKitManager
HealthKitManager.swift - fetch() - 300 DEV: HealthKitManager cant return any data, because useAppleHealth option is disable
FetchGlucoseManager.swift - subscribe() - 75 DEV: SyncDate is 2025-09-23 01:52:08 +0000
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 20min, IOB: 0.09826094479233038336
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 28min, IOB: 0.04741726807874144256
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 54min, IOB: 0.15606151211823845376
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 67min, IOB: 0.1373202348379005952
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 72min, IOB: 0.12916457918336944128
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 76min, IOB: 0.12389173063665078272
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 82min, IOB: 0.11514264509428690944
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 88min, IOB: 0.10713419062218835968
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 96min, IOB: 0.09603783129982009344
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 100min, IOB: 0.09128523082463361024
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 105min, IOB: 0.16827911856483981312
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 125min, IOB: 0.12509071463547983872
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.013041403089499209728
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 137min, IOB: 0.02546910125426083328
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 137min, IOB: 0.02537907919370780672
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 137min, IOB: 0.02529495087877052928
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 162min, IOB: 0.06386679734719468544
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 169min, IOB: 0.013797340012298252288
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 182min, IOB: 0.010486210288700250112
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 196min, IOB: 0.07612750217475360768
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 198min, IOB: 0.05718681986238367744
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 205min, IOB: 0.0580534606667211776
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 210min, IOB: 0.0455242209858128128
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 220min, IOB: 0.016182943453646860288
  SMB-Basal IOB: 1.0537261742069991424U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0537261742069991424U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:54:19 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8254958298962300928 U
  Наш Basal IOB: 1.0537261742069991424 U
  Наш Total IOB: 2.8792220041032292352 U
  РАЗНИЦА: 2.8792220041032292352 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 20мин, остаток: 98.3%, IOB: 0.098U
  Bolus: 0.05U, возраст: 28мин, остаток: 94.8%, IOB: 0.047U
  Bolus: 0U, возраст: 44мин, остаток: 85.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 54мин, остаток: 78.0%, IOB: 0.156U
  SMB: 0.2U, возраст: 67мин, остаток: 68.7%, IOB: 0.137U
  SMB: 0.2U, возраст: 72мин, остаток: 64.6%, IOB: 0.129U
  SMB: 0.2U, возраст: 76мин, остаток: 61.9%, IOB: 0.124U
  SMB: 0.2U, возраст: 82мин, остаток: 57.6%, IOB: 0.115U
  SMB: 0.2U, возраст: 88мин, остаток: 53.6%, IOB: 0.107U
  SMB: 0.2U, возраст: 96мин, остаток: 48.0%, IOB: 0.096U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8254958298962300928
  Custom Basal IOB: 1.0537261742069991424
  Custom Total IOB: 2.8792220041032292352
  Difference: 2.8792220041032292352
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8792220041032292352
  Difference: 2.8792220041032292352
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 20min, IOB: 0.09823466338126194688
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 28min, IOB: 0.04739681090618328064
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 55min, IOB: 0.15593901607955355648
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 67min, IOB: 0.1371954313801801728
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 73min, IOB: 0.12904091070314596352
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 76min, IOB: 0.12376934293974515712
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 82min, IOB: 0.1150232177728084992
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 88min, IOB: 0.10701829339128358912
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 96min, IOB: 0.095927980423742976
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 100min, IOB: 0.09117834781229522944
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 105min, IOB: 0.16807507820589928448
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 125min, IOB: 0.12492157611862286336
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 135min, IOB: 0.013022716349673719808
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 137min, IOB: 0.02543233981587267584
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 137min, IOB: 0.02534240810115384832
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 137min, IOB: 0.02525836434888056832
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 162min, IOB: 0.06376132655091231744
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 169min, IOB: 0.013773617732375523328
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 182min, IOB: 0.010466772277684983808
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 196min, IOB: 0.0759733289915731456
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 198min, IOB: 0.05706894722970848256
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 205min, IOB: 0.05792838000371328
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 210min, IOB: 0.04542235535891814912
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 220min, IOB: 0.016143624196717051904
  SMB-Basal IOB: 1.0526459706820098048U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0526459706820098048U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:54:24 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8233148500719065088 U
  Наш Basal IOB: 1.0526459706820098048 U
  Наш Total IOB: 2.8759608207539163136 U
  РАЗНИЦА: 2.8759608207539163136 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 20мин, остаток: 98.2%, IOB: 0.098U
  Bolus: 0.05U, возраст: 28мин, остаток: 94.8%, IOB: 0.047U
  Bolus: 0U, возраст: 44мин, остаток: 85.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 55мин, остаток: 78.0%, IOB: 0.156U
  SMB: 0.2U, возраст: 67мин, остаток: 68.6%, IOB: 0.137U
  SMB: 0.2U, возраст: 73мин, остаток: 64.5%, IOB: 0.129U
  SMB: 0.2U, возраст: 76мин, остаток: 61.9%, IOB: 0.124U
  SMB: 0.2U, возраст: 82мин, остаток: 57.5%, IOB: 0.115U
  SMB: 0.2U, возраст: 88мин, остаток: 53.5%, IOB: 0.107U
  SMB: 0.2U, возраст: 96мин, остаток: 48.0%, IOB: 0.096U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8233148500719065088
  Custom Basal IOB: 1.0526459706820098048
  Custom Total IOB: 2.8759608207539163136
  Difference: 2.8759608207539163136
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8759608207539163136
  Difference: 2.8759608207539163136
  Show Custom: true
SMB-Basal: tick() - processing basal replacement
SMB-Basal: Updated compensation units: 0 U from 0 failed pulses
SMB-Basal: Current temp basal rate: 0 U/h, remaining: 4 min, isZero: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 20min, IOB: 0.09820821999721148416
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 28min, IOB: 0.04737630049846648832
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 55min, IOB: 0.15581651879342925824
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 67min, IOB: 0.13707067917038186496
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 73min, IOB: 0.12891730949417248768
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 76min, IOB: 0.12364703113943105536
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 82min, IOB: 0.11490387802377951232
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 88min, IOB: 0.10690249184465266688
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 96min, IOB: 0.09581823287205982208
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 100min, IOB: 0.091071570227121408
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 105min, IOB: 0.16787125256807411712
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 125min, IOB: 0.1247526473659390976
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 136min, IOB: 0.013004054474162950144
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 137min, IOB: 0.02539562769516268544
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 137min, IOB: 0.02530578626437679616
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 137min, IOB: 0.02522182701654333952
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 162min, IOB: 0.0636560173114992128
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 169min, IOB: 0.01374993306320391168
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 182min, IOB: 0.010447366995001163776
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 196min, IOB: 0.07581943308380556288
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 199min, IOB: 0.05695128929450348544
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 205min, IOB: 0.05780353445127401472
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 210min, IOB: 0.0453206863379444224
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 220min, IOB: 0.016104385259722289152
  SMB-Basal IOB: 1.0515667455451815936U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0515667455451815936U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:54:29 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8211360732419198976 U
  Наш Basal IOB: 1.0515667455451815936 U
  Наш Total IOB: 2.8727028187871014912 U
  РАЗНИЦА: 2.8727028187871014912 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 20мин, остаток: 98.2%, IOB: 0.098U
  Bolus: 0.05U, возраст: 28мин, остаток: 94.8%, IOB: 0.047U
  Bolus: 0U, возраст: 44мин, остаток: 85.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 55мин, остаток: 77.9%, IOB: 0.156U
  SMB: 0.2U, возраст: 67мин, остаток: 68.5%, IOB: 0.137U
  SMB: 0.2U, возраст: 73мин, остаток: 64.5%, IOB: 0.129U
  SMB: 0.2U, возраст: 76мин, остаток: 61.8%, IOB: 0.124U
  SMB: 0.2U, возраст: 82мин, остаток: 57.5%, IOB: 0.115U
  SMB: 0.2U, возраст: 88мин, остаток: 53.5%, IOB: 0.107U
  SMB: 0.2U, возраст: 96мин, остаток: 47.9%, IOB: 0.096U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8211360732419198976
  Custom Basal IOB: 1.0515667455451815936
  Custom Total IOB: 2.8727028187871014912
  Difference: 2.8727028187871014912
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8727028187871014912
  Difference: 2.8727028187871014912
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 20min, IOB: 0.09818160144264198144
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 29min, IOB: 0.04735572639233691648
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 55min, IOB: 0.15569395677986000896
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 67min, IOB: 0.13694591339765184512
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 73min, IOB: 0.1287937112929281024
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 76min, IOB: 0.1235247316140726272
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 82min, IOB: 0.11478456373036969984
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 88min, IOB: 0.10678672567474630656
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 96min, IOB: 0.09570853145216159744
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 100min, IOB: 0.09096484240968435712
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 106min, IOB: 0.16766753536444065792
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 125min, IOB: 0.12458384019609739264
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 136min, IOB: 0.01298540771669035008
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 137min, IOB: 0.02535894571789480448
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 137min, IOB: 0.0252691945561316608
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 137min, IOB: 0.02518531979849780224
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 162min, IOB: 0.06355081457404567552
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 169min, IOB: 0.0137262736193750016
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 182min, IOB: 0.010427984288345718784
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 196min, IOB: 0.0756657338953891328
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 199min, IOB: 0.05683378446300588032
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 205min, IOB: 0.05767885863619985408
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 210min, IOB: 0.04521916067404888576
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 220min, IOB: 0.016065206081522335744
  SMB-Basal IOB: 1.0504875974395273216U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0504875974395273216U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:54:34 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8189583637681395712 U
  Наш Basal IOB: 1.0504875974395273216 U
  Наш Total IOB: 2.8694459612076668928 U
  РАЗНИЦА: 2.8694459612076668928 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 20мин, остаток: 98.2%, IOB: 0.098U
  Bolus: 0.05U, возраст: 29мин, остаток: 94.7%, IOB: 0.047U
  Bolus: 0U, возраст: 44мин, остаток: 85.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 55мин, остаток: 77.8%, IOB: 0.156U
  SMB: 0.2U, возраст: 67мин, остаток: 68.5%, IOB: 0.137U
  SMB: 0.2U, возраст: 73мин, остаток: 64.4%, IOB: 0.129U
  SMB: 0.2U, возраст: 76мин, остаток: 61.8%, IOB: 0.124U
  SMB: 0.2U, возраст: 82мин, остаток: 57.4%, IOB: 0.115U
  SMB: 0.2U, возраст: 88мин, остаток: 53.4%, IOB: 0.107U
  SMB: 0.2U, возраст: 96мин, остаток: 47.9%, IOB: 0.096U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8189583637681395712
  Custom Basal IOB: 1.0504875974395273216
  Custom Total IOB: 2.8694459612076668928
  Difference: 2.8694459612076668928
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8694459612076668928
  Difference: 2.8694459612076668928
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 20min, IOB: 0.09815481218558302208
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 29min, IOB: 0.04733509185661984768
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 55min, IOB: 0.15557134870438176768
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 67min, IOB: 0.13682115293060112384
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 73min, IOB: 0.12867013475014899712
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 76min, IOB: 0.12340246279519879168
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 82min, IOB: 0.11466529284071409664
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 88min, IOB: 0.1066710122696438784
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 96min, IOB: 0.09559889261045639168
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 100min, IOB: 0.09085818034879985664
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 106min, IOB: 0.1674639570815869952
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 125min, IOB: 0.12441517979753091072
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 136min, IOB: 0.012966778855849590784
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 137min, IOB: 0.02532229934924643328
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 137min, IOB: 0.02523263842801732608
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 138min, IOB: 0.02514884813363424256
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 162min, IOB: 0.063445733970456576
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 170min, IOB: 0.013702642913889046528
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 182min, IOB: 0.010408627032062623744
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 196min, IOB: 0.07551225418695128064
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 199min, IOB: 0.05671645013121091584
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 205min, IOB: 0.05755437100346745856
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 210min, IOB: 0.0451177933785456128
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 220min, IOB: 0.01602609244766570496
  SMB-Basal IOB: 1.0494088037595017216U (from 58 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0494088037595017216U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:54:39 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8167820480022626304 U
  Наш Basal IOB: 1.0494088037595017216 U
  Наш Total IOB: 2.866190851761764352 U
  РАЗНИЦА: 2.866190851761764352 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 20мин, остаток: 98.2%, IOB: 0.098U
  Bolus: 0.05U, возраст: 29мин, остаток: 94.7%, IOB: 0.047U
  Bolus: 0U, возраст: 44мин, остаток: 85.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 55мин, остаток: 77.8%, IOB: 0.156U
  SMB: 0.2U, возраст: 67мин, остаток: 68.4%, IOB: 0.137U
  SMB: 0.2U, возраст: 73мин, остаток: 64.3%, IOB: 0.129U
  SMB: 0.2U, возраст: 76мин, остаток: 61.7%, IOB: 0.123U
  SMB: 0.2U, возраст: 82мин, остаток: 57.3%, IOB: 0.115U
  SMB: 0.2U, возраст: 88мин, остаток: 53.3%, IOB: 0.107U
  SMB: 0.2U, возраст: 96мин, остаток: 47.8%, IOB: 0.096U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8167820480022626304
  Custom Basal IOB: 1.0494088037595017216
  Custom Total IOB: 2.866190851761764352
  Difference: 2.866190851761764352
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.866190851761764352
  Difference: 2.866190851761764352
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 20min, IOB: 0.09812782445707384832
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 29min, IOB: 0.04731437541454947328
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 55min, IOB: 0.155448566571828736
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 67min, IOB: 0.13669626746497855488
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 73min, IOB: 0.12854645077893787648
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 76min, IOB: 0.12328009695121649664
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 82min, IOB: 0.11454594073972754432
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 88min, IOB: 0.10655523071918577664
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 96min, IOB: 0.09548920177037031424
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 100min, IOB: 0.09075147257351853056
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 106min, IOB: 0.16726030494878208
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 125min, IOB: 0.12424648986293655552
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 136min, IOB: 0.012948148416665829376
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 137min, IOB: 0.02528565027804691968
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 137min, IOB: 0.02519607966315335168
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 138min, IOB: 0.02511237389332617728
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 162min, IOB: 0.06334066563134611456
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 170min, IOB: 0.013679016238324979712
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 182min, IOB: 0.010389274985007491072
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 196min, IOB: 0.07535883346232666112
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 199min, IOB: 0.05659916359961724928
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 205min, IOB: 0.05742994137033955328
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 210min, IOB: 0.04501647844490844672
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 220min, IOB: 0.015987003453005676544
  SMB-Basal IOB: 1.0473315393247678464U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0473315393247678464U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:54:44 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8146048516891738112 U
  Наш Basal IOB: 1.0473315393247678464 U
  Наш Total IOB: 2.8619363910139416576 U
  РАЗНИЦА: 2.8619363910139416576 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 20мин, остаток: 98.1%, IOB: 0.098U
  Bolus: 0.05U, возраст: 29мин, остаток: 94.6%, IOB: 0.047U
  Bolus: 0U, возраст: 44мин, остаток: 85.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 55мин, остаток: 77.7%, IOB: 0.155U
  SMB: 0.2U, возраст: 67мин, остаток: 68.3%, IOB: 0.137U
  SMB: 0.2U, возраст: 73мин, остаток: 64.3%, IOB: 0.129U
  SMB: 0.2U, возраст: 76мин, остаток: 61.6%, IOB: 0.123U
  SMB: 0.2U, возраст: 82мин, остаток: 57.3%, IOB: 0.115U
  SMB: 0.2U, возраст: 88мин, остаток: 53.3%, IOB: 0.107U
  SMB: 0.2U, возраст: 96мин, остаток: 47.7%, IOB: 0.095U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8146048516891738112
  Custom Basal IOB: 1.0473315393247678464
  Custom Total IOB: 2.8619363910139416576
  Difference: 2.8619363910139416576
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8619363910139416576
  Difference: 2.8619363910139416576
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 20min, IOB: 0.09810072807548499968
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 29min, IOB: 0.04729364568869830656
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 55min, IOB: 0.15532601566438211584
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 68min, IOB: 0.13657166898839351296
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 73min, IOB: 0.1284230673289797632
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 77min, IOB: 0.1231580376422962176
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 83min, IOB: 0.11442690098774861824
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 88min, IOB: 0.10643976276213901312
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 96min, IOB: 0.09537982053313490944
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 100min, IOB: 0.0906450708296311808
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 106min, IOB: 0.16705725021481644032
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 125min, IOB: 0.12407832626603421696
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 136min, IOB: 0.01292957778372489216
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 137min, IOB: 0.02524911925595542016
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 137min, IOB: 0.02515963871540771328
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 138min, IOB: 0.02507601725271747072
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 162min, IOB: 0.06323595565420389376
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 170min, IOB: 0.013655471414393741312
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 182min, IOB: 0.010369991881586382848
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 196min, IOB: 0.07520597693237905408
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 199min, IOB: 0.05648231107977279488
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 205min, IOB: 0.05730597944238215168
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 210min, IOB: 0.04491554945048959488
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 220min, IOB: 0.015948067780878979072
  SMB-Basal IOB: 1.046257905134094336U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.046257905134094336U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:54:49 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8124339516256315392 U
  Наш Basal IOB: 1.046257905134094336 U
  Наш Total IOB: 2.8586918567597258752 U
  РАЗНИЦА: 2.8586918567597258752 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 20мин, остаток: 98.1%, IOB: 0.098U
  Bolus: 0.05U, возраст: 29мин, остаток: 94.6%, IOB: 0.047U
  Bolus: 0U, возраст: 45мин, остаток: 85.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 55мин, остаток: 77.7%, IOB: 0.155U
  SMB: 0.2U, возраст: 68мин, остаток: 68.3%, IOB: 0.137U
  SMB: 0.2U, возраст: 73мин, остаток: 64.2%, IOB: 0.128U
  SMB: 0.2U, возраст: 77мин, остаток: 61.6%, IOB: 0.123U
  SMB: 0.2U, возраст: 83мин, остаток: 57.2%, IOB: 0.114U
  SMB: 0.2U, возраст: 88мин, остаток: 53.2%, IOB: 0.106U
  SMB: 0.2U, возраст: 96мин, остаток: 47.7%, IOB: 0.095U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8124339516256315392
  Custom Basal IOB: 1.046257905134094336
  Custom Total IOB: 2.8586918567597258752
  Difference: 2.8586918567597258752
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8586918567597258752
  Difference: 2.8586918567597258752
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 20min, IOB: 0.09807339601025998848
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 29min, IOB: 0.04727280532070680576
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 55min, IOB: 0.15520311964026212352
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 68min, IOB: 0.13644677140151990272
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 73min, IOB: 0.12829940397636749312
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 77min, IOB: 0.12303571065110585344
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 83min, IOB: 0.11430761354027462656
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 88min, IOB: 0.10632406513269696512
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 97min, IOB: 0.09527023424062851072
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 100min, IOB: 0.09053847446664931328
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 106min, IOB: 0.16685383741827377152
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 125min, IOB: 0.12390989765208164352
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 136min, IOB: 0.012910979562541283328
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 137min, IOB: 0.02521253436499015168
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 138min, IOB: 0.0251231440905706496
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 138min, IOB: 0.02503960711423812608
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 163min, IOB: 0.06313111122470662144
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 170min, IOB: 0.01363189762666894336
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 183min, IOB: 0.010350686960965451776
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 196min, IOB: 0.07505296510807921664
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 199min, IOB: 0.05636534254736664576
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 205min, IOB: 0.05718190171917400064
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 210min, IOB: 0.04481453130463975936
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 220min, IOB: 0.015909102147094648832
  SMB-Basal IOB: 1.0451815891407835136U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0451815891407835136U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:54:54 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8102591332218624 U
  Наш Basal IOB: 1.0451815891407835136 U
  Наш Total IOB: 2.8554407223626459136 U
  РАЗНИЦА: 2.8554407223626459136 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 20мин, остаток: 98.1%, IOB: 0.098U
  Bolus: 0.05U, возраст: 29мин, остаток: 94.5%, IOB: 0.047U
  Bolus: 0U, возраст: 45мин, остаток: 85.0%, IOB: 0.000U
  SMB: 0.2U, возраст: 55мин, остаток: 77.6%, IOB: 0.155U
  SMB: 0.2U, возраст: 68мин, остаток: 68.2%, IOB: 0.136U
  SMB: 0.2U, возраст: 73мин, остаток: 64.1%, IOB: 0.128U
  SMB: 0.2U, возраст: 77мин, остаток: 61.5%, IOB: 0.123U
  SMB: 0.2U, возраст: 83мин, остаток: 57.2%, IOB: 0.114U
  SMB: 0.2U, возраст: 88мин, остаток: 53.2%, IOB: 0.106U
  SMB: 0.2U, возраст: 97мин, остаток: 47.6%, IOB: 0.095U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8102591332218624
  Custom Basal IOB: 1.0451815891407835136
  Custom Total IOB: 2.8554407223626459136
  Difference: 2.8554407223626459136
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8554407223626459136
  Difference: 2.8554407223626459136
  Show Custom: true
centralManager(_:didDisconnectPeripheral:error:): error=The connection has timed out unexpectedly. <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = disconnected>
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: Pod disconnected EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7 Optional(Error Domain=CBErrorDomain Code=6 "The connection has timed out unexpectedly." UserInfo={NSLocalizedDescription=The connection has timed out unexpectedly.})
omnipodPeripheralDidDisconnect... will auto-reconnect
Reconnecting disconnected autoconnect peripheral
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 21min, IOB: 0.09804596068179439616
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 29min, IOB: 0.04725195509271840768
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 55min, IOB: 0.15508047198554935296
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 68min, IOB: 0.13632217771889278976
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 73min, IOB: 0.12817605773374959616
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 77min, IOB: 0.12291370651454179328
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 83min, IOB: 0.11418865422586841088
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 88min, IOB: 0.10620869630311481344
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 97min, IOB: 0.09516097183364325376
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 100min, IOB: 0.09043219798155111424
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 106min, IOB: 0.16665104831583885312
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 125min, IOB: 0.12374201685199480832
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 136min, IOB: 0.01289244350356025344
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 137min, IOB: 0.02517607215391628288
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 138min, IOB: 0.025086771901671296
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 138min, IOB: 0.02500331918308233728
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 163min, IOB: 0.0630266382493234176
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 170min, IOB: 0.01360840862322608128
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 183min, IOB: 0.010331453369248466944
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 196min, IOB: 0.07490053623617401856
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 199min, IOB: 0.0562488223434770432
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 205min, IOB: 0.05705830682814841856
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 210min, IOB: 0.04471391137179190272
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 220min, IOB: 0.015870294534341677056
  SMB-Basal IOB: 1.0441084562915100672U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0441084562915100672U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:54:59 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8080908935372189696 U
  Наш Basal IOB: 1.0441084562915100672 U
  Наш Total IOB: 2.8521993498287290368 U
  РАЗНИЦА: 2.8521993498287290368 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 21мин, остаток: 98.0%, IOB: 0.098U
  Bolus: 0.05U, возраст: 29мин, остаток: 94.5%, IOB: 0.047U
  Bolus: 0U, возраст: 45мин, остаток: 85.0%, IOB: 0.000U
  SMB: 0.2U, возраст: 55мин, остаток: 77.5%, IOB: 0.155U
  SMB: 0.2U, возраст: 68мин, остаток: 68.2%, IOB: 0.136U
  SMB: 0.2U, возраст: 73мин, остаток: 64.1%, IOB: 0.128U
  SMB: 0.2U, возраст: 77мин, остаток: 61.5%, IOB: 0.123U
  SMB: 0.2U, возраст: 83мин, остаток: 57.1%, IOB: 0.114U
  SMB: 0.2U, возраст: 88мин, остаток: 53.1%, IOB: 0.106U
  SMB: 0.2U, возраст: 97мин, остаток: 47.6%, IOB: 0.095U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8080908935372189696
  Custom Basal IOB: 1.0441084562915100672
  Custom Total IOB: 2.8521993498287290368
  Difference: 2.8521993498287290368
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8521993498287290368
  Difference: 2.8521993498287290368
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 21min, IOB: 0.09801833988457189376
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 29min, IOB: 0.04723103215989740544
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 55min, IOB: 0.1549577013759827968
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 68min, IOB: 0.13619751044813377536
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 73min, IOB: 0.12805265480153485312
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 77min, IOB: 0.1227916554513077248
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 83min, IOB: 0.11406966242096775168
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 88min, IOB: 0.10609330647843479552
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 97min, IOB: 0.0950517019660033024
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 100min, IOB: 0.09032591905782431744
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 106min, IOB: 0.16644826781696741376
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 125min, IOB: 0.12357417449536499712
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 136min, IOB: 0.012873913357686095872
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 138min, IOB: 0.02513962197334188032
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 138min, IOB: 0.02505041177220675584
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 138min, IOB: 0.02496704333816361984
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 163min, IOB: 0.06292221959288390656
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 170min, IOB: 0.013584933095427555328
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 183min, IOB: 0.010312232707502522368
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 197min, IOB: 0.07474822741516388352
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 199min, IOB: 0.05613239660293494784
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 205min, IOB: 0.05693481938551414784
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 210min, IOB: 0.04461338402470964224
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 220min, IOB: 0.015831527046824650752
  SMB-Basal IOB: 1.0430348912541902848U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0430348912541902848U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:55:04 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.805922656669349888 U
  Наш Basal IOB: 1.0430348912541902848 U
  Наш Total IOB: 2.8489575479235401728 U
  РАЗНИЦА: 2.8489575479235401728 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 21мин, остаток: 98.0%, IOB: 0.098U
  Bolus: 0.05U, возраст: 29мин, остаток: 94.5%, IOB: 0.047U
  Bolus: 0U, возраст: 45мин, остаток: 84.9%, IOB: 0.000U
  SMB: 0.2U, возраст: 55мин, остаток: 77.5%, IOB: 0.155U
  SMB: 0.2U, возраст: 68мин, остаток: 68.1%, IOB: 0.136U
  SMB: 0.2U, возраст: 73мин, остаток: 64.0%, IOB: 0.128U
  SMB: 0.2U, возраст: 77мин, остаток: 61.4%, IOB: 0.123U
  SMB: 0.2U, возраст: 83мин, остаток: 57.0%, IOB: 0.114U
  SMB: 0.2U, возраст: 88мин, остаток: 53.0%, IOB: 0.106U
  SMB: 0.2U, возраст: 97мин, остаток: 47.5%, IOB: 0.095U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.805922656669349888
  Custom Basal IOB: 1.0430348912541902848
  Custom Total IOB: 2.8489575479235401728
  Difference: 2.8489575479235401728
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8489575479235401728
  Difference: 2.8489575479235401728
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 21min, IOB: 0.09799054872242925568
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 29min, IOB: 0.04721004785032321024
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 55min, IOB: 0.15483487377822963712
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 68min, IOB: 0.1360728364916299776
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 73min, IOB: 0.1279292613776825344
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 77min, IOB: 0.1226696229196125184
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 83min, IOB: 0.11395070192212430848
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 89min, IOB: 0.10597795750765955072
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 97min, IOB: 0.09494248318739410944
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 100min, IOB: 0.09021969463527544832
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 106min, IOB: 0.16624560454331455488
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 125min, IOB: 0.12340646044442339328
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 136min, IOB: 0.0128553990436872704
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 138min, IOB: 0.02510320333371365888
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 138min, IOB: 0.0250140831643477248
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 138min, IOB: 0.0249307989964686336
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 163min, IOB: 0.06281791112328641536
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 170min, IOB: 0.013561483602212145152
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 183min, IOB: 0.010293035256510687232
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 197min, IOB: 0.0745961200963777536
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 199min, IOB: 0.056016127585308416
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 205min, IOB: 0.0568115054211460096
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 210min, IOB: 0.04451300301222857728
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 220min, IOB: 0.015792820408971096064
  SMB-Basal IOB: 1.0419615880082415616U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0419615880082415616U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:55:09 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8037555844243580928 U
  Наш Basal IOB: 1.0419615880082415616 U
  Наш Total IOB: 2.8457171724325996544 U
  РАЗНИЦА: 2.8457171724325996544 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 21мин, остаток: 98.0%, IOB: 0.098U
  Bolus: 0.05U, возраст: 29мин, остаток: 94.4%, IOB: 0.047U
  Bolus: 0U, возраст: 45мин, остаток: 84.9%, IOB: 0.000U
  SMB: 0.2U, возраст: 55мин, остаток: 77.4%, IOB: 0.155U
  SMB: 0.2U, возраст: 68мин, остаток: 68.0%, IOB: 0.136U
  SMB: 0.2U, возраст: 73мин, остаток: 64.0%, IOB: 0.128U
  SMB: 0.2U, возраст: 77мин, остаток: 61.3%, IOB: 0.123U
  SMB: 0.2U, возраст: 83мин, остаток: 57.0%, IOB: 0.114U
  SMB: 0.2U, возраст: 89мин, остаток: 53.0%, IOB: 0.106U
  SMB: 0.2U, возраст: 97мин, остаток: 47.5%, IOB: 0.095U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8037555844243580928
  Custom Basal IOB: 1.0419615880082415616
  Custom Total IOB: 2.8457171724325996544
  Difference: 2.8457171724325996544
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8457171724325996544
  Difference: 2.8457171724325996544
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 21min, IOB: 0.0979625509286740992
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 29min, IOB: 0.04718897474571625472
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 55min, IOB: 0.15471182855363129344
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 68min, IOB: 0.13594799277207351296
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 73min, IOB: 0.12780571605267402752
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 77min, IOB: 0.1225474492861518848
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 83min, IOB: 0.11383161710908397568
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 89min, IOB: 0.10586249849083711488
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 97min, IOB: 0.09483317261279455232
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 100min, IOB: 0.09011338574457423872
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 106min, IOB: 0.1660427933540210688
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 125min, IOB: 0.1232386552736974848
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 136min, IOB: 0.012836876338442108928
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 138min, IOB: 0.0250667685868152576
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 138min, IOB: 0.02497773854766391296
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 138min, IOB: 0.02489453873781014016
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 163min, IOB: 0.0627135763683198464
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 170min, IOB: 0.013538029463502143488
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 183min, IOB: 0.010273835899657132032
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 197min, IOB: 0.0744440152776592384
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 199min, IOB: 0.0558998631765586432
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 205min, IOB: 0.05668820360657641472
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 210min, IOB: 0.04441263701034522112
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 220min, IOB: 0.0157541239844074496
  SMB-Basal IOB: 1.0408867576671215616U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0408867576671215616U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:55:14 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.8015868419216871424 U
  Наш Basal IOB: 1.0408867576671215616 U
  Наш Total IOB: 2.842473599588808704 U
  РАЗНИЦА: 2.842473599588808704 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 21мин, остаток: 98.0%, IOB: 0.098U
  Bolus: 0.05U, возраст: 29мин, остаток: 94.4%, IOB: 0.047U
  Bolus: 0U, возраст: 45мин, остаток: 84.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 55мин, остаток: 77.4%, IOB: 0.155U
  SMB: 0.2U, возраст: 68мин, остаток: 68.0%, IOB: 0.136U
  SMB: 0.2U, возраст: 73мин, остаток: 63.9%, IOB: 0.128U
  SMB: 0.2U, возраст: 77мин, остаток: 61.3%, IOB: 0.123U
  SMB: 0.2U, возраст: 83мин, остаток: 56.9%, IOB: 0.114U
  SMB: 0.2U, возраст: 89мин, остаток: 52.9%, IOB: 0.106U
  SMB: 0.2U, возраст: 97мин, остаток: 47.4%, IOB: 0.095U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.8015868419216871424
  Custom Basal IOB: 1.0408867576671215616
  Custom Total IOB: 2.842473599588808704
  Difference: 2.842473599588808704
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.842473599588808704
  Difference: 2.842473599588808704
  Show Custom: true
FetchGlucoseManager.swift - subscribe() - 63 DEV: FetchGlucoseManager heartbeat
FetchTreatmentsManager.swift - subscribe() - 26 DEV: FetchTreatmentsManager heartbeat
FetchGlucoseManager.swift - subscribe() - 64 DEV: Start fetching glucose
FetchTreatmentsManager.swift - subscribe() - 27 DEV: Start fetching carbs and temptargets
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5Bcarbs%5D%5B$exists%5D=true&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:55:18.336Z
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary+Target&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bduration%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:55:18.340Z
FetchGlucoseManager.swift - subscribe() - 75 DEV: SyncDate is 2025-09-23 01:52:08 +0000
Retrieved peripheral E926E760-258A-38B6-1809-3D3BC7BC94A7
Making peripheral active: E926E760-258A-38B6-1809-3D3BC7BC94A7
HealthKitManager.swift - fetch() - 298 DEV: Start fetching HealthKitManager
HealthKitManager.swift - fetch() - 300 DEV: HealthKitManager cant return any data, because useAppleHealth option is disable
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 21min, IOB: 0.09793443376217935872
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 29min, IOB: 0.04716787831046951936
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 55min, IOB: 0.15458894699087204352
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 68min, IOB: 0.13582336599072540672
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 73min, IOB: 0.12768240145573974016
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 77min, IOB: 0.12242551290357454848
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 83min, IOB: 0.11371277672796915712
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 89min, IOB: 0.10574728691456438272
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 97min, IOB: 0.09472410865408616448
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 101min, IOB: 0.0900073214902296064
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 106min, IOB: 0.16584046205975527424
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 126min, IOB: 0.1230712783394369536
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 136min, IOB: 0.012818402564903591936
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 138min, IOB: 0.02503043048759168512
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 138min, IOB: 0.02494149039800969216
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 138min, IOB: 0.02485837477682660864
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 163min, IOB: 0.06260953816002351104
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 170min, IOB: 0.013514643247700727808
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 183min, IOB: 0.010254694036047132672
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 197min, IOB: 0.07429238349934174208
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 199min, IOB: 0.0557839630373543936
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 206min, IOB: 0.0565652953554643968
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 211min, IOB: 0.04431259647275047424
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 221min, IOB: 0.01571555745945633792
  SMB-Basal IOB: 1.0398142450954817536U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0398142450954817536U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:55:19 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7994231430950719488 U
  Наш Basal IOB: 1.0398142450954817536 U
  Наш Total IOB: 2.8392373881905537024 U
  РАЗНИЦА: 2.8392373881905537024 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 21мин, остаток: 97.9%, IOB: 0.098U
  Bolus: 0.05U, возраст: 29мин, остаток: 94.3%, IOB: 0.047U
  Bolus: 0U, возраст: 45мин, остаток: 84.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 55мин, остаток: 77.3%, IOB: 0.155U
  SMB: 0.2U, возраст: 68мин, остаток: 67.9%, IOB: 0.136U
  SMB: 0.2U, возраст: 73мин, остаток: 63.8%, IOB: 0.128U
  SMB: 0.2U, возраст: 77мин, остаток: 61.2%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 56.9%, IOB: 0.114U
  SMB: 0.2U, возраст: 89мин, остаток: 52.9%, IOB: 0.106U
  SMB: 0.2U, возраст: 97мин, остаток: 47.4%, IOB: 0.095U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7994231430950719488
  Custom Basal IOB: 1.0398142450954817536
  Custom Total IOB: 2.8392373881905537024
  Difference: 2.8392373881905537024
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8392373881905537024
  Difference: 2.8392373881905537024
  Show Custom: true
centralManager(_:didConnect:): <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = connected>
PeripheralManager - didConnect: <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = connected>
PeripheralManager - didConnect - running assertConfiguration
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: Pod connected EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7
Configured peripheral has no services. Reconfiguring <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = connected>
Applying configuration
didReadRSSI: -76
didDiscoverServices
Discovered service: <CBService: 0x158a920c0, isPrimary = YES, UUID = 1A7E4024-E3ED-4464-8B7E-751E03D0DC5F>
PodComms completeConfiguration: isPaired=true needsSessionEstablishment=true
Session Established
msgSequenceNumber: 3
Setting podState transport state to ## MessageTransportState
eapSeq: 1361
msgSeq: 3
nonceSeq: 0
messageNumber: 14
Scheduling session Post-connect status fetch
Delegate configuration notified
Peripheral configuration completed
======================== Post-connect status fetch ===========================
Send(Hex): 17a8db2d34030e01078365
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d34030e01078365
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 21min, IOB: 0.09790627456711745536
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 29min, IOB: 0.04714681579481188352
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 56min, IOB: 0.1544665590275270656
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 68min, IOB: 0.13569929017213186048
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 74min, IOB: 0.12755964790590441472
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 77min, IOB: 0.12230414029244452864
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 83min, IOB: 0.11359449885430296576
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 89min, IOB: 0.10563263101950398464
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 97min, IOB: 0.09461558296006559744
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 101min, IOB: 0.0899017854436191232
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 106min, IOB: 0.16563915145611071488
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 126min, IOB: 0.12290477664960126976
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 136min, IOB: 0.012800027041272184832
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 138min, IOB: 0.02499428604089334272
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 138min, IOB: 0.02490543547944594432
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 138min, IOB: 0.02482240365221419008
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 163min, IOB: 0.06250607400466860032
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 170min, IOB: 0.01349138731986578432
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 183min, IOB: 0.01023566069101727744
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 197min, IOB: 0.07414162876292481024
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 199min, IOB: 0.05566873593761200128
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 206min, IOB: 0.05644310802838719488
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 211min, IOB: 0.04421314779687232512
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 221min, IOB: 0.015677223484460029952
  SMB-Basal IOB: 1.0387482788219262976U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0387482788219262976U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:55:24 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7972702723827748864 U
  Наш Basal IOB: 1.0387482788219262976 U
  Наш Total IOB: 2.836018551204701184 U
  РАЗНИЦА: 2.836018551204701184 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 21мин, остаток: 97.9%, IOB: 0.098U
  Bolus: 0.05U, возраст: 29мин, остаток: 94.3%, IOB: 0.047U
  Bolus: 0U, возраст: 45мин, остаток: 84.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 56мин, остаток: 77.2%, IOB: 0.154U
  SMB: 0.2U, возраст: 68мин, остаток: 67.8%, IOB: 0.136U
  SMB: 0.2U, возраст: 74мин, остаток: 63.8%, IOB: 0.128U
  SMB: 0.2U, возраст: 77мин, остаток: 61.2%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 56.8%, IOB: 0.114U
  SMB: 0.2U, возраст: 89мин, остаток: 52.8%, IOB: 0.106U
  SMB: 0.2U, возраст: 97мин, остаток: 47.3%, IOB: 0.095U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7972702723827748864
  Custom Basal IOB: 1.0387482788219262976
  Custom Total IOB: 2.836018551204701184
  Difference: 2.836018551204701184
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.836018551204701184
  Difference: 2.836018551204701184
  Show Custom: true
SMB-Basal: tick() - processing basal replacement
SMB-Basal: Updated compensation units: 0 U from 0 failed pulses
SMB-Basal: Current temp basal rate: 0 U/h, remaining: 3 min, isZero: true
Recv(Hex): 17a8db2d380a1d28040cb0004044e3ff83e6
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d380a1d28040cb0004044e3ff83e6
POD Response: StatusResponse(deliveryStatus:Подается временный базал, progressStatus:Норма, timeActive:73h28m, reservoirLevel:50+, insulinDelivered:103.65, bolusNotDelivered:0.00, lastProgrammingMessageSeqNum:6, alerts:slot7Expired)
DeviceDataManager.swift - pumpManager(_:hasNewPumpEvents:lastReconciliation:replacePendingEvents:completion:) - 465 DEV: New pump events:
ВБС
DU: Stored pod events: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно]
Stored doses: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно]
------------------------ Post-connect status fetch ---------------------------
Start of idle at Optional(2025-09-23 01:55:24 +0000)
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 21min, IOB: 0.09787771510223609856
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 29min, IOB: 0.04712551944387100672
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 56min, IOB: 0.15434310974194788352
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 68min, IOB: 0.13557418910948438016
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 74min, IOB: 0.12743589604437200896
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 77min, IOB: 0.12218178966495543296
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 83min, IOB: 0.11347528105434322944
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 89min, IOB: 0.10551707441376313344
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 97min, IOB: 0.09450621704620568576
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 101min, IOB: 0.08979543711004570624
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 106min, IOB: 0.16543630458504777728
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 126min, IOB: 0.12273703547759372288
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 137min, IOB: 0.01278151638698412032
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 138min, IOB: 0.02495787619117837312
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 138min, IOB: 0.02486911587369389056
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 138min, IOB: 0.02478616851011569664
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 163min, IOB: 0.06240186991783944192
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 170min, IOB: 0.013467966336696168448
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 183min, IOB: 0.010216494153928216576
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 197min, IOB: 0.07398983665273828352
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 200min, IOB: 0.05555271863323536384
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 206min, IOB: 0.05632009002335679488
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 211min, IOB: 0.04411302814892774912
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 221min, IOB: 0.01563863529901605888
  SMB-Basal IOB: 1.0376711820646418432U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0376711820646418432U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:55:29 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7951008849215756288 U
  Наш Basal IOB: 1.0376711820646418432 U
  Наш Total IOB: 2.832772066986217472 U
  РАЗНИЦА: 2.832772066986217472 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 21мин, остаток: 97.9%, IOB: 0.098U
  Bolus: 0.05U, возраст: 29мин, остаток: 94.3%, IOB: 0.047U
  Bolus: 0U, возраст: 45мин, остаток: 84.6%, IOB: 0.000U
  SMB: 0.2U, возраст: 56мин, остаток: 77.2%, IOB: 0.154U
  SMB: 0.2U, возраст: 68мин, остаток: 67.8%, IOB: 0.136U
  SMB: 0.2U, возраст: 74мин, остаток: 63.7%, IOB: 0.127U
  SMB: 0.2U, возраст: 77мин, остаток: 61.1%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 56.7%, IOB: 0.113U
  SMB: 0.2U, возраст: 89мин, остаток: 52.8%, IOB: 0.106U
  SMB: 0.2U, возраст: 97мин, остаток: 47.3%, IOB: 0.095U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7951008849215756288
  Custom Basal IOB: 1.0376711820646418432
  Custom Total IOB: 2.832772066986217472
  Difference: 2.832772066986217472
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.832772066986217472
  Difference: 2.832772066986217472
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 21min, IOB: 0.09784909385103486976
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 30min, IOB: 0.047104241931619584
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 56min, IOB: 0.1542200650593449984
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 68min, IOB: 0.13544954855620640768
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 74min, IOB: 0.12731261566874368
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 77min, IOB: 0.1220599142148406272
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 83min, IOB: 0.11335653936846270464
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 89min, IOB: 0.10540198969567166464
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 97min, IOB: 0.09439731003011868672
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 101min, IOB: 0.089689539783176192
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 107min, IOB: 0.165234331087358464
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 126min, IOB: 0.12257004757765367808
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 137min, IOB: 0.012763090514931007488
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 138min, IOB: 0.02492163350170556416
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 138min, IOB: 0.02483296307214594048
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 138min, IOB: 0.0247500998387112448
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 163min, IOB: 0.06229816397711806464
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 170min, IOB: 0.013444658575403954176
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 183min, IOB: 0.010197422161843224576
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 197min, IOB: 0.07383881085175601152
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 200min, IOB: 0.05543728972343062528
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 206min, IOB: 0.05619770316330477568
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 211min, IOB: 0.04401342727656455168
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 221min, IOB: 0.01560025147905795072
  SMB-Basal IOB: 1.0365993917093976064U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0365993917093976064U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:55:34 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7929407509602048 U
  Наш Basal IOB: 1.0365993917093976064 U
  Наш Total IOB: 2.8295401426696024064 U
  РАЗНИЦА: 2.8295401426696024064 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 21мин, остаток: 97.8%, IOB: 0.098U
  Bolus: 0.05U, возраст: 30мин, остаток: 94.2%, IOB: 0.047U
  Bolus: 0U, возраст: 45мин, остаток: 84.6%, IOB: 0.000U
  SMB: 0.2U, возраст: 56мин, остаток: 77.1%, IOB: 0.154U
  SMB: 0.2U, возраст: 68мин, остаток: 67.7%, IOB: 0.135U
  SMB: 0.2U, возраст: 74мин, остаток: 63.7%, IOB: 0.127U
  SMB: 0.2U, возраст: 77мин, остаток: 61.0%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 56.7%, IOB: 0.113U
  SMB: 0.2U, возраст: 89мин, остаток: 52.7%, IOB: 0.105U
  SMB: 0.2U, возраст: 97мин, остаток: 47.2%, IOB: 0.094U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7929407509602048
  Custom Basal IOB: 1.0365993917093976064
  Custom Total IOB: 2.8295401426696024064
  Difference: 2.8295401426696024064
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8295401426696024064
  Difference: 2.8295401426696024064
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 21min, IOB: 0.09782031570938918912
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 30min, IOB: 0.04708291200024175616
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 56min, IOB: 0.15409701037243285504
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 68min, IOB: 0.13532494809510012928
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 74min, IOB: 0.1271893908134767616
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 77min, IOB: 0.12193810263989551104
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 83min, IOB: 0.11323787295853617152
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 89min, IOB: 0.10528698828360093696
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 97min, IOB: 0.09428849408490336256
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 101min, IOB: 0.089583735760835072
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 107min, IOB: 0.16503254862210060288
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 126min, IOB: 0.12240324854337347584
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 137min, IOB: 0.012744687133361768448
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 138min, IOB: 0.02488543544472182784
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 138min, IOB: 0.02479685485045891072
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 139min, IOB: 0.02471407569763503616
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 163min, IOB: 0.06219460541725335552
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 171min, IOB: 0.013421385191914397696
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 183min, IOB: 0.01017838018417240064
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 197min, IOB: 0.07368804022235053056
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 200min, IOB: 0.0553220585250751488
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 206min, IOB: 0.05607553315871876096
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 211min, IOB: 0.04391400798309827584
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 221min, IOB: 0.015561942042894211072
  SMB-Basal IOB: 1.0355282349603309568U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0355282349603309568U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:55:39 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7907825737355405312 U
  Наш Basal IOB: 1.0355282349603309568 U
  Наш Total IOB: 2.826310808695871488 U
  РАЗНИЦА: 2.826310808695871488 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 21мин, остаток: 97.8%, IOB: 0.098U
  Bolus: 0.05U, возраст: 30мин, остаток: 94.2%, IOB: 0.047U
  Bolus: 0U, возраст: 45мин, остаток: 84.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 56мин, остаток: 77.0%, IOB: 0.154U
  SMB: 0.2U, возраст: 68мин, остаток: 67.7%, IOB: 0.135U
  SMB: 0.2U, возраст: 74мин, остаток: 63.6%, IOB: 0.127U
  SMB: 0.2U, возраст: 77мин, остаток: 61.0%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 56.6%, IOB: 0.113U
  SMB: 0.2U, возраст: 89мин, остаток: 52.6%, IOB: 0.105U
  SMB: 0.2U, возраст: 97мин, остаток: 47.1%, IOB: 0.094U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7907825737355405312
  Custom Basal IOB: 1.0355282349603309568
  Custom Total IOB: 2.826310808695871488
  Difference: 2.826310808695871488
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.826310808695871488
  Difference: 2.826310808695871488
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 21min, IOB: 0.09779136482649120768
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 30min, IOB: 0.04706151772859753472
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 56min, IOB: 0.15397387611914627072
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 68min, IOB: 0.13520031715663771648
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 74min, IOB: 0.12706615164625465344
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 77min, IOB: 0.12181628588510230528
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 83min, IOB: 0.11311921451845869568
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 89min, IOB: 0.10517200492335304704
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 97min, IOB: 0.09417970743472140288
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 101min, IOB: 0.08947796496501229568
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 107min, IOB: 0.16483084257951586304
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 126min, IOB: 0.122236543559268352
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 137min, IOB: 0.01272629577713874944
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 138min, IOB: 0.02484926143517940736
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 138min, IOB: 0.02476077067453828608
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 139min, IOB: 0.02467807560048239616
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 163min, IOB: 0.06209113530303734784
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 171min, IOB: 0.0133981329387009024
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 183min, IOB: 0.010159357378138148864
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 197min, IOB: 0.07353743887962085376
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 200min, IOB: 0.05520695939286255616
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 206min, IOB: 0.055953510397914112
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 211min, IOB: 0.0438147136107211008
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 221min, IOB: 0.015523685150559971328
  SMB-Basal IOB: 1.0344571782262243328U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0344571782262243328U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:55:44 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7886251278814527488 U
  Наш Basal IOB: 1.0344571782262243328 U
  Наш Total IOB: 2.8230823061076770816 U
  РАЗНИЦА: 2.8230823061076770816 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 21мин, остаток: 97.8%, IOB: 0.098U
  Bolus: 0.05U, возраст: 30мин, остаток: 94.1%, IOB: 0.047U
  Bolus: 0U, возраст: 45мин, остаток: 84.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 56мин, остаток: 77.0%, IOB: 0.154U
  SMB: 0.2U, возраст: 68мин, остаток: 67.6%, IOB: 0.135U
  SMB: 0.2U, возраст: 74мин, остаток: 63.5%, IOB: 0.127U
  SMB: 0.2U, возраст: 77мин, остаток: 60.9%, IOB: 0.122U
  SMB: 0.2U, возраст: 83мин, остаток: 56.6%, IOB: 0.113U
  SMB: 0.2U, возраст: 89мин, остаток: 52.6%, IOB: 0.105U
  SMB: 0.2U, возраст: 97мин, остаток: 47.1%, IOB: 0.094U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7886251278814527488
  Custom Basal IOB: 1.0344571782262243328
  Custom Total IOB: 2.8230823061076770816
  Difference: 2.8230823061076770816
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8230823061076770816
  Difference: 2.8230823061076770816
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 21min, IOB: 0.09776225805875351552
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 30min, IOB: 0.04704007140241400832
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 56min, IOB: 0.15385073222810599424
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 69min, IOB: 0.135075726386494976
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 74min, IOB: 0.12694296798216871936
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 78min, IOB: 0.12169453293625468928
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 84min, IOB: 0.11300063121152817152
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 89min, IOB: 0.1050571046713432064
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 97min, IOB: 0.09407101159869612032
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 101min, IOB: 0.0893722871973446144
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 107min, IOB: 0.164629326969183232
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 126min, IOB: 0.12207002677588662272
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 137min, IOB: 0.01270792682933574656
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 138min, IOB: 0.02481313189466394112
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 138min, IOB: 0.0247247309151215616
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 139min, IOB: 0.02464211987040086016
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 163min, IOB: 0.06198781200371239936
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 171min, IOB: 0.01337491493012685824
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 183min, IOB: 0.010140364468869787648
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 197min, IOB: 0.07338709169938174976
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 200min, IOB: 0.05509205718924566528
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 206min, IOB: 0.05583170363165175808
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 211min, IOB: 0.04371560009513912832
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 221min, IOB: 0.015485502345522440192
  SMB-Basal IOB: 1.0333866570653843456U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0333866570653843456U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:55:49 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7864696332913455104 U
  Наш Basal IOB: 1.0333866570653843456 U
  Наш Total IOB: 2.819856290356729856 U
  РАЗНИЦА: 2.819856290356729856 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 21мин, остаток: 97.8%, IOB: 0.098U
  Bolus: 0.05U, возраст: 30мин, остаток: 94.1%, IOB: 0.047U
  Bolus: 0U, возраст: 46мин, остаток: 84.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 56мин, остаток: 76.9%, IOB: 0.154U
  SMB: 0.2U, возраст: 69мин, остаток: 67.5%, IOB: 0.135U
  SMB: 0.2U, возраст: 74мин, остаток: 63.5%, IOB: 0.127U
  SMB: 0.2U, возраст: 78мин, остаток: 60.8%, IOB: 0.122U
  SMB: 0.2U, возраст: 84мин, остаток: 56.5%, IOB: 0.113U
  SMB: 0.2U, возраст: 89мин, остаток: 52.5%, IOB: 0.105U
  SMB: 0.2U, возраст: 97мин, остаток: 47.0%, IOB: 0.094U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7864696332913455104
  Custom Basal IOB: 1.0333866570653843456
  Custom Total IOB: 2.819856290356729856
  Difference: 2.819856290356729856
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.819856290356729856
  Difference: 2.819856290356729856
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 21min, IOB: 0.09773298258381211648
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 30min, IOB: 0.0470185633944546816
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 56min, IOB: 0.15372752259656931328
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 69min, IOB: 0.13495111888226750464
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 74min, IOB: 0.12681978351737552896
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 78min, IOB: 0.1215727881185811456
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 84min, IOB: 0.1128820687764688896
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 89min, IOB: 0.10494223492329613312
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 98min, IOB: 0.09396235677995982848
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 101min, IOB: 0.08926665403088945152
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 107min, IOB: 0.16442790941157593088
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 126min, IOB: 0.1219036217777097728
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 137min, IOB: 0.012689571856203956224
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 138min, IOB: 0.02477703023401976832
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 139min, IOB: 0.02468871902413411328
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 139min, IOB: 0.0246061919977657344
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 164min, IOB: 0.0618845880310065152
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 171min, IOB: 0.013351720492174211072
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 184min, IOB: 0.010121392720649422848
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 197min, IOB: 0.07323692949346049024
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 200min, IOB: 0.05497729903198055424
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 206min, IOB: 0.05571005678540601344
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 211min, IOB: 0.04361662179870500352
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 221min, IOB: 0.015447376037622009856
  SMB-Basal IOB: 1.0323163371898544128U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0323163371898544128U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:55:54 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.784315102296087552 U
  Наш Basal IOB: 1.0323163371898544128 U
  Наш Total IOB: 2.8166314394859419648 U
  РАЗНИЦА: 2.8166314394859419648 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 21мин, остаток: 97.7%, IOB: 0.098U
  Bolus: 0.05U, возраст: 30мин, остаток: 94.0%, IOB: 0.047U
  Bolus: 0U, возраст: 46мин, остаток: 84.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 56мин, остаток: 76.9%, IOB: 0.154U
  SMB: 0.2U, возраст: 69мин, остаток: 67.5%, IOB: 0.135U
  SMB: 0.2U, возраст: 74мин, остаток: 63.4%, IOB: 0.127U
  SMB: 0.2U, возраст: 78мин, остаток: 60.8%, IOB: 0.122U
  SMB: 0.2U, возраст: 84мин, остаток: 56.4%, IOB: 0.113U
  SMB: 0.2U, возраст: 89мин, остаток: 52.5%, IOB: 0.105U
  SMB: 0.2U, возраст: 98мин, остаток: 47.0%, IOB: 0.094U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.784315102296087552
  Custom Basal IOB: 1.0323163371898544128
  Custom Total IOB: 2.8166314394859419648
  Difference: 2.8166314394859419648
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8166314394859419648
  Difference: 2.8166314394859419648
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 22min, IOB: 0.0977035584648948736
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 30min, IOB: 0.04699700824750232576
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 56min, IOB: 0.15360432962587160576
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 69min, IOB: 0.13482657782480007168
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 74min, IOB: 0.12669668043396595712
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 78min, IOB: 0.1214511326261628928
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 84min, IOB: 0.1127636062451582976
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 89min, IOB: 0.10482747221821116416
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 98min, IOB: 0.09385381533962952704
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 101min, IOB: 0.08916113580025419776
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 107min, IOB: 0.16422672397948360704
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 126min, IOB: 0.1217374392419492864
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 137min, IOB: 0.01267124306114185216
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 138min, IOB: 0.02474098045452976128
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 139min, IOB: 0.02465275894301739008
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 139min, IOB: 0.02457031586801176064
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 164min, IOB: 0.06178153195822488576
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 171min, IOB: 0.013328565030066710528
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 184min, IOB: 0.01010245472940411904
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 197min, IOB: 0.07308705191725515776
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 200min, IOB: 0.0548627610742127616
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 206min, IOB: 0.05558865056686700544
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 211min, IOB: 0.0435178443777831168
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 221min, IOB: 0.015409331507677138944
  SMB-Basal IOB: 1.0312467542786514944U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0312467542786514944U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:55:59 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7821629695360755712 U
  Наш Basal IOB: 1.0312467542786514944 U
  Наш Total IOB: 2.8134097238147270656 U
  РАЗНИЦА: 2.8134097238147270656 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 22мин, остаток: 97.7%, IOB: 0.098U
  Bolus: 0.05U, возраст: 30мин, остаток: 94.0%, IOB: 0.047U
  Bolus: 0U, возраст: 46мин, остаток: 84.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 56мин, остаток: 76.8%, IOB: 0.154U
  SMB: 0.2U, возраст: 69мин, остаток: 67.4%, IOB: 0.135U
  SMB: 0.2U, возраст: 74мин, остаток: 63.3%, IOB: 0.127U
  SMB: 0.2U, возраст: 78мин, остаток: 60.7%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.4%, IOB: 0.113U
  SMB: 0.2U, возраст: 89мин, остаток: 52.4%, IOB: 0.105U
  SMB: 0.2U, возраст: 98мин, остаток: 46.9%, IOB: 0.094U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7821629695360755712
  Custom Basal IOB: 1.0312467542786514944
  Custom Total IOB: 2.8134097238147270656
  Difference: 2.8134097238147270656
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8134097238147270656
  Difference: 2.8134097238147270656
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 22min, IOB: 0.09767396757058678784
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 30min, IOB: 0.04697539248076140544
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 56min, IOB: 0.15348107535448598528
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 69min, IOB: 0.13470202424234729472
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 74min, IOB: 0.12657358062263580672
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 78min, IOB: 0.12132948924031873024
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 84min, IOB: 0.11264516838530748416
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 89min, IOB: 0.10471274364168538112
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 98min, IOB: 0.09374531827871735808
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 101min, IOB: 0.08905566541393158144
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 107min, IOB: 0.16402564271422861312
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 126min, IOB: 0.12157137338179997696
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 137min, IOB: 0.012652928771892989952
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 139min, IOB: 0.02470495959764276224
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 139min, IOB: 0.02461682777018266112
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 139min, IOB: 0.02453446863286390784
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 164min, IOB: 0.06167857810004419584
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 171min, IOB: 0.01330543378184387584
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 184min, IOB: 0.010083538417115967488
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 198min, IOB: 0.07293736334121025536
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 200min, IOB: 0.05474837022845912064
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 206min, IOB: 0.05546740748878843904
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 211min, IOB: 0.04341920477601342976
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 221min, IOB: 0.01537134445915486208
  SMB-Basal IOB: 1.0301773779302201344U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0301773779302201344U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:56:04 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7800118666920192 U
  Наш Basal IOB: 1.0301773779302201344 U
  Наш Total IOB: 2.8101892446222393344 U
  РАЗНИЦА: 2.8101892446222393344 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 22мин, остаток: 97.7%, IOB: 0.098U
  Bolus: 0.05U, возраст: 30мин, остаток: 94.0%, IOB: 0.047U
  Bolus: 0U, возраст: 46мин, остаток: 84.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 56мин, остаток: 76.7%, IOB: 0.153U
  SMB: 0.2U, возраст: 69мин, остаток: 67.4%, IOB: 0.135U
  SMB: 0.2U, возраст: 74мин, остаток: 63.3%, IOB: 0.127U
  SMB: 0.2U, возраст: 78мин, остаток: 60.7%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.3%, IOB: 0.113U
  SMB: 0.2U, возраст: 89мин, остаток: 52.4%, IOB: 0.105U
  SMB: 0.2U, возраст: 98мин, остаток: 46.9%, IOB: 0.094U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7800118666920192
  Custom Basal IOB: 1.0301773779302201344
  Custom Total IOB: 2.8101892446222393344
  Difference: 2.8101892446222393344
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8101892446222393344
  Difference: 2.8101892446222393344
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 22min, IOB: 0.09764421952259377152
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 30min, IOB: 0.04695372295624571904
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 56min, IOB: 0.15335779813961033728
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 69min, IOB: 0.13457749676420550656
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 74min, IOB: 0.12645052222027159552
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 78min, IOB: 0.12120789562329366528
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 84min, IOB: 0.11252679183285805056
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 90min, IOB: 0.10459808465562652672
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 98min, IOB: 0.09363689910179551232
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 101min, IOB: 0.08895027542983473152
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 107min, IOB: 0.16382472765531623424
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 126min, IOB: 0.12140547535796836352
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 137min, IOB: 0.012634634626747209728
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 139min, IOB: 0.02466897875193061888
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 139min, IOB: 0.02458093656645974528
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 139min, IOB: 0.02449866132718819328
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 164min, IOB: 0.06157575810588867584
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 171min, IOB: 0.013282333855730020352
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 184min, IOB: 0.010064649592931586048
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 198min, IOB: 0.07278790970025759744
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 200min, IOB: 0.05463416159275081728
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 206min, IOB: 0.05534636473813042176
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 211min, IOB: 0.04332073323817436672
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 221min, IOB: 0.01533342653166527488
  SMB-Basal IOB: 1.0291085207365197824U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0291085207365197824U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:56:09 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.777862457887474688 U
  Наш Basal IOB: 1.0291085207365197824 U
  Наш Total IOB: 2.8069709786239944704 U
  РАЗНИЦА: 2.8069709786239944704 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 22мин, остаток: 97.6%, IOB: 0.098U
  Bolus: 0.05U, возраст: 30мин, остаток: 93.9%, IOB: 0.047U
  Bolus: 0U, возраст: 46мин, остаток: 84.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 56мин, остаток: 76.7%, IOB: 0.153U
  SMB: 0.2U, возраст: 69мин, остаток: 67.3%, IOB: 0.135U
  SMB: 0.2U, возраст: 74мин, остаток: 63.2%, IOB: 0.126U
  SMB: 0.2U, возраст: 78мин, остаток: 60.6%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.3%, IOB: 0.113U
  SMB: 0.2U, возраст: 90мин, остаток: 52.3%, IOB: 0.105U
  SMB: 0.2U, возраст: 98мин, остаток: 46.8%, IOB: 0.094U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.777862457887474688
  Custom Basal IOB: 1.0291085207365197824
  Custom Total IOB: 2.8069709786239944704
  Difference: 2.8069709786239944704
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8069709786239944704
  Difference: 2.8069709786239944704
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 22min, IOB: 0.09761430725187438592
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 30min, IOB: 0.0469319943545993728
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 56min, IOB: 0.15323446693073768448
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 69min, IOB: 0.13445296388917108736
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 74min, IOB: 0.12632747405462386688
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 78min, IOB: 0.12108632094980460544
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 84min, IOB: 0.11240844654330882048
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 90min, IOB: 0.10448346613165961216
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 98min, IOB: 0.09352853023356542976
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 101min, IOB: 0.08884493903075608576
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 107min, IOB: 0.16362392764479465472
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 126min, IOB: 0.12123970285089820672
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 137min, IOB: 0.01261635595497650176
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 139min, IOB: 0.0246330287300829184
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 139min, IOB: 0.02454507616728901632
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 139min, IOB: 0.0244628848077186304
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 164min, IOB: 0.06147304567668105216
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 171min, IOB: 0.013259259340541503488
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 184min, IOB: 0.010045783419297470464
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 198min, IOB: 0.072638652682953216
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 200min, IOB: 0.05452010588516937728
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 206min, IOB: 0.05522549126670051328
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 211min, IOB: 0.04322240449594633216
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 221min, IOB: 0.0152955679869773312
  SMB-Basal IOB: 1.0280398896035508224U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0280398896035508224U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:56:14 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7757141962801278976 U
  Наш Basal IOB: 1.0280398896035508224 U
  Наш Total IOB: 2.80375408588367872 U
  РАЗНИЦА: 2.80375408588367872 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 22мин, остаток: 97.6%, IOB: 0.098U
  Bolus: 0.05U, возраст: 30мин, остаток: 93.9%, IOB: 0.047U
  Bolus: 0U, возраст: 46мин, остаток: 84.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 56мин, остаток: 76.6%, IOB: 0.153U
  SMB: 0.2U, возраст: 69мин, остаток: 67.2%, IOB: 0.134U
  SMB: 0.2U, возраст: 74мин, остаток: 63.2%, IOB: 0.126U
  SMB: 0.2U, возраст: 78мин, остаток: 60.5%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.2%, IOB: 0.112U
  SMB: 0.2U, возраст: 90мин, остаток: 52.2%, IOB: 0.104U
  SMB: 0.2U, возраст: 98мин, остаток: 46.8%, IOB: 0.094U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7757141962801278976
  Custom Basal IOB: 1.0280398896035508224
  Custom Total IOB: 2.80375408588367872
  Difference: 2.80375408588367872
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.80375408588367872
  Difference: 2.80375408588367872
  Show Custom: true
FetchGlucoseManager.swift - subscribe() - 63 DEV: FetchGlucoseManager heartbeat
FetchTreatmentsManager.swift - subscribe() - 26 DEV: FetchTreatmentsManager heartbeat
FetchGlucoseManager.swift - subscribe() - 64 DEV: Start fetching glucose
FetchTreatmentsManager.swift - subscribe() - 27 DEV: Start fetching carbs and temptargets
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5Bcarbs%5D%5B$exists%5D=true&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:56:18.336Z
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary+Target&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bduration%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:56:18.339Z
Retrieved peripheral E926E760-258A-38B6-1809-3D3BC7BC94A7
HealthKitManager.swift - fetch() - 298 DEV: Start fetching HealthKitManager
Making peripheral active: E926E760-258A-38B6-1809-3D3BC7BC94A7
HealthKitManager.swift - fetch() - 300 DEV: HealthKitManager cant return any data, because useAppleHealth option is disable
FetchGlucoseManager.swift - subscribe() - 75 DEV: SyncDate is 2025-09-23 01:52:08 +0000
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 22min, IOB: 0.09758424016970119168
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 30min, IOB: 0.0469102133398889984
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 56min, IOB: 0.15311111875086030848
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 69min, IOB: 0.1343284628625408
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 74min, IOB: 0.1262044728834157568
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 78min, IOB: 0.12096480151283331072
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 84min, IOB: 0.11229016781010143232
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 90min, IOB: 0.10436892222383632384
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 98min, IOB: 0.09342024393301970944
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 102min, IOB: 0.0887396875603718656
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 107min, IOB: 0.16342330239782643712
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 127min, IOB: 0.1210741050794976256
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 137min, IOB: 0.01259809817953435648
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 139min, IOB: 0.02459712019685965312
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 139min, IOB: 0.02450925721070173184
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 139min, IOB: 0.02442714968747136
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 164min, IOB: 0.06137047123631806464
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 171min, IOB: 0.013236217068247984128
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 184min, IOB: 0.010026945478077831168
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 198min, IOB: 0.07248963641298434048
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 200min, IOB: 0.05440623681765374976
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 207min, IOB: 0.05510482278707513344
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 212min, IOB: 0.04312424759088024576
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 222min, IOB: 0.015257779998111690752
  SMB-Basal IOB: 1.0269717234323326976U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0269717234323326976U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:56:19 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7735677211878096896 U
  Наш Basal IOB: 1.0269717234323326976 U
  Наш Total IOB: 2.8005394446201423872 U
  РАЗНИЦА: 2.8005394446201423872 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 22мин, остаток: 97.6%, IOB: 0.098U
  Bolus: 0.05U, возраст: 30мин, остаток: 93.8%, IOB: 0.047U
  Bolus: 0U, возраст: 46мин, остаток: 84.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 56мин, остаток: 76.6%, IOB: 0.153U
  SMB: 0.2U, возраст: 69мин, остаток: 67.2%, IOB: 0.134U
  SMB: 0.2U, возраст: 74мин, остаток: 63.1%, IOB: 0.126U
  SMB: 0.2U, возраст: 78мин, остаток: 60.5%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.1%, IOB: 0.112U
  SMB: 0.2U, возраст: 90мин, остаток: 52.2%, IOB: 0.104U
  SMB: 0.2U, возраст: 98мин, остаток: 46.7%, IOB: 0.093U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7735677211878096896
  Custom Basal IOB: 1.0269717234323326976
  Custom Total IOB: 2.8005394446201423872
  Difference: 2.8005394446201423872
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.8005394446201423872
  Difference: 2.8005394446201423872
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 22min, IOB: 0.0975540097685870592
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 30min, IOB: 0.04688837357845901312
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 57min, IOB: 0.1529877169352762368
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 69min, IOB: 0.1342039565391654912
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 75min, IOB: 0.12608148196564639744
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 78min, IOB: 0.12084330098951319552
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 84min, IOB: 0.11217192024369201152
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 90min, IOB: 0.10425441863222556672
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 98min, IOB: 0.0933120077414006784
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 102min, IOB: 0.08863448945704388608
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 107min, IOB: 0.16322279171881652224
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 127min, IOB: 0.12090863227855972352
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 137min, IOB: 0.012579855809534959616
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 139min, IOB: 0.02456124235208294912
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 139min, IOB: 0.0244734689233207552
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 139min, IOB: 0.02439144521815322112
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 164min, IOB: 0.0612680038874631168
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 171min, IOB: 0.01321320009528772608
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 184min, IOB: 0.010008130088570855424
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 198min, IOB: 0.072340815917229056
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 200min, IOB: 0.0542925200190677504
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 207min, IOB: 0.05498432286125640704
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 212min, IOB: 0.04302623287268856832
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 222min, IOB: 0.015220051141903126528
  SMB-Basal IOB: 1.025903839408915456U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.025903839408915456U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:56:24 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.771422389034944512 U
  Наш Basal IOB: 1.025903839408915456 U
  Наш Total IOB: 2.797326228443859968 U
  РАЗНИЦА: 2.797326228443859968 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 22мин, остаток: 97.6%, IOB: 0.098U
  Bolus: 0.05U, возраст: 30мин, остаток: 93.8%, IOB: 0.047U
  Bolus: 0U, возраст: 46мин, остаток: 84.0%, IOB: 0.000U
  SMB: 0.2U, возраст: 57мин, остаток: 76.5%, IOB: 0.153U
  SMB: 0.2U, возраст: 69мин, остаток: 67.1%, IOB: 0.134U
  SMB: 0.2U, возраст: 75мин, остаток: 63.0%, IOB: 0.126U
  SMB: 0.2U, возраст: 78мин, остаток: 60.4%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.1%, IOB: 0.112U
  SMB: 0.2U, возраст: 90мин, остаток: 52.1%, IOB: 0.104U
  SMB: 0.2U, возраст: 98мин, остаток: 46.7%, IOB: 0.093U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.771422389034944512
  Custom Basal IOB: 1.025903839408915456
  Custom Total IOB: 2.797326228443859968
  Difference: 2.797326228443859968
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.797326228443859968
  Difference: 2.797326228443859968
  Show Custom: true
SMB-Basal: tick() - processing basal replacement
SMB-Basal: Updated compensation units: 0 U from 0 failed pulses
SMB-Basal: Current temp basal rate: 0 U/h, remaining: 2 min, isZero: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 22min, IOB: 0.09752358868864606208
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 30min, IOB: 0.04686645524252950528
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 57min, IOB: 0.15286414916342001664
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 69min, IOB: 0.13407933154443280384
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 75min, IOB: 0.1259583892915131392
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 78min, IOB: 0.1207217087189113856
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 84min, IOB: 0.11205359613380294656
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 90min, IOB: 0.10413985104749471744
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 98min, IOB: 0.09320372304799352832
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 102min, IOB: 0.0885292488738944
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 107min, IOB: 0.16302221290986559488
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 127min, IOB: 0.12074313365154340864
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 138min, IOB: 0.012561612219455430656
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 139min, IOB: 0.02452536249756004352
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 139min, IOB: 0.02443767868853700608
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 139min, IOB: 0.02435573885951068672
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 164min, IOB: 0.0611655502331480064
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 171min, IOB: 0.013190187441607102464
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 184min, IOB: 0.009989320099810062336
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 198min, IOB: 0.0721920555352971776
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 201min, IOB: 0.05417885182793869312
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 207min, IOB: 0.05486388164305910784
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 212min, IOB: 0.042928270991597824
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 222min, IOB: 0.015182347024361406464
  SMB-Basal IOB: 1.0248350573458763776U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0248350573458763776U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:56:29 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7692762453759301632 U
  Наш Basal IOB: 1.0248350573458763776 U
  Наш Total IOB: 2.7941113027218065408 U
  РАЗНИЦА: 2.7941113027218065408 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 22мин, остаток: 97.5%, IOB: 0.098U
  Bolus: 0.05U, возраст: 30мин, остаток: 93.7%, IOB: 0.047U
  Bolus: 0U, возраст: 46мин, остаток: 83.9%, IOB: 0.000U
  SMB: 0.2U, возраст: 57мин, остаток: 76.4%, IOB: 0.153U
  SMB: 0.2U, возраст: 69мин, остаток: 67.0%, IOB: 0.134U
  SMB: 0.2U, возраст: 75мин, остаток: 63.0%, IOB: 0.126U
  SMB: 0.2U, возраст: 78мин, остаток: 60.4%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.0%, IOB: 0.112U
  SMB: 0.2U, возраст: 90мин, остаток: 52.1%, IOB: 0.104U
  SMB: 0.2U, возраст: 98мин, остаток: 46.6%, IOB: 0.093U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7692762453759301632
  Custom Basal IOB: 1.0248350573458763776
  Custom Total IOB: 2.7941113027218065408
  Difference: 2.7941113027218065408
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7941113027218065408
  Difference: 2.7941113027218065408
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 22min, IOB: 0.097493083046898688
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 31min, IOB: 0.0468445345035308032
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 57min, IOB: 0.15274084352012347392
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 69min, IOB: 0.1339550193913761792
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 75min, IOB: 0.12583562099435968512
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 78min, IOB: 0.12060044559824470016
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 84min, IOB: 0.11193560500409731072
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 90min, IOB: 0.10402561594385790976
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 98min, IOB: 0.09309576452785713152
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 102min, IOB: 0.08842432993123808256
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 108min, IOB: 0.16282225989070743552
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 127min, IOB: 0.12057818161548201984
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 138min, IOB: 0.012543430501836914688
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 139min, IOB: 0.02448960471629508608
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 139min, IOB: 0.02440201027916787712
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 139min, IOB: 0.02432015409405516288
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 164min, IOB: 0.0610634645031148544
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 171min, IOB: 0.013167258667328188416
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 184min, IOB: 0.009970580534512386048
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 198min, IOB: 0.07204386943373041664
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 201min, IOB: 0.05406562510945480704
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 207min, IOB: 0.05474391537803392
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 212min, IOB: 0.04283070048420135936
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 222min, IOB: 0.0151447979260010496
  SMB-Basal IOB: 1.0237694290042611712U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0237694290042611712U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:56:34 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.767136715595505664 U
  Наш Basal IOB: 1.0237694290042611712 U
  Наш Total IOB: 2.7909061445997668352 U
  РАЗНИЦА: 2.7909061445997668352 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 22мин, остаток: 97.5%, IOB: 0.097U
  Bolus: 0.05U, возраст: 31мин, остаток: 93.7%, IOB: 0.047U
  Bolus: 0U, возраст: 46мин, остаток: 83.9%, IOB: 0.000U
  SMB: 0.2U, возраст: 57мин, остаток: 76.4%, IOB: 0.153U
  SMB: 0.2U, возраст: 69мин, остаток: 67.0%, IOB: 0.134U
  SMB: 0.2U, возраст: 75мин, остаток: 62.9%, IOB: 0.126U
  SMB: 0.2U, возраст: 78мин, остаток: 60.3%, IOB: 0.121U
  SMB: 0.2U, возраст: 84мин, остаток: 56.0%, IOB: 0.112U
  SMB: 0.2U, возраст: 90мин, остаток: 52.0%, IOB: 0.104U
  SMB: 0.2U, возраст: 98мин, остаток: 46.5%, IOB: 0.093U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.767136715595505664
  Custom Basal IOB: 1.0237694290042611712
  Custom Total IOB: 2.7909061445997668352
  Difference: 2.7909061445997668352
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7909061445997668352
  Difference: 2.7909061445997668352
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 22min, IOB: 0.0974623864732777472
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 31min, IOB: 0.04682253464654334976
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 57min, IOB: 0.1526173671617148928
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 69min, IOB: 0.13383058347269015552
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 75min, IOB: 0.1257127458163720192
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 78min, IOB: 0.12047908561584678912
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 84min, IOB: 0.11181753227813132288
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 90min, IOB: 0.10391131189492881408
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 98min, IOB: 0.09298775275518406656
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 102min, IOB: 0.0883193638645355008
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 108min, IOB: 0.1626222298162604032
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 127min, IOB: 0.12041319621805688832
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 138min, IOB: 0.012525246724651696128
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 139min, IOB: 0.0244538432721714432
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 139min, IOB: 0.02436633827310647296
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 140min, IOB: 0.024284565793565312
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 164min, IOB: 0.06096138764690763776
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 172min, IOB: 0.013144333123402752
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 184min, IOB: 0.009951845470962327552
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 198min, IOB: 0.07189573625617519616
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 201min, IOB: 0.05395244149264871424
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 207min, IOB: 0.05462400195476156416
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 212min, IOB: 0.042733178020554496
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 222min, IOB: 0.01510727170245598208
  SMB-Basal IOB: 1.0227028932406398976U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0227028932406398976U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:56:39 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7649962797449058304 U
  Наш Basal IOB: 1.0227028932406398976 U
  Наш Total IOB: 2.787699172985545728 U
  РАЗНИЦА: 2.787699172985545728 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 22мин, остаток: 97.5%, IOB: 0.097U
  Bolus: 0.05U, возраст: 31мин, остаток: 93.6%, IOB: 0.047U
  Bolus: 0U, возраст: 46мин, остаток: 83.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 57мин, остаток: 76.3%, IOB: 0.153U
  SMB: 0.2U, возраст: 69мин, остаток: 66.9%, IOB: 0.134U
  SMB: 0.2U, возраст: 75мин, остаток: 62.9%, IOB: 0.126U
  SMB: 0.2U, возраст: 78мин, остаток: 60.2%, IOB: 0.120U
  SMB: 0.2U, возраст: 84мин, остаток: 55.9%, IOB: 0.112U
  SMB: 0.2U, возраст: 90мин, остаток: 52.0%, IOB: 0.104U
  SMB: 0.2U, возраст: 98мин, остаток: 46.5%, IOB: 0.093U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7649962797449058304
  Custom Basal IOB: 1.0227028932406398976
  Custom Total IOB: 2.787699172985545728
  Difference: 2.787699172985545728
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.787699172985545728
  Difference: 2.787699172985545728
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 22min, IOB: 0.09743152893491976192
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 31min, IOB: 0.0468004770916378112
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 57min, IOB: 0.15249384004369586176
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 69min, IOB: 0.1337061446305972224
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 75min, IOB: 0.1255898830700077056
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 78min, IOB: 0.12035774660502421504
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 84min, IOB: 0.11169949258621288448
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 90min, IOB: 0.10379704986346698752
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 98min, IOB: 0.09287979257435875328
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 102min, IOB: 0.08821445255799986176
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 108min, IOB: 0.16242231683349747712
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 127min, IOB: 0.12024833757030039552
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 138min, IOB: 0.012507078533429633024
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 139min, IOB: 0.02441811286785106944
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 139min, IOB: 0.02433069728619134464
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 140min, IOB: 0.02424900849262147584
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 164min, IOB: 0.06085941870965211136
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 172min, IOB: 0.013121433054011817984
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 184min, IOB: 0.009933133086841939968
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 198min, IOB: 0.0717477997250756096
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 201min, IOB: 0.05383941079061431296
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 207min, IOB: 0.0545042577147639808
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 212min, IOB: 0.04263579821765887488
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 222min, IOB: 0.015069804761651990528
  SMB-Basal IOB: 1.0216366659352999936U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0216366659352999936U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:56:44 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7628570156020830208 U
  Наш Basal IOB: 1.0216366659352999936 U
  Наш Total IOB: 2.7844936815373830144 U
  РАЗНИЦА: 2.7844936815373830144 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 22мин, остаток: 97.4%, IOB: 0.097U
  Bolus: 0.05U, возраст: 31мин, остаток: 93.6%, IOB: 0.047U
  Bolus: 0U, возраст: 46мин, остаток: 83.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 57мин, остаток: 76.2%, IOB: 0.152U
  SMB: 0.2U, возраст: 69мин, остаток: 66.9%, IOB: 0.134U
  SMB: 0.2U, возраст: 75мин, остаток: 62.8%, IOB: 0.126U
  SMB: 0.2U, возраст: 78мин, остаток: 60.2%, IOB: 0.120U
  SMB: 0.2U, возраст: 84мин, остаток: 55.8%, IOB: 0.112U
  SMB: 0.2U, возраст: 90мин, остаток: 51.9%, IOB: 0.104U
  SMB: 0.2U, возраст: 98мин, остаток: 46.4%, IOB: 0.093U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7628570156020830208
  Custom Basal IOB: 1.0216366659352999936
  Custom Total IOB: 2.7844936815373830144
  Difference: 2.7844936815373830144
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7844936815373830144
  Difference: 2.7844936815373830144
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 22min, IOB: 0.0974004872101856256
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 31min, IOB: 0.04677834516487619584
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 57min, IOB: 0.1523701684370683904
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 70min, IOB: 0.13358160838375862272
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 75min, IOB: 0.12546693945170046976
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 79min, IOB: 0.1202363364087458816
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 85min, IOB: 0.11158139626192062464
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 90min, IOB: 0.1036827430407806976
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 98min, IOB: 0.09277180195065888768
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 102min, IOB: 0.08810951628840138752
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 108min, IOB: 0.16222236901227556864
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 127min, IOB: 0.12008348035128446976
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 138min, IOB: 0.01248891211569160192
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 139min, IOB: 0.0243823863387242496
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 139min, IOB: 0.02429506022174265856
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 140min, IOB: 0.02421345515811976192
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 164min, IOB: 0.06075748015221577728
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 172min, IOB: 0.013098541044652388352
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 184min, IOB: 0.009914429151053494272
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 198min, IOB: 0.07159994732299121664
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 201min, IOB: 0.05372644703329179648
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 207min, IOB: 0.05438459157850740736
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 212min, IOB: 0.04253848700463840256
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 222min, IOB: 0.015032368603107262464
  SMB-Basal IOB: 1.0205698001070624768U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0205698001070624768U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:56:49 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7607172976863940608 U
  Наш Basal IOB: 1.0205698001070624768 U
  Наш Total IOB: 2.7812870977934565376 U
  РАЗНИЦА: 2.7812870977934565376 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 22мин, остаток: 97.4%, IOB: 0.097U
  Bolus: 0.05U, возраст: 31мин, остаток: 93.6%, IOB: 0.047U
  Bolus: 0U, возраст: 47мин, остаток: 83.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 57мин, остаток: 76.2%, IOB: 0.152U
  SMB: 0.2U, возраст: 70мин, остаток: 66.8%, IOB: 0.134U
  SMB: 0.2U, возраст: 75мин, остаток: 62.7%, IOB: 0.125U
  SMB: 0.2U, возраст: 79мин, остаток: 60.1%, IOB: 0.120U
  SMB: 0.2U, возраст: 85мин, остаток: 55.8%, IOB: 0.112U
  SMB: 0.2U, возраст: 90мин, остаток: 51.8%, IOB: 0.104U
  SMB: 0.2U, возраст: 98мин, остаток: 46.4%, IOB: 0.093U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7607172976863940608
  Custom Basal IOB: 1.0205698001070624768
  Custom Total IOB: 2.7812870977934565376
  Difference: 2.7812870977934565376
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7812870977934565376
  Difference: 2.7812870977934565376
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 22min, IOB: 0.09736935011866271744
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 31min, IOB: 0.04675620194120487936
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 57min, IOB: 0.15224670360811628544
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 70min, IOB: 0.1334573282444798976
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 75min, IOB: 0.12534426388652138496
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 79min, IOB: 0.12011519956254101504
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 85min, IOB: 0.11146357838236397568
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 90min, IOB: 0.1035687157089314816
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 99min, IOB: 0.0926640871968147456
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 102min, IOB: 0.08800485268529815552
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 108min, IOB: 0.16202295340870244352
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 127min, IOB: 0.11991909197436542976
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 138min, IOB: 0.012470798971436265472
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 139min, IOB: 0.02434676496441587712
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 140min, IOB: 0.02425952810553740288
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 140min, IOB: 0.02417800657826233856
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 165min, IOB: 0.06065586088023242752
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 172min, IOB: 0.013075721969221578752
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 185min, IOB: 0.00989578666193251328
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 198min, IOB: 0.07145259793246849024
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 201min, IOB: 0.0536138702501994496
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 207min, IOB: 0.0542653425379687936
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 212min, IOB: 0.04244152002821155328
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 222min, IOB: 0.01499506925429496832
  SMB-Basal IOB: 1.0195054454989922304U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0195054454989922304U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:56:54 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7585831948521836544 U
  Наш Basal IOB: 1.0195054454989922304 U
  Наш Total IOB: 2.7780886403511758848 U
  РАЗНИЦА: 2.7780886403511758848 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 22мин, остаток: 97.4%, IOB: 0.097U
  Bolus: 0.05U, возраст: 31мин, остаток: 93.5%, IOB: 0.047U
  Bolus: 0U, возраст: 47мин, остаток: 83.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 57мин, остаток: 76.1%, IOB: 0.152U
  SMB: 0.2U, возраст: 70мин, остаток: 66.7%, IOB: 0.133U
  SMB: 0.2U, возраст: 75мин, остаток: 62.7%, IOB: 0.125U
  SMB: 0.2U, возраст: 79мин, остаток: 60.1%, IOB: 0.120U
  SMB: 0.2U, возраст: 85мин, остаток: 55.7%, IOB: 0.111U
  SMB: 0.2U, возраст: 90мин, остаток: 51.8%, IOB: 0.104U
  SMB: 0.2U, возраст: 99мин, остаток: 46.3%, IOB: 0.093U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7585831948521836544
  Custom Basal IOB: 1.0195054454989922304
  Custom Total IOB: 2.7780886403511758848
  Difference: 2.7780886403511758848
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7780886403511758848
  Difference: 2.7780886403511758848
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 23min, IOB: 0.09733803028976310272
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 31min, IOB: 0.04673398503666028544
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 57min, IOB: 0.1521230965295301632
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 70min, IOB: 0.13333295267055661056
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 75min, IOB: 0.1252215093045545984
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 79min, IOB: 0.119993993312175104
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 85min, IOB: 0.111345705529783296
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 90min, IOB: 0.1034546451340898304
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 99min, IOB: 0.09255634339488038912
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 102min, IOB: 0.08790016544829906944
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 108min, IOB: 0.16182350542776184832
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 127min, IOB: 0.1197547068898975744
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 138min, IOB: 0.012452687797477003264
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 139min, IOB: 0.0243111478503371264
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 140min, IOB: 0.02422400029557407232
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 140min, IOB: 0.024142562347444352
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 165min, IOB: 0.06055427298963398656
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 172min, IOB: 0.013052911172819382272
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 185min, IOB: 0.009877152791432210432
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 198min, IOB: 0.07130533393972170752
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 201min, IOB: 0.05350136136956430336
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 207min, IOB: 0.05414617258478424064
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 212min, IOB: 0.04234462241996819456
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 222min, IOB: 0.01495780096883540992
  SMB-Basal IOB: 1.0184404790400903168U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0184404790400903168U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:56:59 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7564486654955442176 U
  Наш Basal IOB: 1.0184404790400903168 U
  Наш Total IOB: 2.7748891445356345344 U
  РАЗНИЦА: 2.7748891445356345344 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 23мин, остаток: 97.3%, IOB: 0.097U
  Bolus: 0.05U, возраст: 31мин, остаток: 93.5%, IOB: 0.047U
  Bolus: 0U, возраст: 47мин, остаток: 83.6%, IOB: 0.000U
  SMB: 0.2U, возраст: 57мин, остаток: 76.1%, IOB: 0.152U
  SMB: 0.2U, возраст: 70мин, остаток: 66.7%, IOB: 0.133U
  SMB: 0.2U, возраст: 75мин, остаток: 62.6%, IOB: 0.125U
  SMB: 0.2U, возраст: 79мин, остаток: 60.0%, IOB: 0.120U
  SMB: 0.2U, возраст: 85мин, остаток: 55.7%, IOB: 0.111U
  SMB: 0.2U, возраст: 90мин, остаток: 51.7%, IOB: 0.103U
  SMB: 0.2U, возраст: 99мин, остаток: 46.3%, IOB: 0.093U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7564486654955442176
  Custom Basal IOB: 1.0184404790400903168
  Custom Total IOB: 2.7748891445356345344
  Difference: 2.7748891445356345344
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7748891445356345344
  Difference: 2.7748891445356345344
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 23min, IOB: 0.09730655005884325888
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 31min, IOB: 0.0467117102251017728
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 57min, IOB: 0.15199943463050031104
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 70min, IOB: 0.13320856957738921984
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 75min, IOB: 0.12509876245749311488
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 79min, IOB: 0.11987280330507008
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 85min, IOB: 0.11122786098171748352
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 90min, IOB: 0.10334061189621592064
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 99min, IOB: 0.09244864664254398464
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 102min, IOB: 0.08779552851134957568
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 108min, IOB: 0.16162416591356422144
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 127min, IOB: 0.11959044115205763072
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 138min, IOB: 0.01243459137868414976
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 140min, IOB: 0.02427556013866055168
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 140min, IOB: 0.02418850187093755392
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 140min, IOB: 0.0241071474857075968
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 165min, IOB: 0.06045278817697150976
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 172min, IOB: 0.01303012475358606336
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 185min, IOB: 0.009858540688892461056
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 199min, IOB: 0.0711582592562117632
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 201min, IOB: 0.05338899977805340672
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 207min, IOB: 0.05402716580287046656
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 212min, IOB: 0.04224786254706663424
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 222min, IOB: 0.014920590040344981504
  SMB-Basal IOB: 1.0173757340135149568U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0173757340135149568U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:57:04 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7543152172698341376 U
  Наш Basal IOB: 1.0173757340135149568 U
  Наш Total IOB: 2.7716909512833490944 U
  РАЗНИЦА: 2.7716909512833490944 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 23мин, остаток: 97.3%, IOB: 0.097U
  Bolus: 0.05U, возраст: 31мин, остаток: 93.4%, IOB: 0.047U
  Bolus: 0U, возраст: 47мин, остаток: 83.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 57мин, остаток: 76.0%, IOB: 0.152U
  SMB: 0.2U, возраст: 70мин, остаток: 66.6%, IOB: 0.133U
  SMB: 0.2U, возраст: 75мин, остаток: 62.5%, IOB: 0.125U
  SMB: 0.2U, возраст: 79мин, остаток: 59.9%, IOB: 0.120U
  SMB: 0.2U, возраст: 85мин, остаток: 55.6%, IOB: 0.111U
  SMB: 0.2U, возраст: 90мин, остаток: 51.7%, IOB: 0.103U
  SMB: 0.2U, возраст: 99мин, остаток: 46.2%, IOB: 0.092U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7543152172698341376
  Custom Basal IOB: 1.0173757340135149568
  Custom Total IOB: 2.7716909512833490944
  Difference: 2.7716909512833490944
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7716909512833490944
  Difference: 2.7716909512833490944
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 23min, IOB: 0.09727491493587951616
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 31min, IOB: 0.0466893812638031872
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 57min, IOB: 0.15187573809463676928
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 70min, IOB: 0.13308419914730391552
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 75min, IOB: 0.1249760432246414336
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 79min, IOB: 0.11975164914719686656
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 85min, IOB: 0.11111006377229369344
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 91min, IOB: 0.10322663438969597952
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 99min, IOB: 0.0923410142837904384
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 102min, IOB: 0.0876909587147846656
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 108min, IOB: 0.16142496691822891008
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 127min, IOB: 0.11942632110498963456
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 138min, IOB: 0.012416512613758734336
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 140min, IOB: 0.02424000752903183872
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 140min, IOB: 0.02415303851685220352
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 140min, IOB: 0.02407176766478034944
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 165min, IOB: 0.0603514226563995136
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 172min, IOB: 0.0130073663497117184
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 185min, IOB: 0.009839953322563186688
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 199min, IOB: 0.0710113973067771904
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 201min, IOB: 0.05327680336712218624
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 207min, IOB: 0.0539083411296752128
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 212min, IOB: 0.04215125579840928256
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 222min, IOB: 0.014883442379812499456
  SMB-Basal IOB: 1.0163112673088960512U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0163112673088960512U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:57:09 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7521831936321388544 U
  Наш Basal IOB: 1.0163112673088960512 U
  Наш Total IOB: 2.7684944609410349056 U
  РАЗНИЦА: 2.7684944609410349056 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 23мин, остаток: 97.3%, IOB: 0.097U
  Bolus: 0.05U, возраст: 31мин, остаток: 93.4%, IOB: 0.047U
  Bolus: 0U, возраст: 47мин, остаток: 83.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 57мин, остаток: 75.9%, IOB: 0.152U
  SMB: 0.2U, возраст: 70мин, остаток: 66.5%, IOB: 0.133U
  SMB: 0.2U, возраст: 75мин, остаток: 62.5%, IOB: 0.125U
  SMB: 0.2U, возраст: 79мин, остаток: 59.9%, IOB: 0.120U
  SMB: 0.2U, возраст: 85мин, остаток: 55.6%, IOB: 0.111U
  SMB: 0.2U, возраст: 91мин, остаток: 51.6%, IOB: 0.103U
  SMB: 0.2U, возраст: 99мин, остаток: 46.2%, IOB: 0.092U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7521831936321388544
  Custom Basal IOB: 1.0163112673088960512
  Custom Total IOB: 2.7684944609410349056
  Difference: 2.7684944609410349056
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7684944609410349056
  Difference: 2.7684944609410349056
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 23min, IOB: 0.09724313575793907712
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 31min, IOB: 0.04666700562145977344
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 57min, IOB: 0.15175204743217211392
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 70min, IOB: 0.13295988195816163328
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 75min, IOB: 0.124853391596740608
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 79min, IOB: 0.1196305702919120896
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 85min, IOB: 0.11099235222209435648
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 91min, IOB: 0.10311274966124077056
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 99min, IOB: 0.09223348126618486784
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 102min, IOB: 0.0875864899975929856
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 108min, IOB: 0.16122597305463089152
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 127min, IOB: 0.11926239989326979072
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 138min, IOB: 0.012398457352207521792
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 140min, IOB: 0.0242045015236338432
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 140min, IOB: 0.02411762170646224384
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 140min, IOB: 0.02403643433063081984
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 165min, IOB: 0.0602502091689751552
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 172min, IOB: 0.012984643308888987648
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 185min, IOB: 0.009821396688700936192
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 199min, IOB: 0.07086479542577908736
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 201min, IOB: 0.05316480829175416832
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 207min, IOB: 0.05378973683879868416
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 212min, IOB: 0.04205483327908537344
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 222min, IOB: 0.014846369937606862848
  SMB-Basal IOB: 1.0152475771998007296U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0152475771998007296U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:57:14 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7500532866059218944 U
  Наш Basal IOB: 1.0152475771998007296 U
  Наш Total IOB: 2.765300863805722624 U
  РАЗНИЦА: 2.765300863805722624 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 23мин, остаток: 97.2%, IOB: 0.097U
  Bolus: 0.05U, возраст: 31мин, остаток: 93.3%, IOB: 0.047U
  Bolus: 0U, возраст: 47мин, остаток: 83.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 57мин, остаток: 75.9%, IOB: 0.152U
  SMB: 0.2U, возраст: 70мин, остаток: 66.5%, IOB: 0.133U
  SMB: 0.2U, возраст: 75мин, остаток: 62.4%, IOB: 0.125U
  SMB: 0.2U, возраст: 79мин, остаток: 59.8%, IOB: 0.120U
  SMB: 0.2U, возраст: 85мин, остаток: 55.5%, IOB: 0.111U
  SMB: 0.2U, возраст: 91мин, остаток: 51.6%, IOB: 0.103U
  SMB: 0.2U, возраст: 99мин, остаток: 46.1%, IOB: 0.092U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7500532866059218944
  Custom Basal IOB: 1.0152475771998007296
  Custom Total IOB: 2.765300863805722624
  Difference: 2.765300863805722624
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.765300863805722624
  Difference: 2.765300863805722624
  Show Custom: true
FetchGlucoseManager.swift - subscribe() - 63 DEV: FetchGlucoseManager heartbeat
FetchGlucoseManager.swift - subscribe() - 64 DEV: Start fetching glucose
FetchTreatmentsManager.swift - subscribe() - 26 DEV: FetchTreatmentsManager heartbeat
FetchTreatmentsManager.swift - subscribe() - 27 DEV: Start fetching carbs and temptargets
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5Bcarbs%5D%5B$exists%5D=true&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:57:18.335Z
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary+Target&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bduration%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:57:18.338Z
Retrieved peripheral E926E760-258A-38B6-1809-3D3BC7BC94A7
Making peripheral active: E926E760-258A-38B6-1809-3D3BC7BC94A7
HealthKitManager.swift - fetch() - 298 DEV: Start fetching HealthKitManager
HealthKitManager.swift - fetch() - 300 DEV: HealthKitManager cant return any data, because useAppleHealth option is disable
FetchGlucoseManager.swift - subscribe() - 75 DEV: SyncDate is 2025-09-23 01:52:08 +0000
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 23min, IOB: 0.09721121071173128192
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 31min, IOB: 0.04664458182210630656
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 57min, IOB: 0.15162835352686178304
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 70min, IOB: 0.13283560867747598336
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 75min, IOB: 0.12473079831251484672
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 79min, IOB: 0.11950955756623671296
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 85min, IOB: 0.11087471736915560448
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 91min, IOB: 0.10299894900537536512
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 99min, IOB: 0.09212603932878700544
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 103min, IOB: 0.0874821143184044032
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 108min, IOB: 0.161027168962058752
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 128min, IOB: 0.11909866476269838336
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 138min, IOB: 0.01238042418395004928
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 140min, IOB: 0.02416903934827246592
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 140min, IOB: 0.02408224867235994112
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 140min, IOB: 0.02400114472220331008
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 165min, IOB: 0.06014913974627948544
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 172min, IOB: 0.012961953838438567936
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 185min, IOB: 0.009802869317854881792
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 199min, IOB: 0.07071844195477430272
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 201min, IOB: 0.05305300563812159488
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 208min, IOB: 0.0536713434704187392
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 213min, IOB: 0.04195858728453093888
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 223min, IOB: 0.014809369739568453632
  SMB-Basal IOB: 1.0141846503306719232U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0141846503306719232U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:57:19 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7479253322801795072 U
  Наш Basal IOB: 1.0141846503306719232 U
  Наш Total IOB: 2.7621099826108514304 U
  РАЗНИЦА: 2.7621099826108514304 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 23мин, остаток: 97.2%, IOB: 0.097U
  Bolus: 0.05U, возраст: 31мин, остаток: 93.3%, IOB: 0.047U
  Bolus: 0U, возраст: 47мин, остаток: 83.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 57мин, остаток: 75.8%, IOB: 0.152U
  SMB: 0.2U, возраст: 70мин, остаток: 66.4%, IOB: 0.133U
  SMB: 0.2U, возраст: 75мин, остаток: 62.4%, IOB: 0.125U
  SMB: 0.2U, возраст: 79мин, остаток: 59.8%, IOB: 0.120U
  SMB: 0.2U, возраст: 85мин, остаток: 55.4%, IOB: 0.111U
  SMB: 0.2U, возраст: 91мин, остаток: 51.5%, IOB: 0.103U
  SMB: 0.2U, возраст: 99мин, остаток: 46.1%, IOB: 0.092U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7479253322801795072
  Custom Basal IOB: 1.0141846503306719232
  Custom Total IOB: 2.7621099826108514304
  Difference: 2.7621099826108514304
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7621099826108514304
  Difference: 2.7621099826108514304
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 23min, IOB: 0.09717911053052710912
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 31min, IOB: 0.04662208919320594432
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 58min, IOB: 0.15150454178816628736
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 70min, IOB: 0.13271126407949049856
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 76min, IOB: 0.12460814967285870592
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 79min, IOB: 0.1193884987194345472
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 85min, IOB: 0.11075705007075647488
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 91min, IOB: 0.10288512681687842816
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 99min, IOB: 0.09201858874389837824
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 103min, IOB: 0.08737773478668705792
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 108min, IOB: 0.16082837006901221376
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 128min, IOB: 0.11893496364438222848
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 138min, IOB: 0.012362396357855234048
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 140min, IOB: 0.02413358806123020288
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 140min, IOB: 0.02404688655553586176
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 140min, IOB: 0.023965866057894016
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 165min, IOB: 0.0600481204710024704
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 172min, IOB: 0.012939276852631246848
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 185min, IOB: 0.009784353989534375936
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 199min, IOB: 0.0705722008403670016
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 201min, IOB: 0.05294129146855999488
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 208min, IOB: 0.05355305095063706624
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 213min, IOB: 0.04186242832561494528
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 223min, IOB: 0.01477240737776041984
  SMB-Basal IOB: 1.0131212188373151744U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0131212188373151744U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:57:24 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7457973554239203328 U
  Наш Basal IOB: 1.0131212188373151744 U
  Наш Total IOB: 2.7589185742612355072 U
  РАЗНИЦА: 2.7589185742612355072 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 23мин, остаток: 97.2%, IOB: 0.097U
  Bolus: 0.05U, возраст: 31мин, остаток: 93.2%, IOB: 0.047U
  Bolus: 0U, возраст: 47мин, остаток: 83.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 58мин, остаток: 75.8%, IOB: 0.152U
  SMB: 0.2U, возраст: 70мин, остаток: 66.4%, IOB: 0.133U
  SMB: 0.2U, возраст: 76мин, остаток: 62.3%, IOB: 0.125U
  SMB: 0.2U, возраст: 79мин, остаток: 59.7%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.4%, IOB: 0.111U
  SMB: 0.2U, возраст: 91мин, остаток: 51.4%, IOB: 0.103U
  SMB: 0.2U, возраст: 99мин, остаток: 46.0%, IOB: 0.092U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7457973554239203328
  Custom Basal IOB: 1.0131212188373151744
  Custom Total IOB: 2.7589185742612355072
  Difference: 2.7589185742612355072
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7589185742612355072
  Difference: 2.7589185742612355072
  Show Custom: true
SMB-Basal: tick() - processing basal replacement
SMB-Basal: Updated compensation units: 0 U from 0 failed pulses
SMB-Basal: Current temp basal rate: 0 U/h, remaining: 1 min, isZero: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 23min, IOB: 0.09714688305434959872
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 31min, IOB: 0.04659956109730926592
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 58min, IOB: 0.15138079509479002112
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 70min, IOB: 0.13258703169343471616
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 76min, IOB: 0.12448562666063097856
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 79min, IOB: 0.11926757236400996352
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 85min, IOB: 0.11063952390012452864
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 91min, IOB: 0.10277145096908750848
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 99min, IOB: 0.09191128795480147968
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 103min, IOB: 0.08727350530461594624
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 108min, IOB: 0.1606298694595617792
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 128min, IOB: 0.11877153779876810752
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 139min, IOB: 0.012344400438948169728
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 140min, IOB: 0.02409819990101460992
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 140min, IOB: 0.02401158746295939584
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 140min, IOB: 0.02393065032156923904
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 165min, IOB: 0.05994730015109076992
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 172min, IOB: 0.01291664575327413248
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 185min, IOB: 0.009765877971499538432
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 199min, IOB: 0.07042628741627764736
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 202min, IOB: 0.05282983027172595712
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 208min, IOB: 0.05343503343912300544
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 213min, IOB: 0.041766497964774016
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 223min, IOB: 0.01473553725822212096
  SMB-Basal IOB: 1.0120590039206463488U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0120590039206463488U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:57:29 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7436724937019621376 U
  Наш Basal IOB: 1.0120590039206463488 U
  Наш Total IOB: 2.7557314976226084864 U
  РАЗНИЦА: 2.7557314976226084864 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 23мин, остаток: 97.1%, IOB: 0.097U
  Bolus: 0.05U, возраст: 31мин, остаток: 93.2%, IOB: 0.047U
  Bolus: 0U, возраст: 47мин, остаток: 83.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 58мин, остаток: 75.7%, IOB: 0.151U
  SMB: 0.2U, возраст: 70мин, остаток: 66.3%, IOB: 0.133U
  SMB: 0.2U, возраст: 76мин, остаток: 62.2%, IOB: 0.124U
  SMB: 0.2U, возраст: 79мин, остаток: 59.6%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.3%, IOB: 0.111U
  SMB: 0.2U, возраст: 91мин, остаток: 51.4%, IOB: 0.103U
  SMB: 0.2U, возраст: 99мин, остаток: 46.0%, IOB: 0.092U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7436724937019621376
  Custom Basal IOB: 1.0120590039206463488
  Custom Total IOB: 2.7557314976226084864
  Difference: 2.7557314976226084864
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7557314976226084864
  Difference: 2.7557314976226084864
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 23min, IOB: 0.09711449199488999424
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 32min, IOB: 0.04657697198330551296
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 58min, IOB: 0.15125697220264450048
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 70min, IOB: 0.13246276956145180672
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 76min, IOB: 0.12436308922075441152
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 79min, IOB: 0.11914664024143239168
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 85min, IOB: 0.11052200444488998912
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 91min, IOB: 0.1026577914204611584
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 99min, IOB: 0.09180401417436225536
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 103min, IOB: 0.08716930658478082048
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 109min, IOB: 0.16043143991524814848
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 128min, IOB: 0.11860820006210985984
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 139min, IOB: 0.01232641581245014016
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 140min, IOB: 0.02406283432843167744
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 140min, IOB: 0.02397631095729772544
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 140min, IOB: 0.02389545717122640896
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 165min, IOB: 0.05984656323469647872
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 172min, IOB: 0.012894034599018143744
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 185min, IOB: 0.009747420080152813568
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 199min, IOB: 0.07028053434016101376
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 202min, IOB: 0.05271849421023064064
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 208min, IOB: 0.05331715556037078016
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 213min, IOB: 0.04167068614928311296
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 223min, IOB: 0.014698717071960047616
  SMB-Basal IOB: 1.0109969410159607808U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0109969410159607808U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:57:34 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7415483153216100352 U
  Наш Basal IOB: 1.0109969410159607808 U
  Наш Total IOB: 2.752545256337570816 U
  РАЗНИЦА: 2.752545256337570816 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 23мин, остаток: 97.1%, IOB: 0.097U
  Bolus: 0.05U, возраст: 32мин, остаток: 93.2%, IOB: 0.047U
  Bolus: 0U, возраст: 47мин, остаток: 83.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 58мин, остаток: 75.6%, IOB: 0.151U
  SMB: 0.2U, возраст: 70мин, остаток: 66.2%, IOB: 0.132U
  SMB: 0.2U, возраст: 76мин, остаток: 62.2%, IOB: 0.124U
  SMB: 0.2U, возраст: 79мин, остаток: 59.6%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.3%, IOB: 0.111U
  SMB: 0.2U, возраст: 91мин, остаток: 51.3%, IOB: 0.103U
  SMB: 0.2U, возраст: 99мин, остаток: 45.9%, IOB: 0.092U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7415483153216100352
  Custom Basal IOB: 1.0109969410159607808
  Custom Total IOB: 2.752545256337570816
  Difference: 2.752545256337570816
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.752545256337570816
  Difference: 2.752545256337570816
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 23min, IOB: 0.09708191154045394944
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 32min, IOB: 0.04655430382214281216
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 58min, IOB: 0.1511329741503916032
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 70min, IOB: 0.13233837834843992064
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 76min, IOB: 0.12424043938994188288
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 79min, IOB: 0.11902560566798491648
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 85min, IOB: 0.11040439774436839424
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 91min, IOB: 0.10254405729238566912
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 99min, IOB: 0.0916966816253472768
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 103min, IOB: 0.08706505530717591552
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 109min, IOB: 0.16023292276245925888
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 128min, IOB: 0.11844481981392279552
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 139min, IOB: 0.01230842809586009088
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 140min, IOB: 0.02402746306119981056
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 140min, IOB: 0.02394102882749019136
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 141min, IOB: 0.02386025846245879808
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 165min, IOB: 0.05974582916063535104
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 173min, IOB: 0.012871425307409043456
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 185min, IOB: 0.009728965554755313664
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 199min, IOB: 0.0701348250578604032
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 202min, IOB: 0.05260719425291613184
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 208min, IOB: 0.0531993230543049216
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 213min, IOB: 0.04157491626580811776
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 223min, IOB: 0.014661917378427879424
  SMB-Basal IOB: 1.0099336354358790144U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0099336354358790144U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:57:39 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7394231219441401856 U
  Наш Basal IOB: 1.0099336354358790144 U
  Наш Total IOB: 2.7493567573800192 U
  РАЗНИЦА: 2.7493567573800192 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 23мин, остаток: 97.1%, IOB: 0.097U
  Bolus: 0.05U, возраст: 32мин, остаток: 93.1%, IOB: 0.047U
  Bolus: 0U, возраст: 47мин, остаток: 83.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 58мин, остаток: 75.6%, IOB: 0.151U
  SMB: 0.2U, возраст: 70мин, остаток: 66.2%, IOB: 0.132U
  SMB: 0.2U, возраст: 76мин, остаток: 62.1%, IOB: 0.124U
  SMB: 0.2U, возраст: 79мин, остаток: 59.5%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.2%, IOB: 0.110U
  SMB: 0.2U, возраст: 91мин, остаток: 51.3%, IOB: 0.103U
  SMB: 0.2U, возраст: 99мин, остаток: 45.8%, IOB: 0.092U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7394231219441401856
  Custom Basal IOB: 1.0099336354358790144
  Custom Total IOB: 2.7493567573800192
  Difference: 2.7493567573800192
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7493567573800192
  Difference: 2.7493567573800192
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 23min, IOB: 0.09704926405936361472
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 32min, IOB: 0.04653164149330236416
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 58min, IOB: 0.15100926397824346112
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 70min, IOB: 0.13221432233550290944
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 76min, IOB: 0.12411813487752609792
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 79min, IOB: 0.1189049202841984
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 85min, IOB: 0.11028714258865512448
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 91min, IOB: 0.10243067287939094528
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 99min, IOB: 0.09158969066524055552
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 103min, IOB: 0.0869611403144699392
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 109min, IOB: 0.16003505838346596352
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 128min, IOB: 0.1182820062533986304
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 139min, IOB: 0.012290504353084413952
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 140min, IOB: 0.02399221797288515584
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 140min, IOB: 0.02390587261452140032
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 141min, IOB: 0.0238251854249991424
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 165min, IOB: 0.05964547340824708096
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 173min, IOB: 0.012848902147758102528
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 185min, IOB: 0.009710583171172583424
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 199min, IOB: 0.06998970252379621376
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 202min, IOB: 0.05249634512437485568
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 208min, IOB: 0.0530819749579549696
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 213min, IOB: 0.04147954512693861376
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 223min, IOB: 0.014625275265783476224
  SMB-Basal IOB: 1.0088739574866638848U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0088739574866638848U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:57:44 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7373048402042738688 U
  Наш Basal IOB: 1.0088739574866638848 U
  Наш Total IOB: 2.7461787976909377536 U
  РАЗНИЦА: 2.7461787976909377536 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 23мин, остаток: 97.0%, IOB: 0.097U
  Bolus: 0.05U, возраст: 32мин, остаток: 93.1%, IOB: 0.047U
  Bolus: 0U, возраст: 47мин, остаток: 83.1%, IOB: 0.000U
  SMB: 0.2U, возраст: 58мин, остаток: 75.5%, IOB: 0.151U
  SMB: 0.2U, возраст: 70мин, остаток: 66.1%, IOB: 0.132U
  SMB: 0.2U, возраст: 76мин, остаток: 62.1%, IOB: 0.124U
  SMB: 0.2U, возраст: 79мин, остаток: 59.5%, IOB: 0.119U
  SMB: 0.2U, возраст: 85мин, остаток: 55.1%, IOB: 0.110U
  SMB: 0.2U, возраст: 91мин, остаток: 51.2%, IOB: 0.102U
  SMB: 0.2U, возраст: 99мин, остаток: 45.8%, IOB: 0.092U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7373048402042738688
  Custom Basal IOB: 1.0088739574866638848
  Custom Total IOB: 2.7461787976909377536
  Difference: 2.7461787976909377536
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7461787976909377536
  Difference: 2.7461787976909377536
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 23min, IOB: 0.09701642482055049216
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 32min, IOB: 0.04650889816500100096
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 58min, IOB: 0.15088536646839238656
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 71min, IOB: 0.13209012475695689728
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 76min, IOB: 0.1239957055794033664
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 80min, IOB: 0.11878412016993343488
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 86min, IOB: 0.11016978818628538368
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 91min, IOB: 0.10231720222582591488
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 99min, IOB: 0.0914826298672910848
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 103min, IOB: 0.08685716198761945088
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 109min, IOB: 0.1598370858073946112
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 128min, IOB: 0.11811913307943657472
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 139min, IOB: 0.01227257562918880256
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 140min, IOB: 0.0239569634694557952
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 140min, IOB: 0.02387070706603419648
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 141min, IOB: 0.02379010312625366016
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 165min, IOB: 0.05954510981014910976
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 173min, IOB: 0.01282637844622174208
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 185min, IOB: 0.009692202182621954048
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 199min, IOB: 0.0698446081481201152
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 202min, IOB: 0.05238552014578468864
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 208min, IOB: 0.05296465954882761728
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 213min, IOB: 0.04138420558919023616
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 223min, IOB: 0.01458864965867121664
  SMB-Basal IOB: 1.0078131304321216512U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0078131304321216512U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:57:49 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7351853239346098176 U
  Наш Basal IOB: 1.0078131304321216512 U
  Наш Total IOB: 2.7429984543667314688 U
  РАЗНИЦА: 2.7429984543667314688 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 23мин, остаток: 97.0%, IOB: 0.097U
  Bolus: 0.05U, возраст: 32мин, остаток: 93.0%, IOB: 0.047U
  Bolus: 0U, возраст: 48мин, остаток: 83.0%, IOB: 0.000U
  SMB: 0.2U, возраст: 58мин, остаток: 75.4%, IOB: 0.151U
  SMB: 0.2U, возраст: 71мин, остаток: 66.0%, IOB: 0.132U
  SMB: 0.2U, возраст: 76мин, остаток: 62.0%, IOB: 0.124U
  SMB: 0.2U, возраст: 80мин, остаток: 59.4%, IOB: 0.119U
  SMB: 0.2U, возраст: 86мин, остаток: 55.1%, IOB: 0.110U
  SMB: 0.2U, возраст: 91мин, остаток: 51.2%, IOB: 0.102U
  SMB: 0.2U, возраст: 99мин, остаток: 45.7%, IOB: 0.091U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7351853239346098176
  Custom Basal IOB: 1.0078131304321216512
  Custom Total IOB: 2.7429984543667314688
  Difference: 2.7429984543667314688
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7429984543667314688
  Difference: 2.7429984543667314688
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 23min, IOB: 0.09698343329869688832
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 32min, IOB: 0.04648610113423644672
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 58min, IOB: 0.15076143012336873472
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 71min, IOB: 0.1319659344398844928
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 76min, IOB: 0.12387329819283857408
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 80min, IOB: 0.1186633500642646016
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 86min, IOB: 0.11005247513914617856
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 91min, IOB: 0.10220378127380045824
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 100min, IOB: 0.09137562748677075968
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 103min, IOB: 0.08675324488636250112
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 109min, IOB: 0.15963924218586437632
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 128min, IOB: 0.11795639538214111232
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 139min, IOB: 0.012254663398564921344
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 140min, IOB: 0.02392174177735715328
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 141min, IOB: 0.02383557430190518272
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 141min, IOB: 0.02375505358636516864
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 166min, IOB: 0.05944485857207748608
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 173min, IOB: 0.012803881179267772416
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 186min, IOB: 0.009673844603666096128
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 199min, IOB: 0.06969971570721478656
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 202min, IOB: 0.05227485204988483584
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 208min, IOB: 0.0528475173334819328
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 213min, IOB: 0.04128901183942941184
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 223min, IOB: 0.014552084423605919744
  SMB-Basal IOB: 1.0067526272995569664U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0067526272995569664U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:57:54 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.733067112380194816 U
  Наш Basal IOB: 1.0067526272995569664 U
  Наш Total IOB: 2.7398197396797517824 U
  РАЗНИЦА: 2.7398197396797517824 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 23мин, остаток: 97.0%, IOB: 0.097U
  Bolus: 0.05U, возраст: 32мин, остаток: 93.0%, IOB: 0.046U
  Bolus: 0U, возраст: 48мин, остаток: 83.0%, IOB: 0.000U
  SMB: 0.2U, возраст: 58мин, остаток: 75.4%, IOB: 0.151U
  SMB: 0.2U, возраст: 71мин, остаток: 66.0%, IOB: 0.132U
  SMB: 0.2U, возраст: 76мин, остаток: 61.9%, IOB: 0.124U
  SMB: 0.2U, возраст: 80мин, остаток: 59.3%, IOB: 0.119U
  SMB: 0.2U, возраст: 86мин, остаток: 55.0%, IOB: 0.110U
  SMB: 0.2U, возраст: 91мин, остаток: 51.1%, IOB: 0.102U
  SMB: 0.2U, возраст: 100мин, остаток: 45.7%, IOB: 0.091U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.733067112380194816
  Custom Basal IOB: 1.0067526272995569664
  Custom Total IOB: 2.7398197396797517824
  Difference: 2.7398197396797517824
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7398197396797517824
  Difference: 2.7398197396797517824
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 24min, IOB: 0.09695029047193602048
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 32min, IOB: 0.04646325094171703296
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 58min, IOB: 0.15063745722185521152
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 71min, IOB: 0.13184175354869264384
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 76min, IOB: 0.12375091481350201344
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 80min, IOB: 0.11854261201352599552
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 86min, IOB: 0.10993520540418981888
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 91min, IOB: 0.1020904118910193664
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 100min, IOB: 0.0912686852571611136
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 103min, IOB: 0.0866493906832018944
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 109min, IOB: 0.1594415306730457088
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 128min, IOB: 0.11779379568669288448
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 139min, IOB: 0.01223676793557967872
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 140min, IOB: 0.0238865534352478976
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 141min, IOB: 0.02380047485930944512
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 141min, IOB: 0.02372003734112098304
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 166min, IOB: 0.05934472118694982656
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 173min, IOB: 0.01278141067947679744
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 186min, IOB: 0.009655510702137085952
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 199min, IOB: 0.069555027283417344
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 202min, IOB: 0.05216434242241492992
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 208min, IOB: 0.05273054997782894592
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 213min, IOB: 0.0411939652226787584
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 223min, IOB: 0.014515580069806819328
  SMB-Basal IOB: 1.0056922529213970432U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0056922529213970432U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:57:59 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7309502397225080832 U
  Наш Basal IOB: 1.0056922529213970432 U
  Наш Total IOB: 2.7366424926439051264 U
  РАЗНИЦА: 2.7366424926439051264 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 24мин, остаток: 97.0%, IOB: 0.097U
  Bolus: 0.05U, возраст: 32мин, остаток: 92.9%, IOB: 0.046U
  Bolus: 0U, возраст: 48мин, остаток: 82.9%, IOB: 0.000U
  SMB: 0.2U, возраст: 58мин, остаток: 75.3%, IOB: 0.151U
  SMB: 0.2U, возраст: 71мин, остаток: 65.9%, IOB: 0.132U
  SMB: 0.2U, возраст: 76мин, остаток: 61.9%, IOB: 0.124U
  SMB: 0.2U, возраст: 80мин, остаток: 59.3%, IOB: 0.119U
  SMB: 0.2U, возраст: 86мин, остаток: 55.0%, IOB: 0.110U
  SMB: 0.2U, возраст: 91мин, остаток: 51.0%, IOB: 0.102U
  SMB: 0.2U, возраст: 100мин, остаток: 45.6%, IOB: 0.091U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7309502397225080832
  Custom Basal IOB: 1.0056922529213970432
  Custom Total IOB: 2.7366424926439051264
  Difference: 2.7366424926439051264
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7366424926439051264
  Difference: 2.7366424926439051264
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 24min, IOB: 0.09691698112556029952
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 32min, IOB: 0.04644033699828148224
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 58min, IOB: 0.15051338982631348224
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 71min, IOB: 0.13171752396134035456
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 76min, IOB: 0.12362849813310240768
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 80min, IOB: 0.11842184946431770624
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 86min, IOB: 0.10981792403011262464
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 91min, IOB: 0.10197704093616576512
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 100min, IOB: 0.09116175302919432192
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 103min, IOB: 0.08654555066903745536
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 109min, IOB: 0.1592438585178496
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 128min, IOB: 0.11763125766456070144
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 139min, IOB: 0.012218880837141624832
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 141min, IOB: 0.02385138191931456512
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 141min, IOB: 0.02376539225609362432
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 141min, IOB: 0.02368503794735619584
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 166min, IOB: 0.05924465060473025536
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 173min, IOB: 0.0127589563873642496
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 186min, IOB: 0.009637191860150829056
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 200min, IOB: 0.06941047484576391168
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 202min, IOB: 0.05205393929998240768
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 208min, IOB: 0.05261370247421479936
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 213min, IOB: 0.04109902103489824256
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 223min, IOB: 0.01447911942344322048
  SMB-Basal IOB: 1.0046319101633302528U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0046319101633302528U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:58:04 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7288337132462895104 U
  Наш Basal IOB: 1.0046319101633302528 U
  Наш Total IOB: 2.7334656234096197632 U
  РАЗНИЦА: 2.7334656234096197632 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 24мин, остаток: 96.9%, IOB: 0.097U
  Bolus: 0.05U, возраст: 32мин, остаток: 92.9%, IOB: 0.046U
  Bolus: 0U, возраст: 48мин, остаток: 82.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 58мин, остаток: 75.3%, IOB: 0.151U
  SMB: 0.2U, возраст: 71мин, остаток: 65.9%, IOB: 0.132U
  SMB: 0.2U, возраст: 76мин, остаток: 61.8%, IOB: 0.124U
  SMB: 0.2U, возраст: 80мин, остаток: 59.2%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 54.9%, IOB: 0.110U
  SMB: 0.2U, возраст: 91мин, остаток: 51.0%, IOB: 0.102U
  SMB: 0.2U, возраст: 100мин, остаток: 45.6%, IOB: 0.091U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7288337132462895104
  Custom Basal IOB: 1.0046319101633302528
  Custom Total IOB: 2.7334656234096197632
  Difference: 2.7334656234096197632
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7334656234096197632
  Difference: 2.7334656234096197632
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 24min, IOB: 0.09688357988082788352
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 32min, IOB: 0.04641741040535021568
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 58min, IOB: 0.15038950348565260288
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 71min, IOB: 0.13159352137985486848
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 76min, IOB: 0.12350631976440766464
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 80min, IOB: 0.11830133032192970752
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 86min, IOB: 0.10970089114522605568
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 92min, IOB: 0.10186391982135887872
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 100min, IOB: 0.09105506788580032512
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 103min, IOB: 0.08644195505133688832
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 109min, IOB: 0.15904666389450371072
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 128min, IOB: 0.117469141483372032
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 139min, IOB: 0.012201041732614455296
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 141min, IOB: 0.02381630515145497088
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 141min, IOB: 0.02373040421693984256
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 141min, IOB: 0.0236501329451886336
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 166min, IOB: 0.05914486845331150848
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 173min, IOB: 0.01273656802800815104
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 186min, IOB: 0.009618928637722288128
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 200min, IOB: 0.06926637838514881536
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 202min, IOB: 0.05194388706843219968
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 208min, IOB: 0.05249723344723313664
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 213min, IOB: 0.04100438940243409408
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 223min, IOB: 0.014442783161747120128
  SMB-Basal IOB: 1.0035738495316733952U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0035738495316733952U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:58:09 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7267222251498563584 U
  Наш Basal IOB: 1.0035738495316733952 U
  Наш Total IOB: 2.7302960746815297536 U
  РАЗНИЦА: 2.7302960746815297536 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 24мин, остаток: 96.9%, IOB: 0.097U
  Bolus: 0.05U, возраст: 32мин, остаток: 92.8%, IOB: 0.046U
  Bolus: 0U, возраст: 48мин, остаток: 82.8%, IOB: 0.000U
  SMB: 0.2U, возраст: 58мин, остаток: 75.2%, IOB: 0.150U
  SMB: 0.2U, возраст: 71мин, остаток: 65.8%, IOB: 0.132U
  SMB: 0.2U, возраст: 76мин, остаток: 61.8%, IOB: 0.124U
  SMB: 0.2U, возраст: 80мин, остаток: 59.2%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 54.9%, IOB: 0.110U
  SMB: 0.2U, возраст: 92мин, остаток: 50.9%, IOB: 0.102U
  SMB: 0.2U, возраст: 100мин, остаток: 45.5%, IOB: 0.091U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7267222251498563584
  Custom Basal IOB: 1.0035738495316733952
  Custom Total IOB: 2.7302960746815297536
  Difference: 2.7302960746815297536
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7302960746815297536
  Difference: 2.7302960746815297536
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 24min, IOB: 0.09685000110632861696
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 32min, IOB: 0.04639441218304556032
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 58min, IOB: 0.1502654784972032
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 71min, IOB: 0.1314694256199288832
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 76min, IOB: 0.12338406417559580672
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 80min, IOB: 0.11818074330682146816
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 86min, IOB: 0.10958380442690015232
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 92min, IOB: 0.10175075629135450112
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 100min, IOB: 0.09094835415515031552
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 103min, IOB: 0.08633833612437933056
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 109min, IOB: 0.1588494371771974656
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 128min, IOB: 0.1173070280636655616
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 139min, IOB: 0.01218320450115643392
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 141min, IOB: 0.0237812324435731968
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 141min, IOB: 0.02369542028295230464
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 141min, IOB: 0.02361523209022107648
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 166min, IOB: 0.0590451166877267456
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 173min, IOB: 0.01271418769911297024
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 186min, IOB: 0.009600673795167623168
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 200min, IOB: 0.06912236512599144448
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 202min, IOB: 0.05183390101572626432
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 208min, IOB: 0.05238084156168640512
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 213min, IOB: 0.04090982547325144064
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 223min, IOB: 0.014406477253942013952
  SMB-Basal IOB: 1.0025151760053413888U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0025151760053413888U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:58:14 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7246103190580789248 U
  Наш Basal IOB: 1.0025151760053413888 U
  Наш Total IOB: 2.7271254950634203136 U
  РАЗНИЦА: 2.7271254950634203136 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 24мин, остаток: 96.8%, IOB: 0.097U
  Bolus: 0.05U, возраст: 32мин, остаток: 92.8%, IOB: 0.046U
  Bolus: 0U, возраст: 48мин, остаток: 82.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 58мин, остаток: 75.1%, IOB: 0.150U
  SMB: 0.2U, возраст: 71мин, остаток: 65.7%, IOB: 0.131U
  SMB: 0.2U, возраст: 76мин, остаток: 61.7%, IOB: 0.123U
  SMB: 0.2U, возраст: 80мин, остаток: 59.1%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 54.8%, IOB: 0.110U
  SMB: 0.2U, возраст: 92мин, остаток: 50.9%, IOB: 0.102U
  SMB: 0.2U, возраст: 100мин, остаток: 45.5%, IOB: 0.091U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7246103190580789248
  Custom Basal IOB: 1.0025151760053413888
  Custom Total IOB: 2.7271254950634203136
  Difference: 2.7271254950634203136
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7271254950634203136
  Difference: 2.7271254950634203136
  Show Custom: true
centralManager(_:didConnect:): <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
didConnect to E926E760-258A-38B6-1809-3D3BC7BC94A7
assertConfiguration
Configured peripheral has no services. Reconfiguring…
Discovering servicesToDiscover [F8083532-849E-531C-C594-30F1F86A4EA5]
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [DXCMHK]: Sensor connected
discoverServices [F8083532-849E-531C-C594-30F1F86A4EA5]
all uuids: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
knownCharacteristicUUIDs: []
characteristicsToDiscover: [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5]
Discovering characteristics [F8083535-849E-531C-C594-30F1F86A4EA5, F8083534-849E-531C-C594-30F1F86A4EA5, F8083536-849E-531C-C594-30F1F86A4EA5] for <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
Peripheral configuration completed
Delegate configuration completed
Listening for authentication responses for Optional("DXCMHK")
Set notify true for <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
Ignoring authentication response: 03053ee0ae4398af9447e67ca2671b38bc
Observed authenticated session. enabling notifications for control characteristic.
Set notify true for <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
Received control response: 4e00290d0c004e0a000106009e00060cd4000f
Listening for backfill responses
Set notify true for <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = connected>
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [DXCMHK]: Sensor didRead G7GlucoseMessage(glucose:Optional(158), sequence:2638 glucoseIsDisplayOnly:false state:ok messageTimestamp:789801 age:6, data:4e00290d0c004e0a000106009e00060cd4000f)
FetchGlucoseManager.swift - subscribe() - 75 DEV: SyncDate is 2025-09-23 01:52:08 +0000
FetchGlucoseManager.swift - subscribe() - 84 DEV: New glucose found
DeviceDataManager.swift - updatePumpData() - 215 DEV: Start updating the pump data
DeviceDataManager.swift - updatePumpData() - 218 DEV: Waiting for pump update and loop recommendation
Skipping status update because pumpData is fresh
DeviceDataManager.swift - updatePumpData() - 221 DEV: Pump data updated.
DeviceDataManager.swift - pumpManager(_:didUpdate:oldStatus:) - 386 DEV: New pump status Bolus: noBolus
DeviceDataManager.swift - pumpManager(_:didUpdate:oldStatus:) - 387 DEV: New pump status Basal: Optional(LoopKit.PumpManagerStatus.BasalDeliveryState.active(2025-09-23 00:57:54 +0000))
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/entries.json
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/entries.json
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/entries.json
UserNotificationsManager.swift - ensureCanSendNotification(_:) - 313 DEV: Sending notification was allowed
Received control response: 3200014b000000600035eb070003010275ec0700
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [DXCMHK]: Sensor comms 3200014b000000600035eb070003010275ec0700
Received control response: ea00030100000000000200000045ffffff
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [DXCMHK]: Sensor comms ea00030100000000000200000045ffffff
UserNotificationsManager.swift - addRequest(identifier:content:deleteOld:trigger:) - 341 DEV: Sending glucocoseNotification notification
NightscoutManager.swift - uploadGlucose(_:fileToSave:) - 681 DEV: Internal Server Error
FetchGlucoseManager.swift - subscribe() - 63 DEV: FetchGlucoseManager heartbeat
FetchGlucoseManager.swift - subscribe() - 64 DEV: Start fetching glucose
FetchTreatmentsManager.swift - subscribe() - 26 DEV: FetchTreatmentsManager heartbeat
FetchTreatmentsManager.swift - subscribe() - 27 DEV: Start fetching carbs and temptargets
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5Bcarbs%5D%5B$exists%5D=true&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:58:18.327Z
NetworkService.swift - run(_:) - 17 DEV: GET  ***/api/v1/treatments.json?find%5BeventType%5D=Temporary+Target&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5BenteredBy%5D%5B$ne%5D=freeaps-x&find%5Bduration%5D%5B$exists%5D=true&find%5Bcreated_at%5D%5B$gt%5D=2025-09-22T01:58:18.333Z
HealthKitManager.swift - fetch() - 298 DEV: Start fetching HealthKitManager
HealthKitManager.swift - fetch() - 300 DEV: HealthKitManager cant return any data, because useAppleHealth option is disable
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 24min, IOB: 0.09681628067689336832
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 32min, IOB: 0.04637136681538840576
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 58min, IOB: 0.15014144647163799552
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 71min, IOB: 0.1313453682904200192
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 76min, IOB: 0.12326186099967062016
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 80min, IOB: 0.118060216269035008
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 86min, IOB: 0.10946678799430795264
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 92min, IOB: 0.10163767029097703424
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 100min, IOB: 0.09084172492766287872
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 104min, IOB: 0.08623480369191169024
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 109min, IOB: 0.15865238734588602368
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 129min, IOB: 0.11714508913681752064
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 139min, IOB: 0.012165388036104271872
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 141min, IOB: 0.02374620094445795328
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 141min, IOB: 0.02366047750881761792
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 141min, IOB: 0.0235803723490750976
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 166min, IOB: 0.0589455009411757568
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 173min, IOB: 0.012691839099216736256
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 186min, IOB: 0.009582446660640256
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 200min, IOB: 0.06897858753267683328
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 202min, IOB: 0.05172409757984758784
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 209min, IOB: 0.05226465003093228544
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 214min, IOB: 0.04081542934920649728
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 224min, IOB: 0.014370240128583145472
  SMB-Basal IOB: 1.0014570620771381248U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0014570620771381248U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:58:19 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.722500233071343616 U
  Наш Basal IOB: 1.0014570620771381248 U
  Наш Total IOB: 2.7239572951484817408 U
  РАЗНИЦА: 2.7239572951484817408 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 24мин, остаток: 96.8%, IOB: 0.097U
  Bolus: 0.05U, возраст: 32мин, остаток: 92.7%, IOB: 0.046U
  Bolus: 0U, возраст: 48мин, остаток: 82.7%, IOB: 0.000U
  SMB: 0.2U, возраст: 58мин, остаток: 75.1%, IOB: 0.150U
  SMB: 0.2U, возраст: 71мин, остаток: 65.7%, IOB: 0.131U
  SMB: 0.2U, возраст: 76мин, остаток: 61.6%, IOB: 0.123U
  SMB: 0.2U, возраст: 80мин, остаток: 59.0%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 54.7%, IOB: 0.109U
  SMB: 0.2U, возраст: 92мин, остаток: 50.8%, IOB: 0.102U
  SMB: 0.2U, возраст: 100мин, остаток: 45.4%, IOB: 0.091U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.722500233071343616
  Custom Basal IOB: 1.0014570620771381248
  Custom Total IOB: 2.7239572951484817408
  Difference: 2.7239572951484817408
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7239572951484817408
  Difference: 2.7239572951484817408
  Show Custom: true
centralManager(_:didDisconnectPeripheral:error:): <CBPeripheral: 0x1587cb720, identifier = E926E760-258A-38B6-1809-3D3BC7BC94A7, name = DXCMHK, mtu = 23, state = disconnected>
Sensor disconnected: wasRemoteDisconnect:true
DexcomSourceG7.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 127 DEV: G7 event [DXCMHK]: Sensor disconnected: suspectedEndOfSession=false
Retrieved peripheral E926E760-258A-38B6-1809-3D3BC7BC94A7
Making peripheral active: E926E760-258A-38B6-1809-3D3BC7BC94A7
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 24min, IOB: 0.09678238550550935552
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 32min, IOB: 0.04634825159854419968
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 59min, IOB: 0.150017284764460032
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 71min, IOB: 0.13122122664037216256
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 77min, IOB: 0.12313958929457303552
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 80min, IOB: 0.11793962991082164224
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 86min, IOB: 0.1093497260035423232
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 92min, IOB: 0.10152454985087551488
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 100min, IOB: 0.0907350746077507584
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 104min, IOB: 0.08613125521773505536
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 109min, IOB: 0.15845531922674122752
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 129min, IOB: 0.11698316425989425152
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 139min, IOB: 0.012147574683270248448
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 141min, IOB: 0.02371117594114743296
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 141min, IOB: 0.02362554126941312512
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 141min, IOB: 0.02354551917883247616
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 166min, IOB: 0.05884592247855538176
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 173min, IOB: 0.012669500075815503872
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 186min, IOB: 0.009564229164845484032
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 200min, IOB: 0.068834903054648576
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 202min, IOB: 0.05161436789180396544
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 209min, IOB: 0.05214854364528587776
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 214min, IOB: 0.04072110742707127808
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 224min, IOB: 0.014334035848949796864
  SMB-Basal IOB: 1.0003989334391918592U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 1.0003989334391918592U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:58:24 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7203898775404589056 U
  Наш Basal IOB: 1.0003989334391918592 U
  Наш Total IOB: 2.7207888109796507648 U
  РАЗНИЦА: 2.7207888109796507648 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 24мин, остаток: 96.8%, IOB: 0.097U
  Bolus: 0.05U, возраст: 32мин, остаток: 92.7%, IOB: 0.046U
  Bolus: 0U, возраст: 48мин, остаток: 82.6%, IOB: 0.000U
  SMB: 0.2U, возраст: 59мин, остаток: 75.0%, IOB: 0.150U
  SMB: 0.2U, возраст: 71мин, остаток: 65.6%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 61.6%, IOB: 0.123U
  SMB: 0.2U, возраст: 80мин, остаток: 59.0%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 54.7%, IOB: 0.109U
  SMB: 0.2U, возраст: 92мин, остаток: 50.8%, IOB: 0.102U
  SMB: 0.2U, возраст: 100мин, остаток: 45.4%, IOB: 0.091U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7203898775404589056
  Custom Basal IOB: 1.0003989334391918592
  Custom Total IOB: 2.7207888109796507648
  Difference: 2.7207888109796507648
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7207888109796507648
  Difference: 2.7207888109796507648
  Show Custom: true
SMB-Basal: tick() - processing basal replacement
SMB-Basal: Updated compensation units: 0 U from 0 failed pulses
SMB-Basal: Temp basal expired, not zero anymore
APSManager.swift - enactTempBasal(rate:duration:) - 489 DEV: Enact temp basal 0.0 - 1800.0
APSManager.swift - enactTempBasalWithRetry(pump:rate:originalRate:duration:attempt:maxAttempts:) - 515 DEV: Temp basal attempt 1/3: 0.0U/h for 30 min
Scheduling session Enact Temp Basal
Triggering forceful reconnect
centralManager(_:didDisconnectPeripheral:error:): error=None <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = disconnected>
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: Pod disconnected EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7 nil
omnipodPeripheralDidDisconnect... will auto-reconnect
Reconnecting disconnected autoconnect peripheral
centralManager(_:didConnect:): <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = connected>
PeripheralManager - didConnect: <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = connected>
PeripheralManager - didConnect - running assertConfiguration
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: Pod connected EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7
Configured peripheral has no services. Reconfiguring <CBPeripheral: 0x156604700, identifier = EBF46251-2FE0-6FE3-B72C-F3D50DA1D7F7, name = TWI BOARD, mtu = 23, state = connected>
Applying configuration
didReadRSSI: -57
didDiscoverServices
Discovered service: <CBService: 0x158a91c00, isPrimary = YES, UUID = 1A7E4024-E3ED-4464-8B7E-751E03D0DC5F>
PodComms completeConfiguration: isPaired=true needsSessionEstablishment=true
Session Established
msgSequenceNumber: 3
Setting podState transport state to ## MessageTransportState
eapSeq: 1362
msgSeq: 3
nonceSeq: 0
messageNumber: 15
Scheduling session Post-connect status fetch
Delegate configuration notified
Peripheral configuration completed
======================== Enact Temp Basal ===========================
Enact temp basal 0.000U/hr for 1800s
Send(Hex): 17a8db2d3c071f05494e532e02821a
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d3c071f05494e532e02821a
Recv(Hex): 17a8db2d000a1d18040d78004044efff8322
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d000a1d18040d78004044efff8322
POD Response: StatusResponse(deliveryStatus:Запланированный базал, progressStatus:Норма, timeActive:73h31m, reservoirLevel:50+, insulinDelivered:103.70, bolusNotDelivered:0.00, lastProgrammingMessageSeqNum:15, alerts:slot7Expired)
DeviceDataManager.swift - pumpManager(_:didUpdate:oldStatus:) - 386 DEV: New pump status Bolus: noBolus
Send(Hex): 17a8db2d04201a0e494e532e01007901384000000000160e000000016b49d2000001eb49d2008010
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d04201a0e494e532e01007901384000000000160e000000016b49d2000001eb49d2008010
DeviceDataManager.swift - pumpManager(_:didUpdate:oldStatus:) - 387 DEV: New pump status Basal: Optional(LoopKit.PumpManagerStatus.BasalDeliveryState.initiatingTempBasal)
Recv(Hex): 17a8db2d080a1d28040d08004044efff016a
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d080a1d28040d08004044efff016a
POD Response: StatusResponse(deliveryStatus:Подается временный базал, progressStatus:Норма, timeActive:73h31m, reservoirLevel:50+, insulinDelivered:103.70, bolusNotDelivered:0.00, lastProgrammingMessageSeqNum:1, alerts:slot7Expired)
DeviceDataManager.swift - pumpManager(_:hasNewPumpEvents:lastReconciliation:replacePendingEvents:completion:) - 465 DEV: New pump events:
ВБС
ВБС
DU: Stored pod events: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно, Врем базал: 0 ед/ч 23/09/2025, 04:58:27 30 минут 0 секунд 0 ед Определенно]
Stored doses: [Врем базал: 0 ед/ч 23/09/2025, 04:28:14 30 минут 0 секунд 0 ед Определенно, Врем базал: 0 ед/ч 23/09/2025, 04:58:27 30 минут 0 секунд 0 ед Определенно]
APSManager.swift - enactTempBasalWithRetry(pump:rate:originalRate:duration:attempt:maxAttempts:) - 546 DEV: Temp basal succeeded on attempt 1/3
------------------------ Enact Temp Basal ---------------------------
Start of idle at Optional(2025-09-23 01:58:27 +0000)
======================== Post-connect status fetch ===========================
Send(Hex): 17a8db2d08030e010781da
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d08030e010781da
DeviceDataManager.swift - pumpManager(_:didUpdate:oldStatus:) - 386 DEV: New pump status Bolus: noBolus
DeviceDataManager.swift - pumpManager(_:didUpdate:oldStatus:) - 387 DEV: New pump status Basal: Optional(LoopKit.PumpManagerStatus.BasalDeliveryState.tempBasal(LoopKit.DoseEntry(type: LoopKit.DoseType.tempBasal, startDate: 2025-09-23 01:58:27 +0000, endDate: 2025-09-23 02:28:27 +0000, value: 0.0, unit: LoopKit.DoseUnit.unitsPerHour, deliveredUnits: nil, description: nil, insulinType: Optional(LoopKit.InsulinType.fiasp), automatic: Optional(true), manuallyEntered: false, syncIdentifier: nil, isMutable: true, wasProgrammedByPumpUI: false, scheduledBasalRate: nil)))
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
Recv(Hex): 17a8db2d0c0a1d28040d08004044efff026e
DeviceDataManager.swift - deviceManager(_:logEventForDeviceIdentifier:type:message:completion:) - 573 DEV: Device message: 17a8db2d0c0a1d28040d08004044efff026e
POD Response: StatusResponse(deliveryStatus:Подается временный базал, progressStatus:Норма, timeActive:73h31m, reservoirLevel:50+, insulinDelivered:103.70, bolusNotDelivered:0.00, lastProgrammingMessageSeqNum:1, alerts:slot7Expired)
DeviceDataManager.swift - pumpManager(_:hasNewPumpEvents:lastReconciliation:replacePendingEvents:completion:) - 465 DEV: New pump events:
ВБС
DU: Stored pod events: [Врем базал: 0 ед/ч 23/09/2025, 04:58:27 30 минут 0 секунд 0 ед Определенно]
Stored doses: [Врем базал: 0 ед/ч 23/09/2025, 04:58:27 30 минут 0 секунд 0 ед Определенно]
------------------------ Post-connect status fetch ---------------------------
Start of idle at Optional(2025-09-23 01:58:28 +0000)
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
NetworkService.swift - run(_:) - 17 DEV: POST  ***/api/v1/treatments.json
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 24min, IOB: 0.09674841340236204032
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 32min, IOB: 0.04632513300647556096
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 59min, IOB: 0.1498933492996171776
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 71min, IOB: 0.13109735632803121152
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 77min, IOB: 0.12301759929492764672
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 80min, IOB: 0.1178193296016596992
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 86min, IOB: 0.10923295367539218432
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 92min, IOB: 0.10141171886143993856
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 100min, IOB: 0.09062870850924505088
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 104min, IOB: 0.08602798711605092352
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 109min, IOB: 0.15825879688564185088
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 129min, IOB: 0.11682171678154702848
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 140min, IOB: 0.012129815408934080512
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 141min, IOB: 0.02367625764306015232
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 141min, IOB: 0.02359071151996240384
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 141min, IOB: 0.02351077229683109888
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 166min, IOB: 0.0587466661242011648
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 173min, IOB: 0.0126472345203601408
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 186min, IOB: 0.009546073404107481088
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 200min, IOB: 0.06869172251852388352
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 203min, IOB: 0.05150502568370214912
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 209min, IOB: 0.05203285434180366336
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 214min, IOB: 0.04062712934532408832
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 224min, IOB: 0.01429796789615864832
  SMB-Basal IOB: 0.9993436597196101632U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 0.9993436597196101632U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:58:29 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7182852934653595648 U
  Наш Basal IOB: 0.9993436597196101632 U
  Наш Total IOB: 2.717628953184969728 U
  РАЗНИЦА: 2.717628953184969728 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 24мин, остаток: 96.7%, IOB: 0.097U
  Bolus: 0.05U, возраст: 32мин, остаток: 92.7%, IOB: 0.046U
  Bolus: 0U, возраст: 48мин, остаток: 82.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 59мин, остаток: 74.9%, IOB: 0.150U
  SMB: 0.2U, возраст: 71мин, остаток: 65.5%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 61.5%, IOB: 0.123U
  SMB: 0.2U, возраст: 80мин, остаток: 58.9%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 54.6%, IOB: 0.109U
  SMB: 0.2U, возраст: 92мин, остаток: 50.7%, IOB: 0.101U
  SMB: 0.2U, возраст: 100мин, остаток: 45.3%, IOB: 0.091U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7182852934653595648
  Custom Basal IOB: 0.9993436597196101632
  Custom Total IOB: 2.717628953184969728
  Difference: 2.717628953184969728
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.717628953184969728
  Difference: 2.717628953184969728
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 24min, IOB: 0.09671422342232387584
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 33min, IOB: 0.0463019149909188096
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 59min, IOB: 0.14976912451721179136
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 71min, IOB: 0.130973241944211968
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 77min, IOB: 0.12289538337709176832
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 80min, IOB: 0.11769881472739452928
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 86min, IOB: 0.10911598504563355648
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 92min, IOB: 0.10129870773613031424
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 100min, IOB: 0.09052218392251001856
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 104min, IOB: 0.085924569560280576
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 110min, IOB: 0.15806200231887261696
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 129min, IOB: 0.11666007462268112896
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 140min, IOB: 0.012112036280514736128
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 141min, IOB: 0.0236413006830365952
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 141min, IOB: 0.02355584326181273088
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 141min, IOB: 0.0234759870492827392
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 166min, IOB: 0.05864731862597835776
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 173min, IOB: 0.012624949728065302528
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 186min, IOB: 0.009527903781487570944
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 200min, IOB: 0.06854844971646157824
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 203min, IOB: 0.05139561564652438528
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 209min, IOB: 0.0519171003685501952
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 214min, IOB: 0.04053310375247465472
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 224min, IOB: 0.014261886065211721728
  SMB-Basal IOB: 0.9982844536069750784U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 0.9982844536069750784U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:58:34 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7161777211446611968 U
  Наш Basal IOB: 0.9982844536069750784 U
  Наш Total IOB: 2.7144621747516362752 U
  РАЗНИЦА: 2.7144621747516362752 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 24мин, остаток: 96.7%, IOB: 0.097U
  Bolus: 0.05U, возраст: 33мин, остаток: 92.6%, IOB: 0.046U
  Bolus: 0U, возраст: 48мин, остаток: 82.5%, IOB: 0.000U
  SMB: 0.2U, возраст: 59мин, остаток: 74.9%, IOB: 0.150U
  SMB: 0.2U, возраст: 71мин, остаток: 65.5%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 61.4%, IOB: 0.123U
  SMB: 0.2U, возраст: 80мин, остаток: 58.8%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 54.6%, IOB: 0.109U
  SMB: 0.2U, возраст: 92мин, остаток: 50.6%, IOB: 0.101U
  SMB: 0.2U, возраст: 100мин, остаток: 45.3%, IOB: 0.091U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7161777211446611968
  Custom Basal IOB: 0.9982844536069750784
  Custom Total IOB: 2.7144621747516362752
  Difference: 2.7144621747516362752
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7144621747516362752
  Difference: 2.7144621747516362752
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 24min, IOB: 0.0966799171903739904
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 33min, IOB: 0.0462786665191670784
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 59min, IOB: 0.14964497919521091584
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 71min, IOB: 0.13084925189959657472
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 77min, IOB: 0.1227733043041634304
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 80min, IOB: 0.11757844299515000832
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 86min, IOB: 0.10899916728570488832
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 92min, IOB: 0.10118585189255831552
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 100min, IOB: 0.09041581700429821952
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 104min, IOB: 0.08582130948244409344
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 110min, IOB: 0.15786551958239746048
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 129min, IOB: 0.11649871749331591168
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 140min, IOB: 0.012094290060762646528
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 141min, IOB: 0.0236064088019276544
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 141min, IOB: 0.02352103997254859776
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 142min, IOB: 0.02344126666739728384
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 166min, IOB: 0.05854817480694519808
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 174min, IOB: 0.01260271183078658048
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 186min, IOB: 0.00950977421633618944
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 200min, IOB: 0.06840550981595884544
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 203min, IOB: 0.05128646245848480768
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 209min, IOB: 0.05180162522913350656
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 214min, IOB: 0.04043930967229266944
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 224min, IOB: 0.01422589743003577344
  SMB-Basal IOB: 0.9972278954491103232U (from 57 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 0.9972278954491103232U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:58:39 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7140734158069901312 U
  Наш Basal IOB: 0.9972278954491103232 U
  Наш Total IOB: 2.7113013112561004544 U
  РАЗНИЦА: 2.7113013112561004544 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 24мин, остаток: 96.7%, IOB: 0.097U
  Bolus: 0.05U, возраст: 33мин, остаток: 92.6%, IOB: 0.046U
  Bolus: 0U, возраст: 48мин, остаток: 82.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 59мин, остаток: 74.8%, IOB: 0.150U
  SMB: 0.2U, возраст: 71мин, остаток: 65.4%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 61.4%, IOB: 0.123U
  SMB: 0.2U, возраст: 80мин, остаток: 58.8%, IOB: 0.118U
  SMB: 0.2U, возраст: 86мин, остаток: 54.5%, IOB: 0.109U
  SMB: 0.2U, возраст: 92мин, остаток: 50.6%, IOB: 0.101U
  SMB: 0.2U, возраст: 100мин, остаток: 45.2%, IOB: 0.090U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7140734158069901312
  Custom Basal IOB: 0.9972278954491103232
  Custom Total IOB: 2.7113013112561004544
  Difference: 2.7113013112561004544
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7113013112561004544
  Difference: 2.7113013112561004544
  Show Custom: true
FreeAPSApp.swift - body - 53 DEV: APPLICATION PHASE: inactive
-[RTIInputSystemClient remoteTextInputSessionWithID:performInputOperation:]  perform input operation requires a valid sessionID. inputModality = Keyboard, inputOperation = dismissAutoFillPanel, customInfoType = UIUserInteractionRemoteInputOperations
FreeAPSApp.swift - body - 53 DEV: APPLICATION PHASE: active
FreeAPSApp.swift - body - 53 DEV: APPLICATION PHASE: inactive
-[RTIInputSystemClient remoteTextInputSessionWithID:performInputOperation:]  perform input operation requires a valid sessionID. inputModality = Keyboard, inputOperation = dismissAutoFillPanel, customInfoType = UIUserInteractionRemoteInputOperations
FreeAPSApp.swift - body - 53 DEV: APPLICATION PHASE: active
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 24min, IOB: 0.09664546545256163328
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 33min, IOB: 0.04625536757005299712
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 59min, IOB: 0.14952080544064772096
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 71min, IOB: 0.1307252782554756096
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 77min, IOB: 0.1226512557434187776
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 80min, IOB: 0.11745810952664047616
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 86min, IOB: 0.10888239856645787648
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 92min, IOB: 0.10107305291757613056
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 100min, IOB: 0.09030951495567443968
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 104min, IOB: 0.08571811677698231296
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 110min, IOB: 0.1576691771767552
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 129min, IOB: 0.11633750444341239808
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 140min, IOB: 0.012076561242077315072
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 141min, IOB: 0.0235715515079604736
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 141min, IOB: 0.02348627123761534464
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 142min, IOB: 0.0234065808088846336
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 166min, IOB: 0.0584491479592072704
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 174min, IOB: 0.0125805013758334976
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 186min, IOB: 0.009491668843590438912
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 200min, IOB: 0.06826277767524481024
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 203min, IOB: 0.05117747054906551296
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 209min, IOB: 0.0516863277949815296
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 214min, IOB: 0.04034566494764575232
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 224min, IOB: 0.014189970453376200704
  SMB-Basal IOB: 0.9951743861835859968U (from 56 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 0.9951743861835859968U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:58:44 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7119705412211380224 U
  Наш Basal IOB: 0.9951743861835859968 U
  Наш Total IOB: 2.7071449274047240192 U
  РАЗНИЦА: 2.7071449274047240192 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 24мин, остаток: 96.6%, IOB: 0.097U
  Bolus: 0.05U, возраст: 33мин, остаток: 92.5%, IOB: 0.046U
  Bolus: 0U, возраст: 48мин, остаток: 82.4%, IOB: 0.000U
  SMB: 0.2U, возраст: 59мин, остаток: 74.8%, IOB: 0.150U
  SMB: 0.2U, возраст: 71мин, остаток: 65.4%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 61.3%, IOB: 0.123U
  SMB: 0.2U, возраст: 80мин, остаток: 58.7%, IOB: 0.117U
  SMB: 0.2U, возраст: 86мин, остаток: 54.4%, IOB: 0.109U
  SMB: 0.2U, возраст: 92мин, остаток: 50.5%, IOB: 0.101U
  SMB: 0.2U, возраст: 100мин, остаток: 45.2%, IOB: 0.090U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7119705412211380224
  Custom Basal IOB: 0.9951743861835859968
  Custom Total IOB: 2.7071449274047240192
  Difference: 2.7071449274047240192
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7071449274047240192
  Difference: 2.7071449274047240192
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 24min, IOB: 0.09661086694191771648
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 33min, IOB: 0.04623201715799340032
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 59min, IOB: 0.14939659735754883072
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 72min, IOB: 0.13060131500724670464
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 77min, IOB: 0.12252923174594297856
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 81min, IOB: 0.1173378084352768
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 87min, IOB: 0.10876567314490406912
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 92min, IOB: 0.10096030523910119424
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 100min, IOB: 0.09020327249691249664
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 104min, IOB: 0.085614986307569152
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 110min, IOB: 0.15747296529901170688
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 129min, IOB: 0.11617642735426031616
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 140min, IOB: 0.012058848928024803328
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 141min, IOB: 0.02353672703777108992
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 141min, IOB: 0.02345153529800406016
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 142min, IOB: 0.02337192771881215488
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 166min, IOB: 0.05835023303239409664
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 174min, IOB: 0.012558317227985471488
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 186min, IOB: 0.00947358673422543872
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 200min, IOB: 0.06812024593806664704
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 203min, IOB: 0.05106863429608097792
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 209min, IOB: 0.05157120210570000384
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 214min, IOB: 0.0402521647284805888
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 224min, IOB: 0.01415410326684329984
  SMB-Basal IOB: 0.9941215154240638976U (from 56 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 0.9941215154240638976U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:58:49 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7098689928000739328 U
  Наш Basal IOB: 0.9941215154240638976 U
  Наш Total IOB: 2.7039905082241378304 U
  РАЗНИЦА: 2.7039905082241378304 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 24мин, остаток: 96.6%, IOB: 0.097U
  Bolus: 0.05U, возраст: 33мин, остаток: 92.5%, IOB: 0.046U
  Bolus: 0U, возраст: 49мин, остаток: 82.3%, IOB: 0.000U
  SMB: 0.2U, возраст: 59мин, остаток: 74.7%, IOB: 0.149U
  SMB: 0.2U, возраст: 72мин, остаток: 65.3%, IOB: 0.131U
  SMB: 0.2U, возраст: 77мин, остаток: 61.3%, IOB: 0.123U
  SMB: 0.2U, возраст: 81мин, остаток: 58.7%, IOB: 0.117U
  SMB: 0.2U, возраст: 87мин, остаток: 54.4%, IOB: 0.109U
  SMB: 0.2U, возраст: 92мин, остаток: 50.5%, IOB: 0.101U
  SMB: 0.2U, возраст: 100мин, остаток: 45.1%, IOB: 0.090U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7098689928000739328
  Custom Basal IOB: 0.9941215154240638976
  Custom Total IOB: 2.7039905082241378304
  Difference: 2.7039905082241378304
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7039905082241378304
  Difference: 2.7039905082241378304
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 24min, IOB: 0.09657611586365943808
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 33min, IOB: 0.04620861126059633664
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 59min, IOB: 0.14927233299176515584
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 72min, IOB: 0.1304773401416035328
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 77min, IOB: 0.12240721061027022848
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 81min, IOB: 0.11721751830759112704
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 87min, IOB: 0.10864897021741584384
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 92min, IOB: 0.10084758874142332928
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 101min, IOB: 0.09009707064827142144
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 104min, IOB: 0.08551189964090681344
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 110min, IOB: 0.15727684885278124032
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 129min, IOB: 0.1160154573543599104
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 140min, IOB: 0.01204114994077749248
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 141min, IOB: 0.02350192914265884672
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 142min, IOB: 0.0234168259207936
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 142min, IOB: 0.02333730117902615552
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 167min, IOB: 0.0582514122434823168
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 174min, IOB: 0.0125361553968851968
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 187min, IOB: 0.009455524632741998592
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 200min, IOB: 0.0679778889165627904
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 203min, IOB: 0.05095993408049805312
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 209min, IOB: 0.05145622739801160704
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 214min, IOB: 0.0401587921444595968
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 224min, IOB: 0.01411828939272972288
  SMB-Basal IOB: 0.993068814006710272U (from 56 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 0.993068814006710272U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:58:54 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7077683950192717824 U
  Наш Basal IOB: 0.993068814006710272 U
  Наш Total IOB: 2.7008372090259820544 U
  РАЗНИЦА: 2.7008372090259820544 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 24мин, остаток: 96.6%, IOB: 0.097U
  Bolus: 0.05U, возраст: 33мин, остаток: 92.4%, IOB: 0.046U
  Bolus: 0U, возраст: 49мин, остаток: 82.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 59мин, остаток: 74.6%, IOB: 0.149U
  SMB: 0.2U, возраст: 72мин, остаток: 65.2%, IOB: 0.130U
  SMB: 0.2U, возраст: 77мин, остаток: 61.2%, IOB: 0.122U
  SMB: 0.2U, возраст: 81мин, остаток: 58.6%, IOB: 0.117U
  SMB: 0.2U, возраст: 87мин, остаток: 54.3%, IOB: 0.109U
  SMB: 0.2U, возраст: 92мин, остаток: 50.4%, IOB: 0.101U
  SMB: 0.2U, возраст: 101мин, остаток: 45.0%, IOB: 0.090U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7077683950192717824
  Custom Basal IOB: 0.993068814006710272
  Custom Total IOB: 2.7008372090259820544
  Difference: 2.7008372090259820544
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.7008372090259820544
  Difference: 2.7008372090259820544
  Show Custom: true
🔍 СИСТЕМНЫЙ IOB ДИАГНОСТИКА:
  Suggestion IOB: 0
  Raw IOB Result: nil
  IOBEntry: не удалось распарсить
  COB: 0
  Timestamp: 2025-09-23 01:53:26 +0000
  Reason: Warning: currenttemp rate 0.75 != lastTemp rate 0 from pumphistory; canceling temp
  Bolus: 0.1U at 2025-09-23 01:33:55 +0000, age: 25min, IOB: 0.09654125676095868928
  Bolus: 0.05U at 2025-09-23 01:25:30 +0000, age: 33min, IOB: 0.04618517969166999552
  Bolus: 0.2U at 2025-09-23 00:59:23 +0000, age: 59min, IOB: 0.14914816968666320896
  Bolus: 0.2U at 2025-09-23 00:46:49 +0000, age: 72min, IOB: 0.130353510461042688
  Bolus: 0.2U at 2025-09-23 00:41:21 +0000, age: 77min, IOB: 0.12228534661221787648
  Bolus: 0.2U at 2025-09-23 00:37:47 +0000, age: 81min, IOB: 0.11709739119925805056
  Bolus: 0.2U at 2025-09-23 00:31:45 +0000, age: 87min, IOB: 0.10853243725940094976
  Bolus: 0.2U at 2025-09-23 00:26:05 +0000, age: 92min, IOB: 0.1007350458260694016
  Bolus: 0.2U at 2025-09-23 00:17:54 +0000, age: 101min, IOB: 0.0899910435381300224
  Bolus: 0.2U at 2025-09-23 00:14:15 +0000, age: 104min, IOB: 0.08540898695444752384
  Bolus: 0.4U at 2025-09-23 00:08:33 +0000, age: 110min, IOB: 0.15708107544767381504
  Bolus: 0.4U at 2025-09-22 23:49:16 +0000, age: 129min, IOB: 0.1158547975725021184
  Bolus: 0.050000000000000044U at 2025-09-22 23:38:25 +0000, age: 140min, IOB: 0.012023486609190797312
  Bolus: 0.1U at 2025-09-22 23:37:02 +0000, age: 141min, IOB: 0.02346720172195482112
  Bolus: 0.1U at 2025-09-22 23:36:50 +0000, age: 142min, IOB: 0.02338218689345042432
  Bolus: 0.1U at 2025-09-22 23:36:38 +0000, age: 142min, IOB: 0.02330274487230815232
  Bolus: 0.4U at 2025-09-22 23:11:51 +0000, age: 167min, IOB: 0.05815281019544928256
  Bolus: 0.1U at 2025-09-22 23:04:38 +0000, age: 174min, IOB: 0.01251404382232963072
  Bolus: 0.1U at 2025-09-22 22:51:49 +0000, age: 187min, IOB: 0.009437505304397688832
  Bolus: 1U at 2025-09-22 22:38:03 +0000, age: 200min, IOB: 0.06783588598176382976
  Bolus: 0.8U at 2025-09-22 22:35:29 +0000, age: 203min, IOB: 0.05085150685727305728
  Bolus: 0.95U at 2025-09-22 22:29:17 +0000, age: 209min, IOB: 0.0513415485103150592
  Bolus: 0.85U at 2025-09-22 22:24:17 +0000, age: 214min, IOB: 0.0400656648054707968
  Bolus: 0.4U at 2025-09-22 22:14:16 +0000, age: 224min, IOB: 0.014082573928120195072
  SMB-Basal IOB: 0.9920176702492608512U (from 56 pulses)
  Regular Basal IOB: 0U (SMB-basal замещает обычный базал)
  Total Basal IOB: 0.9920176702492608512U
🚨 КРИТИЧНАЯ ДИАГНОСТИКА IOB:
  Время расчета: 2025-09-23 01:58:59 +0000
  Системный IOB: 0 U
  Наш Bolus IOB: 1.7056714005120577536 U
  Наш Basal IOB: 0.9920176702492608512 U
  Наш Total IOB: 2.6976890707613186048 U
  РАЗНИЦА: 2.6976890707613186048 U
🚨 КРИТИЧНО: Разница больше 1U! Требуется анализ!
🔍 АНАЛИЗ РАЗЛИЧИЙ IOB:
📊 Модель инсулина:
  Длительность действия: 5.166666666666667 часов
  Пик активности: 55.0 минут
📋 Активные болюсы (последние 5 часов):
  SMB: 0.1U, возраст: 25мин, остаток: 96.5%, IOB: 0.097U
  Bolus: 0.05U, возраст: 33мин, остаток: 92.4%, IOB: 0.046U
  Bolus: 0U, возраст: 49мин, остаток: 82.2%, IOB: 0.000U
  SMB: 0.2U, возраст: 59мин, остаток: 74.6%, IOB: 0.149U
  SMB: 0.2U, возраст: 72мин, остаток: 65.2%, IOB: 0.130U
  SMB: 0.2U, возраст: 77мин, остаток: 61.1%, IOB: 0.122U
  SMB: 0.2U, возраст: 81мин, остаток: 58.5%, IOB: 0.117U
  SMB: 0.2U, возраст: 87мин, остаток: 54.3%, IOB: 0.109U
  SMB: 0.2U, возраст: 92мин, остаток: 50.4%, IOB: 0.101U
  SMB: 0.2U, возраст: 101мин, остаток: 45.0%, IOB: 0.090U
  ... и еще 20 болюсов
🎯 Возможные причины различий:
  1. Разные модели инсулина (OpenAPS vs наша)
  2. Разные временные зоны или расчеты возраста
  3. Разные наборы данных (мы учитываем больше болюсов)
  4. Middleware корректирует системный IOB
  5. SMB-basal IOB не учитывается в системном расчете
🧮 Custom IOB Calculator:
  System IOB: 0
  Custom Bolus IOB: 1.7056714005120577536
  Custom Basal IOB: 0.9920176702492608512
  Custom Total IOB: 2.6976890707613186048
  Difference: 2.6976890707613186048
🧮 Custom IOB Update:
  System IOB: 0
  Custom IOB: 2.6976890707613186048
  Difference: 2.6976890707613186048
  Show Custom: true