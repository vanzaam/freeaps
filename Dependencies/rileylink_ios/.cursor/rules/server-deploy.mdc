---
description: FreeAPS X server deployment (if needed)
globs: ["**/*.swift", "**/*.sh", "**/*.yml", "**/*.yaml"]
alwaysApply: true
---

# FreeAPS X Server Deployment Rules

## FreeAPS X Server Components (Optional)
**Note**: FreeAPS X is primarily a local iOS app. Server deployment is optional and only needed for specific features.

## Local Development Focus
- **Primary Goal**: Improve FreeAPS X iOS app performance
- **Eliminate freezes and lags** from iAPS implementation
- **Focus on local processing** and optimization
- **Server deployment is secondary** to app improvements

## FreeAPS X Architecture
- **Local Processing**: All core functionality runs locally on iOS device
- **Nightscout Integration**: Direct connection to user's Nightscout instance
- **No Backend Dependency**: App works independently without external servers
- **Performance First**: Optimized for speed and reliability

## Optional Server Features (If Implemented)
If FreeAPS X needs server components in the future:

### Development Server Setup
```bash
# If server is needed for specific features
cd freeapsx-server  # (if created)
./scripts/setup.sh
```

### Server Endpoints (Hypothetical)
- **Health Check**: `/health`
- **Data Sync**: `/sync` (if needed)
- **Settings Backup**: `/settings` (if needed)

### Deployment Commands (If Server Exists)
```bash
# Deploy to server (if implemented)
cd freeapsx-server
./scripts/deploy.sh

# Check logs (if server exists)
ssh server "journalctl -u freeapsx-backend -n 20 --no-pager"
```

## FreeAPS X Priority
1. **iOS App Performance**: Eliminate freezes and lags
2. **Local Processing**: Optimize on-device operations
3. **Memory Management**: Prevent crashes and memory leaks
4. **UI Responsiveness**: Smooth animations and transitions
5. **Server Features**: Only if absolutely necessary

## Development Workflow
1. **Focus on iOS app improvements**
2. **Test performance on real devices**
3. **Optimize memory usage**
4. **Eliminate UI blocking operations**
5. **Server deployment only if needed**

## Performance Monitoring
- **Memory Usage**: Monitor app memory consumption
- **CPU Usage**: Track processing efficiency
- **Network Operations**: Optimize async operations
- **UI Responsiveness**: Test for smooth interactions
- **Battery Usage**: Optimize for power efficiency

## Best Practices for FreeAPS X
- **Local First**: Keep all critical functionality local
- **Performance Focus**: Prioritize speed and reliability
- **Minimal Dependencies**: Reduce external service reliance
- **User Experience**: Smooth, responsive interface
- **Stability**: Eliminate crashes and freezes

---

*FreeAPS X is designed to be a high-performance, local-first iOS application that improves upon iAPS by eliminating performance issues and providing a smoother user experience.*